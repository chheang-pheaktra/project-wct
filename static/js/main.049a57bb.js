/*! For license information please see main.049a57bb.js.LICENSE.txt */
!function(){var e={463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),_e(e.stateNode,e.type,t))}}function Se(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==xe||null!==Ie)&&(Ne(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,_t,xt,It,Et,St=!1,Tt=[],Ct=null,Nt=null,Rt=null,Pt=new Map,At=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Rt&&jt(Rt)&&(Rt=null),Pt.forEach(Ut),At.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==Rt&&zt(Rt,e),Pt.forEach(t),At.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&bt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),hn=F({},cn,{view:0,detail:0}),fn=an(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},hn,{relatedTarget:0})),gn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),wn=an(F({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return In}var Sn=F({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Pn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,be(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},xr={},Ir={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Rr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Or=Pr[Dr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(Sr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Cr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=be(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Sr:case Tr:case Cr:u=gn;break;case Nr:u=Rn;break;case"scroll":u=fn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Ae(p,f))&&l.push(Hr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:wi(u),d=null==c?s:wi(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=f;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Gr(l),f=Gr(f)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==h&&Qr(o,h,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Jn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(g=Kr(r,k)).length&&(k=new wn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=zn(n))&&(k.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ae(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Ae(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,mi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var _i=[],xi=-1;function Ii(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Si(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ri=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ni),Ei(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Si(Ci,e)):Ei(Ni),Si(Ni,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Ji="";function Xi(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else $i=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ii(null),ya=null,ka=null,wa=null;function ba(){wa=ka=ya=null}function _a(e){var t=ga.current;Ei(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ya=e,wa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,l=c=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=F({},h,f);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=h}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ai(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ai(t)?Ri:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,h=m}if(v===s.length)return n(i,h),ia&&Xi(i,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return ia&&Xi(i,v),c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===h?l=k:h.sibling=k,h=k,v=g}if(y.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,m),null===h?l=y:h.sibling=y,h=y);return ia&&Xi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?l=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case A:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Ja=Ya(!1),Xa={},Za=Ii(Xa),eo=Ii(Xa),to=Ii(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Si(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Ii(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,wo=0,bo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,wo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,ho.current=cs,e=n(r,i)}while(ko)}if(ho.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==wo;return wo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var h=l.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,vo.lanes|=h,Fu|=h}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ao(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{kt=n,fo.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ru)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ru.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Jo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),fs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=w.ReactCurrentOwner,ws=!1;function bs(e,t,n,r){t.child=null===e?Ja(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ou,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ou,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ou,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ou,Du),Du|=r;return bs(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ai(n)?Ri:Ci.current;return a=Pi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Ai(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)Ws(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Ai(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Ra=!1;var f=t.memoizedState;o.state=f,Fa(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ni.current||Ra?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Ra||Ba(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Pi(t,u=Ai(n)?Ri:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&Wa(t,o,r,u),Ra=!1,f=t.memoizedState,o.state=f,Fa(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Ni.current||Ra?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Ra||Ba(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var As,Ds,Os,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Ji,Gi[Qi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ai(t.type)&&Di(),Gs(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ds(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Ds(e,t),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Je()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ai(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var hu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=hu,i=fu;hu=null,du(e,t,n),fu=i,null!==(hu=r)&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=fu,hu=n.stateNode.containerInfo,fu=!0,du(e,t,n),hu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,du(e,t,n),Js=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,fu=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===hu)throw Error(a(160));pu(o,s,i),hu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):k(i,h,f,l)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Je())),4&r&&vu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||h,mu(t,e),Js=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(f=Zs=h;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(f);continue}}null!==p?(p.return=d,Zs=p):_u(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=$s;var c=Js;if($s=o,(Js=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,wu(a,t,n),a=a.sibling;Zs=i,$s=s,Js=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Iu,Eu=Math.ceil,Su=w.ReactCurrentDispatcher,Tu=w.ReactCurrentOwner,Cu=w.ReactCurrentBatchConfig,Nu=0,Ru=null,Pu=null,Au=0,Du=0,Ou=Ii(0),Lu=0,Mu=null,Fu=0,ju=0,Uu=0,Vu=null,zu=null,Bu=0,qu=1/0,Wu=null,Hu=!1,Ku=null,Gu=null,Qu=!1,Yu=null,$u=0,Ju=0,Xu=null,Zu=-1,ec=0;function tc(){return 0!==(6&Nu)?Je():-1!==Zu?Zu:Zu=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Au?Au&-Au:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,Xu=null,Error(a(185));gt(e,n,r),0!==(2&Nu)&&e===Ru||(e===Ru&&(0===(2&Nu)&&(ju|=n),4===Lu&&uc(e,Au)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(qu=Je()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Ru?Au:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Nu)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ru?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Nu;Nu|=2;var o=vc();for(Ru===e&&Au===t||(Wu=null,qu=Je()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}ba(),Su.current=o,Nu=i,null!==Pu?t=0:(Ru=null,Au=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zu,Wu),t);break}_c(e,zu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zu,Wu),r);break}_c(e,zu,Wu);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Uu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(a(327));xc();var t=ft(e,0);if(0===(1&t))return ic(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zu,Wu),ic(e,Je()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(qu=Je()+500,Ui&&Bi())}}function hc(e){null!==Yu&&0===Yu.tag&&0===(6&Nu)&&xc();var t=Nu;Nu|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Nu=t))&&Bi()}}function fc(){Du=Ou.current,Ei(Ou)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ni),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ru=e,Pu=e=Oc(e.current,null),Au=Du=t,Lu=0,Mu=null,Uu=ju=Fu=0,zu=Vu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(ba(),ho.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,wo=0,Tu.current=null,null===n||null===n.return){Lu=1,Mu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Au,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(w){t=w,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Su.current;return Su.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Ru||0===(268435455&Fu)&&0===(268435455&ju)||uc(Ru,Au)}function gc(e,t){var n=Nu;Nu|=2;var r=vc();for(Ru===e&&Au===t||(Wu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(ba(),Nu=n,Su.current=r,null!==Pu)throw Error(a(261));return Ru=null,Au=0,Lu}function yc(){for(;null!==Pu;)wc(Pu)}function kc(){for(;null!==Pu&&!Ye();)wc(Pu)}function wc(e){var t=Iu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?bc(e):Pu=t,Tu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Du)))return void(Pu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function _c(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Yu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ru&&(Pu=Ru=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Rc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Nu;Nu|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(b){Ec(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),$e(),Nu=u,kt=s,Cu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&$u)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Xu?Ju++:(Ju=0,Xu=e):Ju=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function xc(){if(null!==Yu){var e=wt($u),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:ru(8,h,o)}var f=h.child;if(null!==f)f.return=h,Zs=f;else for(;null!==Zs;){var d=(h=Zs).sibling,p=h.return;if(ou(h),h===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Ec(u,u.return,_)}if(u===s){Zs=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,Zs=b;break e}Zs=u.return}}if(Nu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function Ic(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Au&n)===n&&(4===Lu||3===Lu&&(130023424&Au)===Au&&500>Je()-Bu?dc(e,0):Uu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(gt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Rc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Pc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case I:s=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Ac(19,n,t,i)).elementType=R,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case C:s=11;break e;case P:s=14;break e;case A:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Iu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Ai(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Si(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Aa(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Ai(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ha(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Nu)&&(qu=Je()+500,Bi()))}break;case 13:hc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=hc;var tl={usingClientEntryPoint:!1,Events:[ki,wi,bi,Se,Te,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(hc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=k.prototype=new y;w.constructor=k,v(w,g.prototype),w.isPureReactComponent=!0;var b=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,D(_);else{var t=r(l);null!==t&&O(b,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(S),S=-1),p=!0;var a=d;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!N());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),w(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&O(b,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,E=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function R(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(I=!1,E=null)}}else I=!1}if("function"===typeof k)x=function(){k(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=R,x=function(){A.postMessage(null)}}else x=function(){g(R,0)};function D(e){E=e,I||(I=!0,x())}function O(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(S),S=-1):m=!0,O(b,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},399:function(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".aab8bd84.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="restaurant:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/restaurant-management/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkrestaurant=self.webpackChunkrestaurant||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ot},SDK_VERSION:function(){return sr},_DEFAULT_ENTRY_NAME:function(){return Qn},_addComponent:function(){return Xn},_addOrOverwriteComponent:function(){return Zn},_apps:function(){return $n},_clearComponents:function(){return rr},_components:function(){return Jn},_getProvider:function(){return tr},_registerComponent:function(){return er},_removeServiceInstance:function(){return nr},deleteApp:function(){return hr},getApp:function(){return cr},getApps:function(){return lr},initializeApp:function(){return ur},onLog:function(){return pr},registerVersion:function(){return dr},setLogLevel:function(){return vr}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||u()}var l,h=n(164),f=n.t(h,2);function d(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){return function(e){if(Array.isArray(e))return o(e)}(e)||d(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function k(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if(t&&("object"===m(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function S(e){var t=x();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function T(e,t,n){return T=x()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&w(i,n.prototype),i},T.apply(null,arguments)}function C(e){var t="function"===typeof Map?new Map:void 0;return C=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return T(e,arguments,_(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w(n,e)},C(e)}function N(e){return a(e)||d(e)||s(e)||u()}function R(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(l||(l={}));var A,D="popstate";function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function L(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function M(e,t){return{usr:e.state,key:e.key,idx:t}}function F(e,t,n,r){return void 0===n&&(n=null),P({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?U(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function j(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function U(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,h=l.Pop,f=null,d=p();function p(){return(c.state||{idx:null}).idx}function v(){h=l.Pop;var e=p(),t=null==e?null:e-d;d=e,f&&f({action:h,location:g.location,delta:t})}function m(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:j(e);return O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(P({},c.state,{idx:d}),""));var g={get action(){return h},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(D,v),f=e,function(){o.removeEventListener(D,v),f=null}},createHref:function(e){return t(o,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=l.Push;var r=F(g.location,e,t);n&&n(r,e);var i=M(r,d=p()+1),a=g.createHref(r);try{c.pushState(i,"",a)}catch(qv){if(qv instanceof DOMException&&"DataCloneError"===qv.name)throw qv;o.location.assign(a)}u&&f&&f({action:h,location:g.location,delta:1})},replace:function(e,t){h=l.Replace;var r=F(g.location,e,t);n&&n(r,e);var i=M(r,d=p()),a=g.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:h,location:g.location,delta:0})},go:function(e){return c.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(A||(A={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function z(e,t,n){void 0===n&&(n="/");var r=te(("string"===typeof t?U(t):t).pathname||"/",n);if(null==r)return null;var i=B(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=X(i[o],ee(r));return a}function B(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(O(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ae([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),B(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:J(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=R(q(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function q(e){var t=e.split("/");if(0===t.length)return[];var n=N(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=q(i.join("/")),u=[];return u.push.apply(u,p(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,p(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var W=/^:\w+$/,H=3,K=2,G=1,Q=10,Y=-2,$=function(e){return"*"===e};function J(e,t){var n=e.split("/"),r=n.length;return n.some($)&&(r+=Y),t&&(r+=K),n.filter((function(e){return!$(e)})).reduce((function(e,t){return e+(W.test(t)?H:""===t?G:Q)}),r)}function X(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Z({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;a.push({params:r,pathname:ae([i,l.pathname]),pathnameBase:oe(ae([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=ae([i,l.pathnameBase]))}return a}function Z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);L("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(function(e,t,n){return r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),h=a.reduce((function(e,t,n){var r=t.paramName,i=t.isOptional;if("*"===r){var a=l[n]||"";u=s.slice(0,s.length-a.length).replace(/(.)\/+$/,"$1")}var o=l[n];return e[r]=i&&!o?void 0:function(e,t){try{return decodeURIComponent(e)}catch(qv){return L(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+qv+")."),e}}(o||"",r),e}),{});return{params:h,pathname:s,pathnameBase:u,pattern:e}}function ee(e){try{return decodeURI(e)}catch(qv){return L(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+qv+")."),e}}function te(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ne(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function re(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ie(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=U(e):(O(!(i=P({},e)).pathname||!i.pathname.includes("?"),ne("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),ne("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),ne("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else if(r){var u=t[t.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u.pop();i.pathname=c.join("/")}a="/"+u.join("/")}else{var l=t.length-1;if(s.startsWith("..")){for(var h=s.split("/");".."===h[0];)h.shift(),l-=1;i.pathname=h.join("/")}a=l>=0?t[l]:"/"}var f=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?U(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:se(a),hash:ue(s)}}(i,a),d=s&&"/"!==s&&s.endsWith("/"),p=(o||"."===s)&&n.endsWith("/");return f.pathname.endsWith("/")||!d&&!p||(f.pathname+="/"),f}var ae=function(e){return e.join("/").replace(/\/\/+/g,"/")},oe=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},se=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ue=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ce=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n)}(C(Error));function le(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var he=["post","put","patch","delete"],fe=(new Set(he),["get"].concat(he));new Set(fe),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}var pe=t.createContext(null);var ve=t.createContext(null);var me=t.createContext(null);var ge=t.createContext(null);var ye=t.createContext(null);var ke=t.createContext({outlet:null,matches:[],isDataRoute:!1});var we=t.createContext(null);function be(){return null!=t.useContext(ye)}function _e(){return be()||O(!1),t.useContext(ye).location}function xe(e){t.useContext(ge).static||t.useLayoutEffect(e)}function Ie(){return t.useContext(ke).isDataRoute?function(){var e=Oe(Ae.UseNavigateStable).router,n=Me(De.UseNavigateStable),r=t.useRef(!1);xe((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,de({fromRouteId:n},i)))}),[e,n]);return i}():function(){be()||O(!1);var e=t.useContext(pe),n=t.useContext(ge),r=n.basename,i=n.navigator,a=t.useContext(ke).matches,o=_e().pathname,s=JSON.stringify(re(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);return xe((function(){u.current=!0})),t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=ie(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:ae([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e])}()}function Ee(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ke).matches,a=_e().pathname,o=JSON.stringify(re(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ie(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Se(e,n,r){be()||O(!1);var i,a=t.useContext(ge).navigator,o=t.useContext(ke).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),h=(s&&s.route,_e());if(n){var f,d="string"===typeof n?U(n):n;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||O(!1),i=d}else i=h;var p=i.pathname||"/",v=z(e,{pathname:"/"===c?p:p.slice(c.length)||"/"});var m=Pe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:ae([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ae([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&m?t.createElement(ye.Provider,{value:{location:de({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:l.Pop}},m):m}function Te(){var e=function(){var e,n=t.useContext(we),r=Le(De.UseRouteError),i=Me(De.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=le(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Ce=t.createElement(Te,null),Ne=function(e){b(r,e);var n=S(r);function r(e){var t;return v(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return k(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ke.Provider,{value:this.props.routeContext},t.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Re(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(pe);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ke.Provider,{value:n},i)}function Pe(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||O(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Ce);var l=n.concat(o.slice(0,a+1)),h=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Re,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Ne,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:h(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):h()}),null)}var Ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ae||{}),De=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(De||{});function Oe(e){var n=t.useContext(pe);return n||O(!1),n}function Le(e){var n=t.useContext(ve);return n||O(!1),n}function Me(e){var n=function(e){var n=t.useContext(ke);return n||O(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||O(!1),r.route.id}r.startTransition;function Fe(e){O(!1)}function je(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?l.Pop:s,c=e.navigator,h=e.static,f=void 0!==h&&h;be()&&O(!1);var d=r.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof o&&(o=U(o));var v=o,m=v.pathname,g=void 0===m?"/":m,y=v.search,k=void 0===y?"":y,w=v.hash,b=void 0===w?"":w,_=v.state,x=void 0===_?null:_,I=v.key,E=void 0===I?"default":I,S=t.useMemo((function(){var e=te(g,d);return null==e?null:{location:{pathname:e,search:k,hash:b,state:x,key:E},navigationType:u}}),[d,g,k,b,x,E,u]);return null==S?null:t.createElement(ge.Provider,{value:p},t.createElement(ye.Provider,{children:a,value:S}))}function Ue(e){var t=e.children,n=e.location;return Se(Be(t),n)}var Ve=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Ve||{}),ze=new Promise((function(){}));t.Component;function Be(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(p(n),[i]);if(e.type!==t.Fragment){e.type!==Fe&&O(!1),e.props.index&&e.props.children&&O(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Be(e.props.children,a)),r.push(o)}else r.push.apply(r,Be(e.props.children,a))}})),r}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}function We(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var He=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;var Ke=r.startTransition;f.flushSync;function Ge(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),V((function(e,t){var n=e.location;return F("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:j(t)}),null,n)));var u=s.current,l=c(t.useState({action:u.action,location:u.location}),2),h=l[0],f=l[1],d=(a||{}).v7_startTransition,p=t.useCallback((function(e){d&&Ke?Ke((function(){return f(e)})):f(e)}),[f,d]);return t.useLayoutEffect((function(){return u.listen(p)}),[u,p]),t.createElement(je,{basename:r,children:i,location:h.location,navigationType:h.action,navigator:u})}var Qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,h=e.preventScrollReset,f=e.unstable_viewTransition,d=We(e,He),p=t.useContext(ge).basename,v=!1;if("string"===typeof l&&Ye.test(l)&&(r=l,Qe))try{var m=new URL(window.location.href),g=l.startsWith("//")?new URL(m.protocol+l):new URL(l),y=te(g.pathname,p);g.origin===m.origin&&null!=y?l=y+g.search+g.hash:v=!0}catch(b){}var k=function(e,n){var r=(void 0===n?{}:n).relative;be()||O(!1);var i=t.useContext(ge),a=i.basename,o=i.navigator,s=Ee(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,h=c;return"/"!==a&&(h="/"===c?a:ae([a,c])),o.createHref({pathname:h,search:l,hash:u})}(l,{relative:a}),w=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=r.unstable_viewTransition,l=Ie(),h=_e(),f=Ee(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:j(h)===j(f);l(e,{replace:n,state:o,preventScrollReset:s,relative:u,unstable_viewTransition:c})}}),[h,l,f,a,o,i,e,s,u,c])}(l,{replace:s,state:u,target:c,preventScrollReset:h,relative:a,unstable_viewTransition:f});return t.createElement("a",qe({},d,{href:r||k,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:n,target:c}))}));var Je,Xe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Je||(Je={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Xe||(Xe={}));var Ze=n.p+"static/media/logo.8a73a65f11573ed5c5dc.jpg",et=n(184),tt=function(){return(0,et.jsx)("header",{className:"sticky top-0 bg-white shadow text-blue-500",children:(0,et.jsxs)("div",{className:"container flex flex-col sm:flex-row justify-between items-center mx-auto py-4 px-8",children:[(0,et.jsx)($e,{to:"/",children:(0,et.jsxs)("div",{class:"flex items-center text-2xl",children:[(0,et.jsx)("div",{class:"w-16 mr-3",children:(0,et.jsx)("img",{src:Ze,className:"rounded-full"})}),"RESCAM"]})}),(0,et.jsxs)("div",{class:"flex mt-4 sm:mt-0",children:[(0,et.jsx)($e,{to:"/",class:"px-4",children:"Home"}),(0,et.jsx)($e,{to:"/Contact",class:"px-4",children:"Contact Us"}),(0,et.jsx)($e,{to:"/About",class:"px-4",children:"About Us"})]}),(0,et.jsx)("div",{class:"hidden md:block",children:(0,et.jsx)($e,{to:"/login",class:"px-4",children:"Login"})})]})})},nt=function(){return(0,et.jsx)("footer",{className:"mt-20 xl:mt-32 mx-auto w-full relative text-center bg-blue-600 text-white ",children:(0,et.jsxs)("div",{className:"px-6 py-8 md:py-14 xl:pt-20 xl:pb-12",children:[(0,et.jsxs)("h2",{className:"font-bold text-3xl xl:text-4xl leading-snug",children:["Ready to get your productivity back?",(0,et.jsx)("br",{}),"Start your free trial today."]}),(0,et.jsx)("a",{className:"mt-8 xl:mt-12 px-12 py-5 text-lg font-medium leading-tight inline-block bg-blue-800 rounded-full shadow-xl border border-transparent hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-sky-999 focus:ring-sky-500",href:"#",children:"Get started"}),(0,et.jsxs)("div",{className:"mt-14 xl:mt-20",children:[(0,et.jsxs)("nav",{className:"flex flex-wrap justify-center text-lg font-medium",children:[(0,et.jsx)("div",{className:"px-5 py-2",children:(0,et.jsx)("a",{href:"#",children:"Contact"})}),(0,et.jsx)("div",{className:"px-5 py-2",children:(0,et.jsx)("a",{href:"#",children:"Pricing"})}),(0,et.jsx)("div",{className:"px-5 py-2",children:(0,et.jsx)("a",{href:"#",children:"Privacy"})}),(0,et.jsx)("div",{className:"px-5 py-2",children:(0,et.jsx)("a",{href:"#",children:"Terms"})}),(0,et.jsx)("div",{className:"px-5 py-2",children:(0,et.jsx)("a",{href:"#",children:"Twitter"})})]}),(0,et.jsx)("p",{className:"mt-7 text-base",children:"\xa9 2023 XYZ, LLC"})]})]})})};function rt(){rt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:T(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",g={};function y(){}function k(){}function w(){}var b={};c(b,o,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(A([])));x&&x!==n&&r.call(x,o)&&(b=x);var I=w.prototype=y.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=h(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==m(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=f;return function(a,o){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(m(t)+" is not iterable")}return k.prototype=w,i(I,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:k,configurable:!0}),k.displayName=c(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,u,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},E(S.prototype),c(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(I),c(I,u,"Generator"),c(I,o,(function(){return this})),c(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function it(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(qv){return void n(qv)}s.done?t(u):Promise.resolve(u).then(r,i)}function at(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){it(a,r,i,o,s,"next",e)}function s(e){it(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ot(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=!1,ut=!1,ct="${JSCORE_VERSION}",lt=function(e,t){if(!e)throw ht(t)},ht=function(e){return new Error("Firebase Database ("+ct+") INTERNAL ASSERT FAILED: "+e)},ft=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},dt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ft(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new pt;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},pt=function(e){b(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return k(n)}(C(Error)),vt=function(e){var t=ft(e);return dt.encodeByteArray(t,!0)},mt=function(e){return vt(e).replace(/\./g,"")},gt=function(e){try{return dt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=yt(e[n],t[n]));return e}var kt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},wt=function(){try{return kt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/restaurant-management",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&gt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},bt=function(e){var t=function(e){var t,n;return null===(n=null===(t=wt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},_t=function(){var e;return null===(e=wt())||void 0===e?void 0:e.config},xt=function(){function e(){var t=this;v(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return k(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function It(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[mt(JSON.stringify({alg:"none",type:"JWT"})),mt(JSON.stringify(a)),""].join(".")}function Et(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function St(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function Tt(){var e,t=null===(e=wt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ct(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Nt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Rt(){var e=Et();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Pt(){return!0===st||!0===ut}function At(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Dt(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(qv){t(qv)}}))}var Ot=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(I(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(I(a),Lt.prototype.create),a}return k(n)}(C(Error)),Lt=function(){function e(t,n,r){v(this,e),this.service=t,this.serviceName=n,this.errors=r}return k(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Mt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ot(n,a,t)}}]),e}();var Mt=/\{\$([^}]+)}/g;function Ft(e){return JSON.parse(e)}function jt(e){return JSON.stringify(e)}var Ut=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Ft(gt(a[0])||""),n=Ft(gt(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Vt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function zt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Bt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function qt(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Wt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ht(s)&&Ht(u)){if(!Wt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function Ht(e){return null!==e&&"object"===typeof e}function Kt(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Gt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Qt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Yt=function(){function e(){v(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return k(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function $t(e,t){var n=new Jt(e,t);return n.subscribe.bind(n)}var Jt=function(){function e(t,n){var r=this;v(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return k(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=R(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Xt),void 0===r.error&&(r.error=Xt),void 0===r.complete&&(r.complete=Xt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Xt(){}var Zt=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function en(e,t){return"".concat(e," failed: ").concat(t," argument ")}function tn(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(en(e,t)+"must be a valid function.")}function nn(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(en(e,t)+"must be a valid context object.")}var rn=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},an=1e3,on=2,sn=144e5,un=.5;function cn(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:on,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:an)*Math.pow(t,e),r=Math.round(un*n*(Math.random()-.5)*2);return Math.min(sn,n+r)}function ln(e){return e&&e._delegate?e._delegate:e}var hn=function(){function e(t,n,r){v(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return k(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),fn="[DEFAULT]",dn=function(){function e(t,n){v(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return k(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new xt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fn})}catch(u){}var t,n=R(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(p(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),p(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=R(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=R(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===fn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;return this.component?this.component.multipleInstances?e:fn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var pn,vn,mn=function(){function e(t){v(this,e),this.name=t,this.providers=new Map}return k(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new dn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),gn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(vn||(vn={}));var yn={debug:vn.DEBUG,verbose:vn.VERBOSE,info:vn.INFO,warn:vn.WARN,error:vn.ERROR,silent:vn.SILENT},kn=vn.INFO,wn=(ot(pn={},vn.DEBUG,"log"),ot(pn,vn.VERBOSE,"log"),ot(pn,vn.INFO,"info"),ot(pn,vn.WARN,"warn"),ot(pn,vn.ERROR,"error"),pn),bn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=wn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},_n=function(){function e(t){v(this,e),this.name=t,this._logLevel=kn,this._logHandler=bn,this._userLogHandler=null,gn.push(this)}return k(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in vn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?yn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vn.DEBUG].concat(t)),this._logHandler.apply(this,[this,vn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,vn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vn.INFO].concat(t)),this._logHandler.apply(this,[this,vn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vn.WARN].concat(t)),this._logHandler.apply(this,[this,vn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vn.ERROR].concat(t)),this._logHandler.apply(this,[this,vn.ERROR].concat(t))}}]),e}();function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var En,Sn,Tn=function(e,t){return t.some((function(t){return e instanceof t}))};var Cn=new WeakMap,Nn=new WeakMap,Rn=new WeakMap,Pn=new WeakMap,An=new WeakMap;var Dn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Rn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function On(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Sn||(Sn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Fn(this),n),Mn(Cn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mn(e.apply(Fn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Fn(this),t].concat(r));return Rn.set(a,t.sort?t.sort():[t]),Mn(a)}}function Ln(e){return"function"===typeof e?On(e):(e instanceof IDBTransaction&&function(e){if(!Nn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Nn.set(e,t)}}(e),Tn(e,En||(En=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Dn):e)}function Mn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Mn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Cn.set(t,e)})).catch((function(){})),An.set(t,e),t}(e);if(Pn.has(e))return Pn.get(e);var t=Ln(e);return t!==e&&(Pn.set(e,t),An.set(t,e)),t}var Fn=function(e){return An.get(e)};var jn,Un,Vn=["get","getKey","getAll","getAllKeys","count"],zn=["put","add","delete","clear"],Bn=new Map;function qn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Bn.get(t))return Bn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=zn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Vn.includes(n))){var a=function(){var e=at(rt().mark((function e(t){var a,o,s,u,c,l,h=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=h[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Bn.set(t,a),a}}}Dn=function(e){return In(In({},e),{},{get:function(t,n,r){return qn(t,n)||e.get(t,n,r)},has:function(t,n){return!!qn(t,n)||e.has(t,n)}})}(Dn);var Wn=function(){function e(t){v(this,e),this.container=t}return k(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Hn="@firebase/app",Kn="0.9.25",Gn=new _n("@firebase/app"),Qn="[DEFAULT]",Yn=(ot(jn={},Hn,"fire-core"),ot(jn,"@firebase/app-compat","fire-core-compat"),ot(jn,"@firebase/analytics","fire-analytics"),ot(jn,"@firebase/analytics-compat","fire-analytics-compat"),ot(jn,"@firebase/app-check","fire-app-check"),ot(jn,"@firebase/app-check-compat","fire-app-check-compat"),ot(jn,"@firebase/auth","fire-auth"),ot(jn,"@firebase/auth-compat","fire-auth-compat"),ot(jn,"@firebase/database","fire-rtdb"),ot(jn,"@firebase/database-compat","fire-rtdb-compat"),ot(jn,"@firebase/functions","fire-fn"),ot(jn,"@firebase/functions-compat","fire-fn-compat"),ot(jn,"@firebase/installations","fire-iid"),ot(jn,"@firebase/installations-compat","fire-iid-compat"),ot(jn,"@firebase/messaging","fire-fcm"),ot(jn,"@firebase/messaging-compat","fire-fcm-compat"),ot(jn,"@firebase/performance","fire-perf"),ot(jn,"@firebase/performance-compat","fire-perf-compat"),ot(jn,"@firebase/remote-config","fire-rc"),ot(jn,"@firebase/remote-config-compat","fire-rc-compat"),ot(jn,"@firebase/storage","fire-gcs"),ot(jn,"@firebase/storage-compat","fire-gcs-compat"),ot(jn,"@firebase/firestore","fire-fst"),ot(jn,"@firebase/firestore-compat","fire-fst-compat"),ot(jn,"fire-js","fire-js"),ot(jn,"firebase","fire-js-all"),jn),$n=new Map,Jn=new Map;function Xn(e,t){try{e.container.addComponent(t)}catch(n){Gn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Zn(e,t){e.container.addOrOverwriteComponent(t)}function er(e){var t=e.name;if(Jn.has(t))return Gn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Jn.set(t,e);var n,r=R($n.values());try{for(r.s();!(n=r.n()).done;){Xn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function tr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function nr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qn;tr(e,t).clearInstance(n)}function rr(){Jn.clear()}var ir=(ot(Un={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),ot(Un,"bad-app-name","Illegal App name: '{$appName}"),ot(Un,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ot(Un,"app-deleted","Firebase App named '{$appName}' already deleted"),ot(Un,"no-options","Need to provide options, when not being deployed to hosting via source."),ot(Un,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ot(Un,"invalid-log-argument","First argument to `onLog` must be null or a function."),ot(Un,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ot(Un,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ot(Un,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ot(Un,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Un),ar=new Lt("app","Firebase",ir),or=function(){function e(t,n,r){var i=this;v(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hn("app",(function(){return i}),"PUBLIC"))}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}]),e}(),sr="10.7.1";function ur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Qn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ar.create("bad-app-name",{appName:String(i)});if(n||(n=_t()),!n)throw ar.create("no-options");var a=$n.get(i);if(a){if(Wt(n,a.options)&&Wt(r,a.config))return a;throw ar.create("duplicate-app",{appName:i})}var o,s=new mn(i),u=R(Jn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new or(n,r,s);return $n.set(i,l),l}function cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn,t=$n.get(e);if(!t&&e===Qn&&_t())return ur();if(!t)throw ar.create("no-app",{appName:e});return t}function lr(){return Array.from($n.values())}function hr(e){return fr.apply(this,arguments)}function fr(){return fr=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!$n.has(n)){e.next=6;break}return $n.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function dr(e,t,n){var r,i=null!==(r=Yn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Gn.warn(s.join(" "))}er(new hn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function pr(e,t){if(null!==e&&"function"!==typeof e)throw ar.create("invalid-log-argument");!function(e,t){var n,r=R(gn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=yn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:vn[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function vr(e){var t;t=e,gn.forEach((function(e){e.setLogLevel(t)}))}var mr="firebase-heartbeat-database",gr=1,yr="firebase-heartbeat-store",kr=null;function wr(){return kr||(kr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Mn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Mn(s.result),e.oldVersion,e.newVersion,Mn(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(mr,gr,{upgrade:function(e,t){if(0===t)e.createObjectStore(yr)}}).catch((function(e){throw ar.create("idb-open",{originalErrorMessage:e.message})}))),kr}function br(e){return _r.apply(this,arguments)}function _r(){return _r=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wr();case 3:return n=e.sent,e.next=6,n.transaction(yr).objectStore(yr).get(Er(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Ot?Gn.warn(e.t0.message):(i=ar.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Gn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),_r.apply(this,arguments)}function xr(e,t){return Ir.apply(this,arguments)}function Ir(){return Ir=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wr();case 3:return r=e.sent,i=r.transaction(yr,"readwrite"),a=i.objectStore(yr),e.next=8,a.put(n,Er(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Ot?Gn.warn(e.t0.message):(o=ar.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Gn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ir.apply(this,arguments)}function Er(e){return"".concat(e.name,"!").concat(e.options.appId)}var Sr=function(){function e(t){var n=this;v(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Rr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return k(e,[{key:"triggerHeartbeat",value:function(){var e=at(rt().mark((function e(){var t,n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=Tr(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:a,agent:i});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=at(rt().mark((function e(){var t,n,r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=Tr(),r=Cr(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=mt(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Tr(){return(new Date).toISOString().substring(0,10)}function Cr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=R(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Pr(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Pr(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Nr,Rr=function(){function e(t){v(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return k(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(At()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Dt().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,br(this.app);case 9:if(!(null===(t=e.sent)||void 0===t?void 0:t.heartbeats)){e.next=14;break}return e.abrupt("return",t);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",xr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",xr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(p(r.heartbeats),p(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Pr(e){return mt(JSON.stringify({version:2,heartbeats:e})).length}Nr="",er(new hn("platform-logger",(function(e){return new Wn(e)}),"PRIVATE")),er(new hn("heartbeat",(function(e){return new Sr(e)}),"PRIVATE")),dr(Hn,Kn,Nr),dr(Hn,Kn,"esm2017"),dr("fire-js","");dr("firebase","10.7.1","app");var Ar,Dr,Or=function(e,t){return t.some((function(t){return e instanceof t}))};var Lr=new WeakMap,Mr=new WeakMap,Fr=new WeakMap,jr=new WeakMap,Ur=new WeakMap;var Vr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Mr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Fr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function zr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dr||(Dr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Wr(this),n),qr(Lr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qr(e.apply(Wr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Wr(this),t].concat(r));return Fr.set(a,t.sort?t.sort():[t]),qr(a)}}function Br(e){return"function"===typeof e?zr(e):(e instanceof IDBTransaction&&function(e){if(!Mr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Mr.set(e,t)}}(e),Or(e,Ar||(Ar=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Vr):e)}function qr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(qr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Lr.set(t,e)})).catch((function(){})),Ur.set(t,e),t}(e);if(jr.has(e))return jr.get(e);var t=Br(e);return t!==e&&(jr.set(e,t),Ur.set(t,e)),t}var Wr=function(e){return Ur.get(e)};var Hr,Kr=["get","getKey","getAll","getAllKeys","count"],Gr=["put","add","delete","clear"],Qr=new Map;function Yr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Qr.get(t))return Qr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Gr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Kr.includes(n))){var a=function(){var e=at(rt().mark((function e(t){var a,o,s,u,c,l,h=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=h[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Qr.set(t,a),a}}}!function(e){Vr=e(Vr)}((function(e){return In(In({},e),{},{get:function(t,n,r){return Yr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Yr(t,n)||e.has(t,n)}})}));var $r="@firebase/installations",Jr="0.6.4",Xr=1e4,Zr="w:".concat(Jr),ei="FIS_v2",ti="https://firebaseinstallations.googleapis.com/v1",ni=36e5,ri=(ot(Hr={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),ot(Hr,"not-registered","Firebase Installation is not registered."),ot(Hr,"installation-not-found","Firebase Installation not found."),ot(Hr,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),ot(Hr,"app-offline","Could not process request. Application offline."),ot(Hr,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Hr),ii=new Lt("installations","Installations",ri);function ai(e){return e instanceof Ot&&e.code.includes("request-failed")}function oi(e){var t=e.projectId;return"".concat(ti,"/projects/").concat(t,"/installations")}function si(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function ui(e,t){return ci.apply(this,arguments)}function ci(){return(ci=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",ii.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hi(e,t){var n=t.refreshToken,r=li(e);return r.append("Authorization",function(e){return"".concat(ei," ").concat(e)}(n)),r}function fi(e){return di.apply(this,arguments)}function di(){return(di=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pi(e,t){return vi.apply(this,arguments)}function vi(){return(vi=at(rt().mark((function e(t,n){var r,i,a,o,s,u,c,l,h,f,d,p;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=oi(r),s=li(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:ei,appId:r.appId,sdkVersion:Zr},h={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,fi((function(){return fetch(o,h)}));case 14:if(!(f=e.sent).ok){e.next=23;break}return e.next=18,f.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:si(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,ui("Create Installation",f);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e){return new Promise((function(t){setTimeout(t,e)}))}var gi=/^[cdef][\w-]{21}$/,yi="";function ki(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,p(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return gi.test(t)?t:yi}catch(n){return yi}}function wi(e){return"".concat(e.appName,"!").concat(e.appId)}var bi=new Map;function _i(e,t){var n=wi(e);xi(n,t),function(e,t){var n=Ei();n&&n.postMessage({key:e,fid:t});Si()}(n,t)}function xi(e,t){var n=bi.get(e);if(n){var r,i=R(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Ii=null;function Ei(){return!Ii&&"BroadcastChannel"in self&&((Ii=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){xi(e.data.key,e.data.fid)}),Ii}function Si(){0===bi.size&&Ii&&(Ii.close(),Ii=null)}var Ti="firebase-installations-database",Ci=1,Ni="firebase-installations-store",Ri=null;function Pi(){return Ri||(Ri=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=qr(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(qr(s.result),e.oldVersion,e.newVersion,qr(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Ti,Ci,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ni)}})),Ri}function Ai(e,t){return Di.apply(this,arguments)}function Di(){return Di=at(rt().mark((function e(t,n){var r,i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wi(t),e.next=3,Pi();case 3:return i=e.sent,a=i.transaction(Ni,"readwrite"),o=a.objectStore(Ni),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||_i(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Oi(e){return Li.apply(this,arguments)}function Li(){return Li=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wi(t),e.next=3,Pi();case 3:return r=e.sent,i=r.transaction(Ni,"readwrite"),e.next=7,i.objectStore(Ni).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}function Mi(e,t){return Fi.apply(this,arguments)}function Fi(){return Fi=at(rt().mark((function e(t,n){var r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wi(t),e.next=3,Pi();case 3:return i=e.sent,a=i.transaction(Ni,"readwrite"),o=a.objectStore(Ni),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||_i(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),Fi.apply(this,arguments)}function ji(e){return Ui.apply(this,arguments)}function Ui(){return(Ui=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi(t.appConfig,(function(e){var r=Vi(e),i=zi(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==yi){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vi(e){return Ki(e||{fid:ki(),registrationStatus:0})}function zi(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(ii.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return Bi.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:qi(e)}:{installationEntry:t}}function Bi(){return(Bi=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pi(t,n);case 3:return r=e.sent,e.abrupt("return",Ai(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!ai(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Oi(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Ai(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function qi(e){return Wi.apply(this,arguments)}function Wi(){return(Wi=at(rt().mark((function e(t){var n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,mi(100);case 6:return e.next=8,Hi(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,ji(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e){return Mi(e,(function(e){if(!e)throw ii.create("installation-not-found");return Ki(e)}))}function Ki(e){return 1===(t=e).registrationStatus&&t.registrationTime+Xr<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Gi(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=at(rt().mark((function e(t,n){var r,i,a,o,s,u,c,l,h,f,d;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=Yi(r,n),o=hi(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:Zr,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,fi((function(){return fetch(a,l)}));case 13:if(!(h=e.sent).ok){e.next=22;break}return e.next=17,h.json();case 17:return f=e.sent,d=si(f),e.abrupt("return",d);case 22:return e.next=24,ui("Generate Auth Token",h);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(e,t){var n=t.fid;return"".concat(oi(e),"/").concat(n,"/authTokens:generate")}function $i(e){return Ji.apply(this,arguments)}function Ji(){return Ji=at(rt().mark((function e(t){var n,r,i,a,o=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,Mi(t.appConfig,(function(e){if(!ra(e))throw ii.create("not-registered");var i=e.authToken;if(!n&&ia(i))return e;if(1===i.requestStatus)return r=Xi(t,n),e;if(!navigator.onLine)throw ii.create("app-offline");var a=aa(e);return r=ta(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Xi(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,mi(100);case 6:return e.next=8,ea(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",$i(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e){return Mi(e,(function(e){if(!ra(e))throw ii.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Xr<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function ta(e,t){return na.apply(this,arguments)}function na(){return(na=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gi(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Ai(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!ai(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Oi(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Ai(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ra(e){return void 0!==e&&2===e.registrationStatus}function ia(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ni}(e)}function aa(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function oa(){return(oa=at(rt().mark((function e(t){var n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,ji(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):$i(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(){return sa=at(rt().mark((function e(t){var n,r,i,a=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,ua(r);case 4:return e.next=6,$i(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ua(e){return ca.apply(this,arguments)}function ca(){return(ca=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(e){return ii.create("missing-app-config-values",{valueName:e})}var ha,fa="installations",da=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw la("App Configuration");if(!e.name)throw la("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw la(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:tr(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},pa=function(e){var t=tr(e.getProvider("app").getImmediate(),fa).getImmediate(),n={getId:function(){return function(e){return oa.apply(this,arguments)}(t)},getToken:function(e){return function(e){return sa.apply(this,arguments)}(t,e)}};return n};er(new hn(fa,da,"PUBLIC")),er(new hn("installations-internal",pa,"PRIVATE")),dr($r,Jr),dr($r,Jr,"esm2017");var va="analytics",ma="firebase_id",ga="origin",ya=6e4,ka="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wa="https://www.googletagmanager.com/gtag/js",ba=new _n("@firebase/analytics"),_a=(ot(ha={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),ot(ha,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),ot(ha,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),ot(ha,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),ot(ha,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ot(ha,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ot(ha,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),ot(ha,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),ot(ha,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),ot(ha,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),ot(ha,"no-client-id",'The "client_id" field is empty.'),ot(ha,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),ha),xa=new Lt("analytics","Analytics",_a);function Ia(e){if(!e.startsWith(wa)){var t=xa.create("invalid-gtag-resource",{gtagURL:e});return ba.warn(t.message),""}return e}function Ea(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Sa(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Ia}),r=document.createElement("script"),i="".concat(wa,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Ta(e,t,n,r,i,a){return Ca.apply(this,arguments)}function Ca(){return Ca=at(rt().mark((function e(t,n,r,i,a,o){var s,u,c;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,Ea(r);case 9:if(u=e.sent,!(c=u.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),ba.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),Ca.apply(this,arguments)}function Na(e,t,n,r,i){return Ra.apply(this,arguments)}function Ra(){return Ra=at(rt().mark((function e(t,n,r,i,a){var o,s,u,c,l,h;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,Ea(r);case 7:u=e.sent,c=R(s),e.prev=9,h=rt().mark((function e(){var t,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.value,r=u.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}o.push(i),e.next=9;break;case 7:return o=[],e.abrupt("return",1);case 9:case"end":return e.stop()}}),e)})),c.s();case 12:if((l=c.n()).done){e.next=18;break}return e.delegateYield(h(),"t0",14);case 14:if(!e.t0){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(9),c.e(e.t1);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t2=e.catch(0),ba.error(e.t2);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),Ra.apply(this,arguments)}function Pa(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return i=at(rt().mark((function i(a){var o,s,u,c,l,h,f,d,p,v,m,g,y=arguments;return rt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(i.prev=0,o=y.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=y[u];if("event"!==a){i.next=8;break}return c=s[0],l=s[1],i.next=6,Na(e,t,n,c,l);case 6:i.next=15;break;case 8:if("config"!==a){i.next=14;break}return h=s[0],f=s[1],i.next=12,Ta(e,t,n,r,h,f);case 12:i.next=15;break;case 14:"consent"===a?(d=s[0],e("consent","update",d)):"get"===a?(p=s[0],v=s[1],m=s[2],e("get",p,v,m)):"set"===a?(g=s[0],e("set",g)):e.apply(void 0,[a].concat(s));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(0),ba.error(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,17]])}))),i.apply(this,arguments)}return function(e){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function Aa(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(wa)&&i.src.includes(e))return i}return null}var Da=30,Oa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;v(this,e),this.throttleMetadata=t,this.intervalMillis=n}return k(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),La=new Oa;function Ma(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Fa(e){return ja.apply(this,arguments)}function ja(){return(ja=at(rt().mark((function e(t){var n,r,i,a,o,s,u,c;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Ma(i)},o=ka.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw xa.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function Ua(e){return Va.apply(this,arguments)}function Va(){return Va=at(rt().mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:La,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw xa.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw xa.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Ga,setTimeout(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:ya),e.abrupt("return",za({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function za(e,t,n){return Ba.apply(this,arguments)}function Ba(){return Ba=at(rt().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d,p=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:La,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,qa(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return ba.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Fa(t);case 17:return l=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),Wa(h=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(u),!c){e.next=32;break}return ba.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===h||void 0===h?void 0:h.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return f=503===Number(null===(s=null===h||void 0===h?void 0:h.customData)||void 0===s?void 0:s.httpStatus)?cn(a,o.intervalMillis,Da):cn(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:a+1},o.setThrottleMetadata(u,d),ba.debug("Calling attemptFetch again in ".concat(f," millis")),e.abrupt("return",za(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),Ba.apply(this,arguments)}function qa(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(xa.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function Wa(e){if(!(e instanceof Ot)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var Ha,Ka,Ga=function(){function e(){v(this,e),this.listeners=[]}return k(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function Qa(){return(Qa=at(rt().mark((function e(t,n,r,i,a){var o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e){Ka=e}function $a(e){Ha=e}function Ja(){return Xa.apply(this,arguments)}function Xa(){return(Xa=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(At()){e.next=5;break}return ba.warn(xa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Dt();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),ba.warn(xa.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function Za(){return Za=at(rt().mark((function e(t,n,r,i,a,o,s){var u,l,h,f,d,p,v,m;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=Ua(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ba.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return ba.error(e)})),n.push(l),h=Ja().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,h]);case 6:return f=e.sent,d=c(f,2),p=d[0],v=d[1],Aa(o)||Sa(o,p.measurementId),Ka&&(a("consent","default",Ka),Ya(void 0)),a("js",new Date),(m=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{})[ga]="firebase",m.update=!0,null!=v&&(m[ma]=v),a("config",p.measurementId,m),Ha&&(a("set",Ha),$a(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}var eo,to,no=function(){function e(t){v(this,e),this.app=t}return k(e,[{key:"_delete",value:function(){return delete ro[this.app.options.appId],Promise.resolve()}}]),e}(),ro={},io=[],ao={},oo="dataLayer",so="gtag",uo=!1;function co(){var e=[];if(Ct()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=xa.create("invalid-analytics-context",{errorInfo:t});ba.warn(n.message)}}function lo(e,t,n){co();var r=e.options.appId;if(!r)throw xa.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw xa.create("no-api-key");ba.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ro[r])throw xa.create("already-exists",{id:r});if(!uo){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(oo);var i=Pa(ro,io,ao,oo,so),a=i.wrappedGtag,o=i.gtagCore;to=a,eo=o,uo=!0}return ro[r]=function(e,t,n,r,i,a,o){return Za.apply(this,arguments)}(e,io,ao,t,eo,oo,n),new no(e)}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr(),t=tr(e=ln(e),va);return t.isInitialized()?t.getImmediate():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=tr(e,va);if(n.isInitialized()){var r=n.getImmediate();if(Wt(t,n.getOptions()))return r;throw xa.create("already-initialized")}var i=n.initialize({options:t});return i}(e)}function fo(e,t,n,r){e=ln(e),function(e,t,n,r,i){return Qa.apply(this,arguments)}(to,ro[e.app.options.appId],t,n,r).catch((function(e){return ba.error(e)}))}var po,vo="@firebase/analytics",mo="0.10.0";er(new hn(va,(function(e,t){var n=t.options;return lo(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),er(new hn("analytics-internal",(function(e){try{var t=e.getProvider(va).getImmediate();return{logEvent:function(e,n,r){return fo(t,e,n,r)}}}catch(n){throw xa.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),dr(vo,mo),dr(vo,mo,"esm2017");var go=function(){function e(t,n){var r=this;v(this,e),this._delegate=t,this.firebase=n,Xn(t,new hn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),hr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Xn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Zn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),yo=(ot(po={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ot(po,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),po),ko=new Lt("app-compat","Firebase",yo);var wo=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ur(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Vt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:dr,setLogLevel:vr,onLog:pr,apps:null,SDK_VERSION:sr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(er(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ko.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&yt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Vt(n,e=e||Qn))throw ko.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(go);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){yt(n,e)},createSubscribe:$t,ErrorFactory:Lt,deepExtend:yt}),n}(),bo=new _n("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){bo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _o=self.firebase.SDK_VERSION;_o&&_o.indexOf("LITE")>=0&&bo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xo=wo;!function(e){dr("@firebase/app-compat","0.2.25",e)}();xo.registerVersion("firebase","10.7.1","app-compat");var Io,Eo="firebasestorage.googleapis.com",So="storageBucket",To=function(e){b(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return v(this,n),(i=t.call(this,Co(e),"Firebase Storage: ".concat(r," (").concat(Co(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(I(i),n.prototype),i}return k(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Co(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ot);function Co(e){return"storage/"+e}function No(){return new To(Io.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ro(){return new To(Io.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Po(){return new To(Io.CANCELED,"User canceled the upload/download.")}function Ao(){return new To(Io.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Do(e){return new To(Io.INVALID_ARGUMENT,e)}function Oo(){return new To(Io.APP_DELETED,"The Firebase app was deleted.")}function Lo(e,t){return new To(Io.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Mo(e){throw new To(Io.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Io||(Io={}));var Fo,jo=function(){function e(t,n){v(this,e),this.bucket=t,this.path_=n}return k(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new To(Io.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Eo?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new To(Io.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Uo=function(){function e(t){v(this,e),this.promise_=Promise.reject(t)}return k(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Vo(e){return"string"===typeof e||e instanceof String}function zo(e){return Bo()&&e instanceof Blob}function Bo(){return"undefined"!==typeof Blob}function qo(e,t,n,r){if(r<t)throw Do("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Do("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Wo(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Ho(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function Ko(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Fo||(Fo={}));var Go=function(){function e(t,n,r,i,a,o,s,u,c,l,h){var f=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];v(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return k(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=No();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Oo():Po());else i(Ro())}};this.canceled_?t(0,new Qo(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function f(){a&&clearTimeout(a)}function d(e){if(c)f();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return f(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return f(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),h(a)}}var p=!1;function v(e){p||(p=!0,f(),c||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Qo(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Fo.NO_ERROR,a=r.getStatus();if(!n||Ko(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Fo.ABORT;t(!1,new Qo(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new Qo(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Qo=k((function e(t,n,r){v(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Yo(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function $o(){for(var e=Yo(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Bo())return new Blob(n);throw new To(Io.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Jo(e){if("undefined"===typeof atob)throw t="base-64",new To(Io.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var Xo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Zo=k((function e(t,n){v(this,e),this.data=t,this.contentType=n||null}));function es(e,t){switch(e){case Xo.RAW:return new Zo(ts(t));case Xo.BASE64:case Xo.BASE64URL:return new Zo(ns(e,t));case Xo.DATA_URL:return new Zo(function(e){var t=new rs(e);return t.base64?ns(Xo.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Lo(Xo.DATA_URL,"Malformed data URL.")}return ts(t)}(t.rest)}(t),new rs(t).contentType)}throw No()}function ts(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ns(e,t){switch(e){case Xo.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Lo(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Xo.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Lo(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=Jo(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw Lo(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var rs=k((function e(t){v(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Lo(Xo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var is=function(){function e(t,n){v(this,e);var r=0,i="";zo(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return k(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(zo(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Bo()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e($o.apply(null,i))}var a=n.map((function(e){return Vo(e)?es(Xo.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function as(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function os(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ss(e,t){return t}var us=k((function e(t,n,r,i){v(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||ss})),cs=null;function ls(){if(cs)return cs;var e=[];e.push(new us("bucket")),e.push(new us("generation")),e.push(new us("metageneration")),e.push(new us("name","fullPath",!0));var t=new us("name");t.xform=function(e,t){return function(e){return!Vo(e)||e.length<2?e:os(e)}(t)},e.push(t);var n=new us("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new us("timeCreated")),e.push(new us("updated")),e.push(new us("md5Hash",null,!0)),e.push(new us("cacheControl",null,!0)),e.push(new us("contentDisposition",null,!0)),e.push(new us("contentEncoding",null,!0)),e.push(new us("contentLanguage",null,!0)),e.push(new us("contentType",null,!0)),e.push(new us("metadata","customMetadata",!0)),cs=e}function hs(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new jo(n,r);return t._makeStorageReference(i)}})}(r,e),r}function fs(e,t,n){var r=as(t);return null===r?null:hs(e,r,n)}function ds(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var ps=k((function e(t,n,r,i){v(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function vs(e){if(!e)throw No()}function ms(e,t){return function(n,r){var i=fs(e,r,t);return vs(null!==i),i}}function gs(e,t){return function(n,r){var i=fs(e,r,t);return vs(null!==i),function(e,t,n,r){var i=as(t);if(null===i)return null;if(!Vo(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Wo("/b/"+o(i)+"/o/"+o(a),n,r)+Ho({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ys(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new To(Io.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new To(Io.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new To(Io.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new To(Io.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ks(e){var t=ys(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new To(Io.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ws(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function bs(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=ws(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ds(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=is.getBlob(c,r,l);if(null===h)throw Ao();var f={name:u.fullPath},d=Wo(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new ps(d,"POST",ms(e,n),p);return v.urlParams=f,v.headers=o,v.body=h.uploadData(),v.errorHandler=ys(t),v}var _s=null,xs=function(){function e(){var t=this;v(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fo.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Fo.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Fo.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return k(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Mo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Mo("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Mo("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Mo("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Mo("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Is=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(xs);function Es(){return _s?_s():new Is}var Ss=function(){function e(t,n){v(this,e),this._service=t,this._location=n instanceof jo?n:jo.makeFromUrl(n,t.host)}return k(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new jo(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return os(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new jo(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new To(Io.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Ts(e,t,n){e._throwIfRoot("uploadBytes");var r=bs(e.storage,e._location,ls(),new is(t,!0),n);return e.storage.makeRequestWithTokens(r,Es).then((function(t){return{metadata:t,ref:e}}))}function Cs(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Wo(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ps(r,"GET",gs(e,n),i);return a.errorHandler=ks(t),a}(e.storage,e._location,ls());return e.storage.makeRequestWithTokens(t,Es).then((function(e){if(null===e)throw new To(Io.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ns(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new jo(e._location.bucket,n);return new Ss(e.storage,r)}function Rs(e,t){if(e instanceof Ds){var n=e;if(null==n._bucket)throw new To(Io.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+So+"' property when initializing the app?");var r=new Ss(n,n._bucket);return null!=t?Rs(r,t):r}return void 0!==t?Ns(e,t):e}function Ps(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ds)return new Ss(e,t);throw Do("To use ref(service, url), the first argument must be a Storage instance.")}return Rs(e,t)}function As(e,t){var n=null===t||void 0===t?void 0:t[So];return null==n?null:jo.makeFromBucketSpec(n,e)}var Ds=function(){function e(t,n,r,i,a){v(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Eo,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?jo.makeFromBucketSpec(i,this._host):As(this._host,this.app.options)}return k(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=jo.makeFromBucketSpec(this._url,e):this._bucket=As(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){qo("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){qo("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Ss(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Uo(Oo());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=Ho(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Go(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Os="@firebase/storage",Ls="0.12.0",Ms="storage";function Fs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr(),t=arguments.length>1?arguments[1]:void 0,n=tr(e=ln(e),Ms).getImmediate({identifier:t}),r=bt("storage");return r&&js.apply(void 0,[n].concat(p(r))),n}function js(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:It(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Us(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Ds(r,i,a,n,sr)}function Vs(){return Vs="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Vs.apply(this,arguments)}er(new hn(Ms,Us,"PUBLIC").setMultipleInstances(!0)),dr(Os,Ls,""),dr(Os,Ls,"esm2017");function zs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Bs,qs={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ws="EMAIL_SIGNIN",Hs="PASSWORD_RESET",Ks="RECOVER_EMAIL",Gs="REVERT_SECOND_FACTOR_ADDITION",Qs="VERIFY_AND_CHANGE_EMAIL",Ys="VERIFY_EMAIL";function $s(){return ot({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Js=function(){var e;return ot(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ot(e,"argument-error",""),ot(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ot(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ot(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ot(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ot(e,"cordova-not-ready","Cordova framework is not ready."),ot(e,"cors-unsupported","This browser is not supported."),ot(e,"credential-already-in-use","This credential is already associated with a different user account."),ot(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ot(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ot(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ot(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ot(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ot(e,"email-already-in-use","The email address is already in use by another account."),ot(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ot(e,"expired-action-code","The action code has expired."),ot(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ot(e,"internal-error","An internal AuthError has occurred."),ot(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ot(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ot(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ot(e,"invalid-auth-event","An internal AuthError has occurred."),ot(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ot(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ot(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ot(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ot(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ot(e,"invalid-email","The email address is badly formatted."),ot(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ot(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ot(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ot(e,"invalid-credential","The supplied auth credential is incorrect, malformed or has expired."),ot(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ot(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ot(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ot(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ot(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ot(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ot(e,"wrong-password","The password is invalid or the user does not have a password."),ot(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ot(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ot(e,"invalid-provider-id","The specified provider ID is invalid."),ot(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ot(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ot(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ot(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ot(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ot(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ot(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ot(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ot(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ot(e,"missing-continue-uri","A continue URL must be provided in the request."),ot(e,"missing-iframe-start","An internal AuthError has occurred."),ot(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ot(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ot(e,"missing-password","A non-empty password must be provided"),ot(e,"missing-multi-factor-info","No second factor identifier is provided."),ot(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ot(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ot(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ot(e,"app-deleted","This instance of FirebaseApp has been deleted."),ot(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ot(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ot(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ot(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ot(e,"no-auth-event","An internal AuthError has occurred."),ot(e,"no-such-provider","User was not linked to an account with the given provider."),ot(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ot(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ot(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ot(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ot(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ot(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ot(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ot(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ot(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ot(e,"rejected-credential","The request contains malformed or mismatching credentials."),ot(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ot(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ot(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ot(e,"timeout","The operation has timed out."),ot(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ot(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ot(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ot(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ot(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ot(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ot(e,"unverified-email","The operation requires a verified email."),ot(e,"user-cancelled","The user did not grant your application the permissions it requested."),ot(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ot(e,"user-disabled","The user account has been disabled by an administrator."),ot(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ot(e,"user-signed-out",""),ot(e,"weak-password","The password must be 6 characters long or more."),ot(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ot(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),ot(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),ot(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),ot(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),ot(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),ot(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),ot(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),ot(e,"invalid-req-type","Invalid request parameters."),ot(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),ot(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),ot(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},Xs=$s,Zs=new Lt("auth","Firebase",$s()),eu=new _n("@firebase/auth");function tu(e){if(eu.logLevel<=vn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];eu.warn.apply(eu,["Auth (".concat(sr,"): ").concat(e)].concat(n))}}function nu(e){if(eu.logLevel<=vn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];eu.error.apply(eu,["Auth (".concat(sr,"): ").concat(e)].concat(n))}}function ru(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw su.apply(void 0,[e].concat(n))}function iu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return su.apply(void 0,[e].concat(n))}function au(e,t,n){var r=Object.assign(Object.assign({},Xs()),ot({},t,n));return new Lt("auth","Firebase",r).create(t,{appName:e.name})}function ou(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ru(e,"argument-error"),au(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function su(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=p(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(p(o)))}return Zs.create.apply(Zs,[e].concat(n))}function uu(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw su.apply(void 0,[t].concat(r))}}function cu(e){var t="INTERNAL ASSERTION FAILED: "+e;throw nu(t),new Error(t)}function lu(e,t){e||cu(t)}function hu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function fu(){return"http:"===du()||"https:"===du()}function du(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var pu=function(){function e(t,n){v(this,e),this.shortDelay=t,this.longDelay=n,lu(n>t,"Short delay should be less than long delay!"),this.isMobile=St()||Nt()}return k(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(fu()||Ct()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function vu(e,t){lu(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var mu=function(){function e(){v(this,e)}return k(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void cu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}))},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void cu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void cu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),gu=(ot(Bs={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ot(Bs,"MISSING_CUSTOM_TOKEN","internal-error"),ot(Bs,"INVALID_IDENTIFIER","invalid-email"),ot(Bs,"MISSING_CONTINUE_URI","internal-error"),ot(Bs,"INVALID_PASSWORD","wrong-password"),ot(Bs,"MISSING_PASSWORD","missing-password"),ot(Bs,"INVALID_LOGIN_CREDENTIALS","invalid-credential"),ot(Bs,"EMAIL_EXISTS","email-already-in-use"),ot(Bs,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ot(Bs,"INVALID_IDP_RESPONSE","invalid-credential"),ot(Bs,"INVALID_PENDING_TOKEN","invalid-credential"),ot(Bs,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ot(Bs,"MISSING_REQ_TYPE","internal-error"),ot(Bs,"EMAIL_NOT_FOUND","user-not-found"),ot(Bs,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ot(Bs,"EXPIRED_OOB_CODE","expired-action-code"),ot(Bs,"INVALID_OOB_CODE","invalid-action-code"),ot(Bs,"MISSING_OOB_CODE","internal-error"),ot(Bs,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ot(Bs,"INVALID_ID_TOKEN","invalid-user-token"),ot(Bs,"TOKEN_EXPIRED","user-token-expired"),ot(Bs,"USER_NOT_FOUND","user-token-expired"),ot(Bs,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ot(Bs,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),ot(Bs,"INVALID_CODE","invalid-verification-code"),ot(Bs,"INVALID_SESSION_INFO","invalid-verification-id"),ot(Bs,"INVALID_TEMPORARY_PROOF","invalid-credential"),ot(Bs,"MISSING_SESSION_INFO","missing-verification-id"),ot(Bs,"SESSION_EXPIRED","code-expired"),ot(Bs,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ot(Bs,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ot(Bs,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ot(Bs,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ot(Bs,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ot(Bs,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ot(Bs,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ot(Bs,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ot(Bs,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ot(Bs,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ot(Bs,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ot(Bs,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),ot(Bs,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),ot(Bs,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),ot(Bs,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),ot(Bs,"MISSING_CLIENT_TYPE","missing-client-type"),ot(Bs,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),ot(Bs,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),ot(Bs,"INVALID_REQ_TYPE","invalid-req-type"),Bs),yu=new pu(3e4,6e4);function ku(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function wu(e,t,n,r){return bu.apply(this,arguments)}function bu(){return bu=at(rt().mark((function e(t,n,r,i){var a,o=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",_u(t,a,at(rt().mark((function e(){var a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Kt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",mu.fetch()(Su(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}function _u(e,t,n){return xu.apply(this,arguments)}function xu(){return xu=at(rt().mark((function e(t,n,r){var i,a,o,s,u,l,h,f,d,p;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},gu),n),e.prev=2,a=new Cu(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Nu(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),h=c(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Nu(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Nu(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Nu(t,"user-disabled",s);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw au(t,p,d);case 34:ru(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ot)){e.next=41;break}throw e.t0;case 41:ru(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),xu.apply(this,arguments)}function Iu(e,t,n,r){return Eu.apply(this,arguments)}function Eu(){return Eu=at(rt().mark((function e(t,n,r,i){var a,o,s=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,wu(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ru(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Su(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?vu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Tu(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Cu=function(){function e(t){var n=this;v(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(iu(n.auth,"network-request-failed"))}),yu.get())}))}return k(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Nu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=iu(e,t,r);return i.customData._tokenResponse=n,i}function Ru(e){return void 0!==e&&void 0!==e.getResponse}function Pu(e){return void 0!==e&&void 0!==e.enterprise}var Au=function(){function e(t){if(v(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return k(e,[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,n=R(this.recaptchaEnforcementState);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.provider&&r.provider===e)return Tu(r.enforcementState)}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}]),e}();function Du(e){return Ou.apply(this,arguments)}function Ou(){return(Ou=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wu(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t){return Mu.apply(this,arguments)}function Mu(){return(Mu=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"GET","/v2/recaptchaConfig",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t){return ju.apply(this,arguments)}function ju(){return(ju=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e,t){return Vu.apply(this,arguments)}function Vu(){return(Vu=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Wu(){return Wu=at(rt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=ln(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,uu((a=Ku(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:qu(Hu(a.auth_time)),issuedAtTime:qu(Hu(a.iat)),expirationTime:qu(Hu(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Wu.apply(this,arguments)}function Hu(e){return 1e3*Number(e)}function Ku(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return nu("JWT malformed, contained fewer than 3 sections"),null;try{var a=gt(r);return a?JSON.parse(a):(nu("Failed to decode base64 JWT payload"),null)}catch(o){return nu("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Gu(e,t){return Qu.apply(this,arguments)}function Qu(){return Qu=at(rt().mark((function e(t,n){var r=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ot&&Yu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Qu.apply(this,arguments)}function Yu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var $u=function(){function e(t){v(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return k(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ju=function(){function e(t,n){v(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return k(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Xu(e){return Zu.apply(this,arguments)}function Zu(){return(Zu=at(rt().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Gu(t,zu(r,{idToken:i}));case 6:uu(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=zs(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=tc(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ju(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ec(){return(ec=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ln(t),e.next=3,Xu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(p(n),p(t))}function nc(e,t){return rc.apply(this,arguments)}function rc(){return(rc=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u(t,{},at(rt().mark((function e(){var r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Su(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",mu.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return(ac=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v2/accounts:revokeToken",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oc=function(){function e(){v(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return k(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){uu(e.idToken,"internal-error"),uu("undefined"!==typeof e.idToken,"internal-error"),uu("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ku(e);return uu(t,"internal-error"),uu("undefined"!==typeof t.exp,"internal-error"),uu("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=at(rt().mark((function e(t){var n,r=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],uu(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return cu("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(uu("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(uu("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(uu("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function sc(e,t){uu("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var uc=function(){function e(t){v(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=zs(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $u(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?p(a.providerData):[],this.metadata=new Ju(a.createdAt||void 0,a.lastLoginAt||void 0)}return k(e,[{key:"getIdToken",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(uu(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Wu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ec.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(uu(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){uu(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=at(rt().mark((function e(t){var n,r,i=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Xu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Gu(this,Fu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;uu(k&&x,t,"internal-error");var I=oc.fromJSON(this.name,x);uu("string"===typeof k,t,"internal-error"),sc(h,t.name),sc(f,t.name),uu("boolean"===typeof w,t,"internal-error"),uu("boolean"===typeof b,t,"internal-error"),sc(d,t.name),sc(p,t.name),sc(v,t.name),sc(m,t.name),sc(g,t.name),sc(y,t.name);var E=new e({uid:k,auth:t,email:f,emailVerified:w,displayName:h,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=at(rt().mark((function t(n,r){var i,a,o,s=arguments;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new oc).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Xu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),cc=new Map;function lc(e){lu(e instanceof Function,"Expected a class definition");var t=cc.get(e);return t?(lu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cc.set(e,t),t)}var hc=function(){function e(){v(this,e),this.type="NONE",this.storage={}}return k(e,[{key:"_isAvailable",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();hc.type="NONE";var fc=hc;function dc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var pc=function(){function e(t,n,r){v(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=dc(this.userKey,a.apiKey,o),this.fullPersistenceKey=dc("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return k(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?uc._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=at(rt().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(lc(fc),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||lc(fc),s=dc(i,n.config.apiKey,n.name),u=null,c=R(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=uc._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function vc(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bc(t))return"Blackberry";if(_c(t))return"Webos";if(gc(t))return"Safari";if((t.includes("chrome/")||yc(t))&&!t.includes("edge/"))return"Chrome";if(wc(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/firefox\//i.test(e)}function gc(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/crios\//i.test(e)}function kc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iemobile/i.test(e)}function wc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/android/i.test(e)}function bc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/blackberry/i.test(e)}function _c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/webos/i.test(e)}function xc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return xc(e)||wc(e)||_c(e)||bc(e)||/windows phone/i.test(e)||kc(e)}function Ec(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vc(Et());break;case"Worker":t="".concat(vc(Et()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(sr,"/").concat(r)}var Sc=function(){function e(t){v(this,e),this.auth=t,this.queue=[]}return k(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=at(rt().mark((function e(t){var n,r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=R(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=R(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(O_){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Tc(e){return Cc.apply(this,arguments)}function Cc(){return Cc=at(rt().mark((function e(t){var n,r=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",wu(t,"GET","/v2/passwordPolicy",ku(t,n)));case 2:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}var Nc=function(){function e(t){var n,r,i,a;v(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return k(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),Rc=function(){function e(t,n,r,i){v(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ac(this),this.idTokenSubscription=new Ac(this),this.beforeStateQueue=new Sc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zs,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return k(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=lc(t)),this._initializationPromise=this.queue(at(rt().mark((function r(){var i,a;return rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,pc.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=at(rt().mark((function e(t){var n,r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return uu(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ln(t):null)&&uu(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=at(rt().mark((function e(t){var n,r=this,i=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&uu(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(at(rt().mark((function n(){return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(lc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tc(this);case 2:t=e.sent,n=new Nc(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Lt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"revokeAccessToken",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentUser){e.next=8;break}return e.next=3,this.currentUser.getIdToken();case 3:return n=e.sent,r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},null!=this.tenantId&&(r.tenantId=this.tenantId),e.next=8,ic(this,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return uu(n=t&&lc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,pc.create(this,[lc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=at(rt().mark((function e(t){var n=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(uu(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return uu(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ec(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=at(rt().mark((function e(){var t,n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ot({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&tu("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pc(e){return ln(e)}var Ac=function(){function e(t){var n=this;v(this,e),this.auth=t,this.observer=null,this.addObserver=$t((function(e){return n.observer=e}))}return k(e,[{key:"next",get:function(){return uu(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Dc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=iu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Oc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Lc=function(){function e(t){v(this,e),this.type="recaptcha-enterprise",this.auth=Pc(t)}return k(e,[{key:"verify",value:function(){var e=at(rt().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Pu(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=at(rt().mark((function e(n,r){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lu(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Au(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Pu(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Dc("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mc(e,t,n){return Fc.apply(this,arguments)}function Fc(){return Fc=at(rt().mark((function e(t,n,r){var i,a,o,s,u=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Lc(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Fc.apply(this,arguments)}function jc(e,t,n,r){return Uc.apply(this,arguments)}function Uc(){return Uc=at(rt().mark((function e(t,n,r,i){var a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))){e.next=7;break}return e.next=3,Mc(t,n,r,"getOobCode"===r);case 3:return o=e.sent,e.abrupt("return",i(t,o));case 7:return e.abrupt("return",i(t,n).catch(function(){var e=at(rt().mark((function e(a){var o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.next=4,Mc(t,n,r,"getOobCode"===r);case 4:return o=e.sent,e.abrupt("return",i(t,o));case 8:return e.abrupt("return",Promise.reject(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}function Vc(e,t,n){var r=Pc(e);uu(r._canInitEmulator,r,"emulator-config-failed"),uu(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=zc(t),o=function(e){var t=zc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Bc(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Bc(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zc(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Bc(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var qc=function(){function e(t,n){v(this,e),this.providerId=t,this.signInMethod=n}return k(e,[{key:"toJSON",value:function(){return cu("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return cu("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return cu("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return cu("not implemented")}}]),e}();function Wc(e,t){return Hc.apply(this,arguments)}function Hc(){return(Hc=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v1/accounts:resetPassword",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(e,t){return Gc.apply(this,arguments)}function Gc(){return(Gc=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qc(e,t){return Yc.apply(this,arguments)}function Yc(){return(Yc=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v1/accounts:signUp",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $c(e,t){return Jc.apply(this,arguments)}function Jc(){return(Jc=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v1/accounts:update",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xc(e,t){return Zc.apply(this,arguments)}function Zc(){return(Zc=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t,"POST","/v1/accounts:signInWithPassword",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e,t){return tl.apply(this,arguments)}function tl(){return(tl=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v1/accounts:sendOobCode",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e,t){return rl.apply(this,arguments)}function rl(){return(rl=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",el(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function il(e,t){return al.apply(this,arguments)}function al(){return(al=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",el(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ol(e,t){return sl.apply(this,arguments)}function sl(){return(sl=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",el(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ul(e,t){return cl.apply(this,arguments)}function cl(){return(cl=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",el(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ll(e,t){return hl.apply(this,arguments)}function hl(){return(hl=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t,"POST","/v1/accounts:signInWithEmailLink",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fl(e,t){return dl.apply(this,arguments)}function dl(){return(dl=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t,"POST","/v1/accounts:signInWithEmailLink",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pl=function(e){b(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return k(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",jc(t,n,"signInWithPassword",Xc));case 5:return e.abrupt("return",ll(t,{email:this._email,oobCode:this._password}));case 6:ru(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",jc(t,r,"signUpPassword",Qc));case 5:return e.abrupt("return",fl(t,{idToken:n,email:this._email,oobCode:this._password}));case 6:ru(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(qc);function vl(e,t){return ml.apply(this,arguments)}function ml(){return(ml=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t,"POST","/v1/accounts:signInWithIdp",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gl=function(e){b(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return k(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return vl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vl(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ru("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=zs(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(qc);function yl(e,t){return kl.apply(this,arguments)}function kl(){return(kl=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v1/accounts:sendVerificationCode",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wl(){return(wl=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t,"POST","/v1/accounts:signInWithPhoneNumber",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bl(){return(bl=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iu(t,"POST","/v1/accounts:signInWithPhoneNumber",ku(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Nu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _l=ot({},"USER_NOT_FOUND","user-not-found");function xl(){return(xl=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Iu(t,"POST","/v1/accounts:signInWithPhoneNumber",ku(t,r),_l));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Il=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this,"phone","phone")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return wl.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return bl.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return xl.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(qc);var El=function(){function e(t){var n,r,i,a,o,s;v(this,e);var u=Gt(Qt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);uu(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return k(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Gt(Qt(e)).link,n=t?Gt(Qt(t)).deep_link_id:null,r=Gt(Qt(e)).deep_link_id;return(r?Gt(Qt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Sl=function(){function e(){v(this,e),this.providerId=e.PROVIDER_ID}return k(e,null,[{key:"credential",value:function(e,t){return pl._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=El.parseLink(t);return uu(n,"argument-error"),pl._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Sl.PROVIDER_ID="password",Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Tl=function(){function e(t){v(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return k(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Cl=function(e){b(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).scopes=[],e}return k(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return p(this.scopes)}}]),n}(Tl),Nl=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return uu(e.idToken||e.accessToken,"argument-error"),gl._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return uu("providerId"in t&&"signInMethod"in t,"argument-error"),gl._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Cl),Rl=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.call(this,"facebook.com")}return k(n,null,[{key:"credential",value:function(e){return gl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Cl);Rl.FACEBOOK_SIGN_IN_METHOD="facebook.com",Rl.PROVIDER_ID="facebook.com";var Pl=function(e){b(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return k(n,null,[{key:"credential",value:function(e,t){return gl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Cl);Pl.GOOGLE_SIGN_IN_METHOD="google.com",Pl.PROVIDER_ID="google.com";var Al=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.call(this,"github.com")}return k(n,null,[{key:"credential",value:function(e){return gl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Cl);Al.GITHUB_SIGN_IN_METHOD="github.com",Al.PROVIDER_ID="github.com";var Dl=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return k(n,[{key:"_getIdTokenResponse",value:function(e){return vl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vl(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(qc),Ol=function(e){b(n,e);var t=S(n);function n(e){return v(this,n),uu(e.startsWith("saml."),"argument-error"),t.call(this,e)}return k(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Dl.fromJSON(e);return uu(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Dl._create(r,n)}catch(i){return null}}}]),n}(Tl),Ll=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.call(this,"twitter.com")}return k(n,null,[{key:"credential",value:function(e,t){return gl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Cl);function Ml(e,t){return Fl.apply(this,arguments)}function Fl(){return(Fl=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t,"POST","/v1/accounts:signUp",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ll.TWITTER_SIGN_IN_METHOD="twitter.com",Ll.PROVIDER_ID="twitter.com";var jl=function(){function e(t){v(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return k(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=at(rt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,uc._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ul(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=at(rt().mark((function t(n,r,i){var a;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ul(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ul(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Vl(){return(Vl=at(rt().mark((function e(t){var n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pc(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new jl({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ml(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,jl._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zl=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o,s;return v(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(I(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return k(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ot);function Bl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw zl._fromErrorAndOperation(e,n,t,r);throw n}))}function ql(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Wl(e,t){return Hl.apply(this,arguments)}function Hl(){return Hl=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ln(t),e.next=3,Ql(!0,r,n);case 3:return e.t0=Uu,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ql(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Kl(e,t){return Gl.apply(this,arguments)}function Gl(){return Gl=at(rt().mark((function e(t,n){var r,i,a=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Gu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",jl._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Ql(e,t,n){return Yl.apply(this,arguments)}function Yl(){return(Yl=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xu(n);case 2:i=ql(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",uu(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $l(e,t){return Jl.apply(this,arguments)}function Jl(){return Jl=at(rt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Gu(t,Bl(i,a,n,t),r);case 6:return uu((o=e.sent).idToken,i,"internal-error"),uu(s=Ku(o.idToken),i,"internal-error"),u=s.sub,uu(t.uid===u,i,"user-mismatch"),e.abrupt("return",jl._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ru(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Jl.apply(this,arguments)}function Xl(e,t){return Zl.apply(this,arguments)}function Zl(){return Zl=at(rt().mark((function e(t,n){var r,i,a,o,s=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Bl(t,i,n);case 4:return a=e.sent,e.next=7,jl._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function eh(e,t){return th.apply(this,arguments)}function th(){return(th=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(Pc(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nh(e,t){return rh.apply(this,arguments)}function rh(){return(rh=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ln(t),e.next=3,Ql(!1,r,n.providerId);case 3:return e.abrupt("return",Kl(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ih(e,t){return ah.apply(this,arguments)}function ah(){return(ah=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(ln(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oh(e,t){return sh.apply(this,arguments)}function sh(){return(sh=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t,"POST","/v1/accounts:signInWithCustomToken",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uh(){return(uh=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pc(t),e.next=3,oh(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,jl._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ch=function(){function e(t,n){v(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return k(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?lh._fromServerResponse(e,t):"totpInfo"in t?hh._fromServerResponse(e,t):ru(e,"internal-error")}}]),e}(),lh=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return k(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ch),hh=function(e){b(n,e);var t=S(n);function n(e){return v(this,n),t.call(this,"totp",e)}return k(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ch);function fh(e,t,n){var r;uu((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),uu("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(uu(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(uu(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function dh(e){return ph.apply(this,arguments)}function ph(){return(ph=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Pc(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vh(){return(vh=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pc(t),a={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},r&&fh(i,a,r),e.next=5,jc(i,a,"getOobCode",il);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(){return mh=at(rt().mark((function e(t,n,r){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wc(ln(t),{oobCode:n,newPassword:r}).catch(function(){var e=at(rt().mark((function e(n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&dh(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}function gh(){return(gh=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$c(ln(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yh(e,t){return kh.apply(this,arguments)}function kh(){return(kh=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ln(t),e.next=3,Wc(r,{oobCode:n});case 3:i=e.sent,uu(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return uu(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:uu(i.mfaInfo,r,"internal-error");case 13:uu(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ch._fromServerResponse(Pc(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wh(){return(wh=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yh(ln(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bh(e,t,n){return _h.apply(this,arguments)}function _h(){return _h=at(rt().mark((function e(t,n,r){var i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pc(t),a=jc(i,{returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ml),e.next=5,a.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&dh(t),e}));case 5:return o=e.sent,e.next=8,jl._fromIdTokenResponse(i,"signIn",o);case 8:return s=e.sent,e.next=11,i._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),_h.apply(this,arguments)}function xh(){return(xh=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t){uu(t.handleCodeInApp,i,"argument-error"),t&&fh(i,e,t)},i=Pc(t),o(a={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},r),e.next=6,jc(i,a,"getOobCode",ol);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ih(){return(Ih=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ln(t),uu((a=Sl.credentialWithLink(n,r||hu()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",eh(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eh(e,t){return Sh.apply(this,arguments)}function Sh(){return(Sh=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v1/accounts:createAuthUri",ku(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Th(){return(Th=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fu()?hu():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Eh(ln(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ch(){return(Ch=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ln(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&fh(r.auth,a,n),e.next=8,nl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nh(){return(Nh=at(rt().mark((function e(t,n,r){var i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ln(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&fh(i.auth,o,r),e.next=8,ul(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rh(e,t){return Ph.apply(this,arguments)}function Ph(){return(Ph=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ah(){return(Ah=at(rt().mark((function e(t,n){var r,i,a,o,s,u,c;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ln(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Gu(a,Rh(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dh(e,t,n){return Oh.apply(this,arguments)}function Oh(){return(Oh=at(rt().mark((function e(t,n,r){var i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Gu(t,Kc(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lh=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Mh=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this,e,r,i)).username=a,o}return k(n)}(Lh),Fh=function(e){b(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"facebook.com",r)}return k(n)}(Lh),jh=function(e){b(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return k(n)}(Mh),Uh=function(e){b(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"google.com",r)}return k(n)}(Lh),Vh=function(e){b(n,e);var t=S(n);function n(e,r,i){return v(this,n),t.call(this,e,"twitter.com",r,i)}return k(n)}(Mh);function zh(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ku(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Lh(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Fh(a,i);case"github.com":return new jh(a,i);case"google.com":return new Uh(a,i);case"twitter.com":return new Vh(a,i,e.screenName||null);case"custom":case"anonymous":return new Lh(a,null);default:return new Lh(a,r,i)}}(n)}var Bh=function(){function e(t,n,r){v(this,e),this.type=t,this.credential=n,this.user=r}return k(e,[{key:"toJSON",value:function(){return{multiFactorSession:ot({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),qh=function(){function e(t,n,r){v(this,e),this.session=t,this.hints=n,this.signInResolver=r}return k(e,[{key:"resolveSignIn",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Pc(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ch._fromServerResponse(r,e)}));uu(i.mfaPendingCredential,r,"internal-error");var o=Bh._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=at(rt().mark((function e(t){var a,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,jl._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return uu(n.user,r,"internal-error"),e.abrupt("return",jl._forOperation(n.user,n.operationType,s));case 17:ru(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Wh(e,t){return wu(e,"POST","/v2/accounts/mfaEnrollment:start",ku(e,t))}function Hh(e,t){return wu(e,"POST","/v2/accounts/mfaEnrollment:finalize",ku(e,t))}var Kh=function(){function e(t){var n=this;v(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ch._fromServerResponse(t.auth,e)})))}))}return k(e,[{key:"getSession",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Bh,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Gu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Gu(this.user,wu(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",ku(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Gh=new WeakMap;var Qh="__sak",Yh=function(){function e(t,n){v(this,e),this.storageRetriever=t,this.type=n}return k(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var $h=function(e){b(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Et();return gc(e)||xc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ic(),e._shouldAllowMigration=!0,e}return k(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Rt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=at(rt().mark((function e(t,r){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs(_(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=at(rt().mark((function e(t){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs(_(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs(_(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Yh);$h.type="LOCAL";var Jh=$h,Xh=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return k(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Yh);Xh.type="SESSION";var Zh=Xh;function ef(e){return Promise.all(e.map(function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var tf=function(){function e(t){v(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return k(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=at(rt().mark((function e(t){var n,r,i,a,o,s,u,c;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ef(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function nf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}tf.receivers=[];var rf=function(){function e(t){v(this,e),this.target=t,this.handlers=new Set}return k(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=at(rt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=nf("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function af(){return window}function of(e){af().location.href=e}function sf(){return"undefined"!==typeof af().WorkerGlobalScope&&"function"===typeof af().importScripts}function uf(){return cf.apply(this,arguments)}function cf(){return(cf=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function lf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var hf="firebaseLocalStorageDb",ff="firebaseLocalStorage",df="fbase_key",pf=function(){function e(t){v(this,e),this.request=t}return k(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function vf(e,t){return e.transaction([ff],t?"readwrite":"readonly").objectStore(ff)}function mf(){var e=indexedDB.deleteDatabase(hf);return new pf(e).toPromise()}function gf(){var e=indexedDB.open(hf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ff,{keyPath:df})}catch(r){n(r)}})),e.addEventListener("success",at(rt().mark((function n(){var r;return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ff)){n.next=12;break}return r.close(),n.next=5,mf();case 5:return n.t0=t,n.next=8,gf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function yf(e,t,n){return kf.apply(this,arguments)}function kf(){return kf=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vf(t,!0).put((ot(i={},df,n),ot(i,"value",r),i)),e.abrupt("return",new pf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}function wf(e,t){return bf.apply(this,arguments)}function bf(){return bf=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vf(t,!1).get(n),e.next=3,new pf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),bf.apply(this,arguments)}function _f(e,t){var n=vf(e,!0).delete(t);return new pf(n).toPromise()}var xf=function(){function e(){v(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return k(e,[{key:"_openDb",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,gf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=at(rt().mark((function e(){var t=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=tf._getInstance(sf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=at(rt().mark((function e(n,r){var i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=at(rt().mark((function e(){var t,n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new rf(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&lf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,gf();case 5:return t=e.sent,e.next=8,yf(t,Qh,"1");case 8:return e.next=10,_f(t,Qh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=at(rt().mark((function e(t,n){var r=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return yf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return wf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=at(rt().mark((function e(t){var n=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return _f(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=at(rt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=vf(e,!1).getAll();return new pf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:if(n=[],r=new Set,0!==t.length){i=R(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();xf.type="LOCAL";var If=xf;function Ef(e,t){return wu(e,"POST","/v2/accounts/mfaSignIn:start",ku(e,t))}function Sf(e,t){return wu(e,"POST","/v2/accounts/mfaSignIn:finalize",ku(e,t))}var Tf=1e12,Cf=function(){function e(t){v(this,e),this.auth=t,this.counter=Tf,this._widgets=new Map}return k(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Nf(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Tf;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Tf;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Tf,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Nf=function(){function e(t,n,r){var i=this;v(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;uu(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return k(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Rf=Oc("rcb"),Pf=new pu(3e4,6e4),Af=function(){function e(){var t;v(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=af().grecaptcha)||void 0===t?void 0:t.render)}return k(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return uu(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Ru(af().grecaptcha)?Promise.resolve(af().grecaptcha):new Promise((function(r,i){var a=af().setTimeout((function(){i(iu(e,"network-request-failed"))}),Pf.get());af()[Rf]=function(){af().clearTimeout(a),delete af()[Rf];var o=af().grecaptcha;if(o&&Ru(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(iu(e,"internal-error"))},Dc("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Kt({onload:Rf,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(iu(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=af().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Df=function(){function e(){v(this,e)}return k(e,[{key:"load",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Cf(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Of="recaptcha",Lf={theme:"light",type:"image"},Mf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Lf);v(this,e),this.parameters=r,this.type=Of,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pc(t),this.isInvisible="invisible"===this.parameters.size,uu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;uu(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Df:new Af,this.validateStartingState()}return k(e,[{key:"verify",value:function(){var e=at(rt().mark((function e(){var t,n,r,i=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){uu(!this.parameters.sitekey,this.auth,"argument-error"),uu(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),uu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=af()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){uu(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uu(fu()&&!sf(),this.auth,"internal-error"),e.next=3,Ff();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Du(this.auth);case 8:uu(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return uu(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ff(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var jf=function(){function e(t,n){v(this,e),this.verificationId=t,this.onConfirmation=n}return k(e,[{key:"confirm",value:function(e){var t=Il._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Uf(){return(Uf=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pc(t),e.next=3,qf(i,n,ln(r));case 3:return a=e.sent,e.abrupt("return",new jf(a,(function(e){return eh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vf(e,t,n){return zf.apply(this,arguments)}function zf(){return(zf=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ln(t),e.next=3,Ql(!1,i,"phone");case 3:return e.next=5,qf(i.auth,n,ln(r));case 5:return a=e.sent,e.abrupt("return",new jf(a,(function(e){return nh(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bf(){return(Bf=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ln(t),e.next=3,qf(i.auth,n,ln(r));case 3:return a=e.sent,e.abrupt("return",new jf(a,(function(e){return ih(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qf(e,t,n){return Wf.apply(this,arguments)}function Wf(){return(Wf=at(rt().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,uu("string"===typeof a,t,"argument-error"),uu(r.type===Of,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return uu("enroll"===s.type,t,"internal-error"),e.next=13,Wh(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return uu("signin"===s.type,t,"internal-error"),uu(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ef(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,yl(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}function Hf(){return(Hf=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kl(ln(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kf=function(){function e(t){v(this,e),this.providerId=e.PROVIDER_ID,this.auth=Pc(t)}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return qf(this.auth,e,ln(t))}}],[{key:"credential",value:function(e,t){return Il._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Il._fromTokenResponse(n,r):null}}]),e}();function Gf(e,t){return t?lc(t):(uu(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Kf.PROVIDER_ID="phone",Kf.PHONE_SIGN_IN_METHOD="phone";var Qf=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this,"custom","custom")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return vl(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return vl(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return vl(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(qc);function Yf(e){return Xl(e.auth,new Qf(e),e.bypassAuthState)}function $f(e){var t=e.auth,n=e.user;return uu(n,t,"internal-error"),$l(n,new Qf(e),e.bypassAuthState)}function Jf(e){return Xf.apply(this,arguments)}function Xf(){return(Xf=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,uu(r=t.user,n,"internal-error"),e.abrupt("return",Kl(r,new Qf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];v(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return k(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=at(rt().mark((function t(n,r){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=at(rt().mark((function e(t){var n,r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yf;case"linkViaPopup":case"linkViaRedirect":return Jf;case"reauthViaPopup":case"reauthViaRedirect":return $f;default:ru(this.auth,"internal-error")}}},{key:"resolve",value:function(e){lu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){lu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ed=new pu(2e3,1e4);function td(e,t,n){return nd.apply(this,arguments)}function nd(){return(nd=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pc(t),ou(t,n,Tl),a=Gf(i,r),o=new od(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rd(){return(rd=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ou((i=ln(t)).auth,n,Tl),a=Gf(i.auth,r),o=new od(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function id(e,t,n){return ad.apply(this,arguments)}function ad(){return(ad=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ou((i=ln(t)).auth,n,Tl),a=Gf(i.auth,r),o=new od(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var od=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o){var s;return v(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=I(s),s}return k(n,[{key:"executeNotNull",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return uu(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=at(rt().mark((function e(){var t,n=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lu(1===this.filter.length,"Popup operations only handle one event"),t=nf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(iu(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(iu(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(iu(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,ed.get())}()}}]),n}(Zf);od.currentPopupAction=null;var sd="pendingRedirect",ud=new Map,cd=function(e){b(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return k(n,[{key:"execute",value:function(){var e=at(rt().mark((function e(){var t,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ud.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ld(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Vs(_(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ud.set(this.auth._key(),t);case 21:return this.bypassAuthState||ud.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=at(rt().mark((function e(t){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Vs(_(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Vs(_(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Zf);function ld(e,t){return hd.apply(this,arguments)}function hd(){return(hd=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=md(n),i=vd(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fd(e,t){return dd.apply(this,arguments)}function dd(){return(dd=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vd(t)._set(md(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pd(e,t){ud.set(e._key(),t)}function vd(e){return lc(e._redirectPersistence)}function md(e){return dc(sd,e.config.apiKey,e.name)}function gd(e,t,n){return function(e,t,n){return yd.apply(this,arguments)}(e,t,n)}function yd(){return(yd=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pc(t),ou(t,n,Tl),e.next=4,i._initializationPromise;case 4:return a=Gf(i,r),e.next=7,fd(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kd(e,t,n){return function(e,t,n){return wd.apply(this,arguments)}(e,t,n)}function wd(){return(wd=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ou((i=ln(t)).auth,n,Tl),e.next=4,i.auth._initializationPromise;case 4:return a=Gf(i.auth,r),e.next=7,fd(a,i.auth);case 7:return e.next=9,Td(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(e,t,n){return function(e,t,n){return _d.apply(this,arguments)}(e,t,n)}function _d(){return(_d=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ou((i=ln(t)).auth,n,Tl),e.next=4,i.auth._initializationPromise;case 4:return a=Gf(i.auth,r),e.next=7,Ql(!1,i,n.providerId);case 7:return e.next=9,fd(a,i.auth);case 9:return e.next=11,Td(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xd(e,t){return Id.apply(this,arguments)}function Id(){return(Id=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pc(t)._initializationPromise;case 2:return e.abrupt("return",Ed(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ed(e,t){return Sd.apply(this,arguments)}function Sd(){return Sd=at(rt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Pc(t),a=Gf(i,n),o=new cd(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Sd.apply(this,arguments)}function Td(e){return Cd.apply(this,arguments)}function Cd(){return(Cd=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nf("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nd=function(){function e(t){v(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return k(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Pd(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(iu(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rd(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Rd(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Rd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Pd(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ad(e){return Dd.apply(this,arguments)}function Dd(){return Dd=at(rt().mark((function e(t){var n,r=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",wu(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Dd.apply(this,arguments)}var Od=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ld=/^https?/;function Md(){return(Md=at(rt().mark((function e(t){var n,r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ad(t);case 4:n=e.sent,r=n.authorizedDomains,i=R(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Fd(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ru(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Fd(e){var t=hu(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ld.test(r))return!1;if(Od.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var jd=new pu(3e4,6e4);function Ud(){var e=af().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=p(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Vd=null;function zd(e){return Vd=Vd||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ud(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ud(),n(iu(e,"network-request-failed"))},timeout:jd.get()})}if(null===(i=null===(r=af().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=af().gapi)||void 0===a?void 0:a.load)){var s=Oc("iframefcb");return af()[s]=function(){gapi.load?o():n(iu(e,"network-request-failed"))},Dc("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Vd=null,e}))}(e),Vd}var Bd=new pu(5e3,15e3),qd="__/auth/iframe",Wd="emulator/auth/iframe",Hd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gd(e){var t=e.config;uu(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?vu(t,Wd):"https://".concat(e.config.authDomain,"/").concat(qd),r={apiKey:t.apiKey,appName:e.name,v:sr},i=Kd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Kt(r).slice(1))}function Qd(e){return Yd.apply(this,arguments)}function Yd(){return Yd=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zd(t);case 2:return n=e.sent,uu(r=af().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Gd(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hd,dontclear:!0},(function(e){return new Promise(function(){var n=at(rt().mark((function n(r,i){var a,o,s;return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){af().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=iu(t,"network-request-failed"),o=af().setTimeout((function(){i(a)}),Bd.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Yd.apply(this,arguments)}var $d={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jd=function(){function e(t){v(this,e),this.window=t,this.associatedEvent=null}return k(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Xd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},$d),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Et().toLowerCase();n&&(s=yc(l)?"_blank":n),mc(l)&&(t=t||"http://localhost",u.scrollbars="yes");var h=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return xc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Jd(null);var f=window.open(t||"",s,h);uu(f,e,"popup-blocked");try{f.focus()}catch(d){}return new Jd(f)}var Zd="__/auth/handler",ep="emulator/auth/handler",tp=encodeURIComponent("fac");function np(e,t,n,r,i,a){return rp.apply(this,arguments)}function rp(){return(rp=at(rt().mark((function e(t,n,r,i,a,o){var s,u,l,h,f,d,p,v,m,g,y,k,w;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uu(t.config.authDomain,t,"auth-domain-config-required"),uu(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:sr,eventId:a},n instanceof Tl)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Bt(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,l=Object.entries(o||{});u<l.length;u++)h=c(l[u],2),f=h[0],d=h[1],s[f]=d;for(n instanceof Cl&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,w=k?"#".concat(tp,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(ip(t),"?").concat(Kt(v).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ip(e){var t=e.config;return t.emulator?vu(t,ep):"https://".concat(t.authDomain,"/").concat(Zd)}var ap="webStorageSupport",op=function(){function e(){v(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zh,this._completeRedirectFn=Ed,this._overrideRedirectResult=pd}return k(e,[{key:"_openPopup",value:function(){var e=at(rt().mark((function e(t,n,r,i){var a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lu(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,np(t,n,r,hu(),i);case 3:return o=e.sent,e.abrupt("return",Xd(t,o,nf()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=at(rt().mark((function e(t,n,r,i){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,np(t,n,r,hu(),i);case 4:return of(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(lu(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qd(t);case 2:return n=e.sent,r=new Nd(t),n.register("authEvent",(function(e){return uu(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ap,{type:ap},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ap];void 0!==i&&t(!!i),ru(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Md.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ic()||gc()||xc()}}]),e}(),sp=op,up=function(){function e(t){v(this,e),this.factorId=t}return k(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return cu("unexpected MultiFactorSessionType")}}}]),e}(),cp=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this,"phone")).credential=e,r}return k(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return wu(e,"POST","/v2/accounts/mfaEnrollment:finalize",ku(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return wu(e,"POST","/v2/accounts/mfaSignIn:finalize",ku(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(up),lp=function(){function e(){v(this,e)}return k(e,null,[{key:"assertion",value:function(e){return cp._fromCredential(e)}}]),e}();lp.FACTOR_ID="phone";var hp=function(){function e(){v(this,e)}return k(e,null,[{key:"assertionForEnrollment",value:function(e,t){return fp._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return fp._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uu("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,a=r.user.auth,o={idToken:r.credential,totpEnrollmentInfo:{}},wu(a,"POST","/v2/accounts/mfaEnrollment:start",ku(a,o));case 4:return i=e.sent,e.abrupt("return",dp._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}var a,o}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();hp.FACTOR_ID="totp";var fp=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return k(n,[{key:"_finalizeEnroll",value:function(){var e=at(rt().mark((function e(t,n,r){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uu("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Hh(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uu(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Sf(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(up),dp=function(){function e(t,n,r,i,a,o,s){v(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return k(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(pp(e)||pp(t))&&(r=!0),r&&(pp(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),pp(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function pp(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var vp="@firebase/auth",mp="1.5.1",gp=function(){function e(t){v(this,e),this.auth=t,this.internalListeners=new Map}return k(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){uu(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var yp;!function(e){var t;null===(t=wt())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function kp(){return window}yp="Browser",er(new hn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;uu(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:yp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ec(yp)},l=new Rc(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),er(new hn("auth-internal",(function(e){return function(e){return new gp(e)}(Pc(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),dr(vp,mp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(yp)),dr(vp,mp,"esm2017");var wp=2e3;function bp(e,t,n){return _p.apply(this,arguments)}function _p(){return(_p=at(rt().mark((function e(t,n,r){var i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=kp(),o=a.BuildInfo,lu(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Cp(n.sessionId);case 4:return s=e.sent,u={},xc()?u.ibi=o.packageName:wc()?u.apn=o.packageName:ru(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",np(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xp(){return(xp=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kp(),r=n.BuildInfo,i={},xc()?i.iosBundleId=r.packageName:wc()?i.androidPackageName=r.packageName:ru(t,"operation-not-supported-in-this-environment"),e.next=5,Ad(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ip(e){var t=kp().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ep(e,t,n){return Sp.apply(this,arguments)}function Sp(){return(Sp=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kp(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(iu(t,"redirect-cancelled-by-user"))}),wp))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),wc()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function Tp(e){var t,n,r,i,a,o,s,u,c,l,h=kp();uu("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),uu("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),uu("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),uu("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),uu("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Cp(e){return Np.apply(this,arguments)}function Np(){return(Np=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rp(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rp(e){if(lu(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Pp=20,Ap=function(e){b(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return k(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Vs(_(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Nd);function Dp(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:jp(),postBody:null,tenantId:e.tenantId,error:iu(e,"no-auth-event")}}function Op(e,t){return Up()._set(Vp(e),t)}function Lp(e){return Mp.apply(this,arguments)}function Mp(){return(Mp=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Up()._get(Vp(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Up()._remove(Vp(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fp(e,t){var n,r,i=function(e){var t=zp(e),n=t.link?decodeURIComponent(t.link):void 0,r=zp(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return zp(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=zp(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?iu(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function jp(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Pp;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Up(){return lc(Jh)}function Vp(e){return dc("authEvent",e.config.apiKey,e.name)}function zp(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=N(e.split("?"));t[0];return Gt(t.slice(1).join("?"))}var Bp=function(){function e(){v(this,e),this._redirectPersistence=Zh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ed,this._overrideRedirectResult=pd}return k(e,[{key:"_initialize",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Ap(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ru(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=at(rt().mark((function e(t,n,r,i){var a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tp(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ud.clear(),e.next=10,this._originValidation(t);case 10:return o=Dp(t,r,i),e.next=13,Op(t,o);case 13:return e.next=15,bp(t,o,n);case 15:return s=e.sent,e.next=18,Ip(s);case 18:return u=e.sent,e.abrupt("return",Ep(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return xp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=kp(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(at(rt().mark((function n(){return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lp(e);case 2:t.onEvent(Wp());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=at(rt().mark((function n(r){var i,a;return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Lp(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Fp(i,r.url)),t.onEvent(a||Wp());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");kp().handleOpenURL=function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),qp=Bp;function Wp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:iu("no-auth-event")}}var Hp=1e3;function Kp(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Gp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return!("file:"!==Kp()&&"ionic:"!==Kp()&&"capacitor:"!==Kp()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return Rt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/Edge\/\d+/.test(e)}(e)}function Yp(){try{var e=self.localStorage,t=nf();if(e)return e.setItem(t,"1"),e.removeItem(t),!Qp()||At()}catch(n){return $p()&&At()}return!1}function $p(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Jp(){return("http:"===Kp()||"https:"===Kp()||Ct()||Gp())&&!(Nt()||Tt())&&Yp()&&!$p()}function Xp(){return Gp()&&"undefined"!==typeof document}function Zp(){return ev.apply(this,arguments)}function ev(){return(ev=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xp()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Hp);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tv={LOCAL:"local",NONE:"none",SESSION:"session"},nv=uu,rv="persistence";function iv(e,t){nv(Object.values(tv).includes(t),e,"invalid-persistence-type"),Nt()?nv(t!==tv.SESSION,e,"unsupported-persistence-type"):Tt()?nv(t===tv.NONE,e,"unsupported-persistence-type"):$p()?nv(t===tv.NONE||t===tv.LOCAL&&At(),e,"unsupported-persistence-type"):nv(t===tv.NONE||Yp(),e,"unsupported-persistence-type")}function av(e){return ov.apply(this,arguments)}function ov(){return(ov=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=sv(),r=dc(rv,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sv(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var uv=uu,cv=function(){function e(){v(this,e),this.browserResolver=lc(sp),this.cordovaResolver=lc(qp),this.underlyingResolver=null,this._redirectPersistence=Zh,this._completeRedirectFn=Ed,this._overrideRedirectResult=pd}return k(e,[{key:"_initialize",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=at(rt().mark((function e(t,n,r,i){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=at(rt().mark((function e(t,n,r,i){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Xp()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return uv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Zp();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function lv(e){return e.unwrap()}function hv(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new mv(e,function(e,t){var n,r=ln(e),i=t;return uu(t.customData.operationType,r,"argument-error"),uu(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),qh._fromError(r,i)}(e,t));else if(r){var i=fv(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function fv(e){var t=(e instanceof Ot?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ot)&&"temporaryProof"in t&&"phoneNumber"in t)return Kf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===qs.PASSWORD)return null;switch(r){case qs.GOOGLE:n=Pl;break;case qs.FACEBOOK:n=Rl;break;case qs.GITHUB:n=Al;break;case qs.TWITTER:n=Ll;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Dl._create(r,s):gl._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Nl(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ot?n.credentialFromError(e):n.credentialFromResult(e)}function dv(e,t){return t.catch((function(t){throw t instanceof Ot&&hv(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,fv(t)),additionalUserInfo:zh(e),user:gv.getOrCreate(r)}}))}function pv(e,t){return vv.apply(this,arguments)}function vv(){return(vv=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return dv(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mv=function(){function e(t,n){v(this,e),this.resolver=n,this.auth=t.wrapped()}return k(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return dv(lv(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),gv=function(){function e(t){v(this,e),this._delegate=t,this.multiFactor=function(e){var t=ln(e);return Gh.has(t)||Gh.set(t,Kh._fromUser(t)),Gh.get(t)}(t)}return k(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dv(this.auth,nh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pv(this.auth,Vf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dv(this.auth,id(this._delegate,t,cv)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,av(Pc(this.auth));case 2:return e.abrupt("return",bd(this._delegate,t,cv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dv(this.auth,ih(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return pv(this.auth,function(e,t,n){return Bf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return dv(this.auth,function(e,t,n){return rd.apply(this,arguments)}(this._delegate,e,cv))}},{key:"reauthenticateWithRedirect",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,av(Pc(this.auth));case 2:return e.abrupt("return",kd(this._delegate,t,cv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ch.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wl(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Dh(ln(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Dh(ln(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Hf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ah.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Nh.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();gv.USER_MAP=new WeakMap;var yv=uu,kv=function(){function e(t,n){if(v(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;yv(r,"invalid-api-key",{appName:t.name}),yv(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?cv:void 0;this._delegate=n.initialize({options:{persistence:bv(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Js),this.linkUnderlyingAuth()}return k(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?gv.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Vc(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return gh.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return yh(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return mh.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dv(this._delegate,bh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Th.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=El.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yv(Jp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xd(this._delegate,cv);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",dv(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Pc(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=wv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=wv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return xh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return vh.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:iv(this._delegate,t),e.t0=t,e.next=e.t0===tv.SESSION?4:e.t0===tv.LOCAL?6:e.t0===tv.NONE?11:13;break;case 4:return n=Zh,e.abrupt("break",14);case 6:return e.next=8,lc(If)._isAvailable();case 8:return r=e.sent,n=r?If:Jh,e.abrupt("break",14);case 11:return n=fc,e.abrupt("break",14);case 13:return e.abrupt("return",ru("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return dv(this._delegate,function(e){return Vl.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return dv(this._delegate,eh(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return dv(this._delegate,function(e,t){return uh.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return dv(this._delegate,function(e,t,n){return eh(ln(e),Sl.credential(t,n)).catch(function(){var t=at(rt().mark((function t(n){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&dh(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return dv(this._delegate,function(e,t,n){return Ih.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return pv(this._delegate,function(e,t,n){return Uf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yv(Jp(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",dv(this._delegate,td(this._delegate,t,cv)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yv(Jp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,av(this._delegate);case 3:return e.abrupt("return",gd(this._delegate,t,cv));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return wh.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function wv(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&gv.getOrCreate(e))},error:t,complete:n}}function bv(e,t){var n=function(e,t){var n=sv();if(!n)return[];var r=dc(rv,e,t);switch(n.getItem(r)){case tv.NONE:return[fc];case tv.LOCAL:return[If,Zh];case tv.SESSION:return[Zh];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(If)||n.push(If),"undefined"!==typeof window)for(var r=0,i=[Jh,Zh];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(fc)||n.push(fc),n}kv.Persistence=tv;var _v=function(){function e(){v(this,e),this.providerId="phone",this._delegate=new Kf(lv(xo.auth()))}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Kf.credential(e,t)}}]),e}();_v.PHONE_SIGN_IN_METHOD=Kf.PHONE_SIGN_IN_METHOD,_v.PROVIDER_ID=Kf.PROVIDER_ID;var xv=uu,Iv=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xo.app();v(this,e),xv(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Mf(i.auth(),t,n),this.type=this._delegate.type}return k(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new hn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new kv(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ws,PASSWORD_RESET:Hs,RECOVER_EMAIL:Ks,REVERT_SECOND_FACTOR_ADDITION:Gs,VERIFY_AND_CHANGE_EMAIL:Qs,VERIFY_EMAIL:Ys}},EmailAuthProvider:Sl,FacebookAuthProvider:Rl,GithubAuthProvider:Al,GoogleAuthProvider:Pl,OAuthProvider:Nl,SAMLAuthProvider:Ol,PhoneAuthProvider:_v,PhoneMultiFactorGenerator:lp,RecaptchaVerifier:Iv,TwitterAuthProvider:Ll,Auth:kv,AuthCredential:qc,Error:Ot}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.1")}(xo);var Ev="@firebase/database",Sv="1.0.2",Tv="";function Cv(e){Tv=e}var Nv=function(){function e(t){v(this,e),this.domStorage_=t,this.prefix_="firebase:"}return k(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),jt(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ft(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Rv=function(){function e(){v(this,e),this.cache_={},this.isInMemoryStorage=!0}return k(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Vt(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Pv=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Nv(t)}}catch(n){}return new Rv},Av=Pv("localStorage"),Dv=Pv("sessionStorage"),Ov=new _n("@firebase/database"),Lv=function(){var e=1;return function(){return e++}}(),Mv=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,lt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Yt;n.update(t);var r=n.digest();return dt.encodeByteArray(r)},Fv=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?jt(r):r,t+=" "}return t},jv=null,Uv=!0,Vv=function(e,t){lt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ov.logLevel=vn.VERBOSE,jv=Ov.log.bind(Ov),t&&Dv.set("logging_enabled",!0)):"function"===typeof e?jv=e:(jv=null,Dv.remove("logging_enabled"))},zv=function(){if(!0===Uv&&(Uv=!1,null===jv&&!0===Dv.get("logging_enabled")&&Vv(!0)),jv){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Fv.apply(null,t);jv(r)}},Bv=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];zv.apply(void 0,[e].concat(n))}},qv=function(){var e="FIREBASE INTERNAL ERROR: "+Fv.apply(void 0,arguments);Ov.error(e)},Wv=function(){var e="FIREBASE FATAL ERROR: ".concat(Fv.apply(void 0,arguments));throw Ov.error(e),new Error(e)},Hv=function(){var e="FIREBASE WARNING: "+Fv.apply(void 0,arguments);Ov.warn(e)},Kv=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Gv="[MIN_NAME]",Qv="[MAX_NAME]",Yv=function(e,t){if(e===t)return 0;if(e===Gv||t===Qv)return-1;if(t===Gv||e===Qv)return 1;var n=rm(e),r=rm(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},$v=function(e,t){return e===t?0:e<t?-1:1},Jv=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+jt(t))},Xv=function e(t){if("object"!==typeof t||null===t)return jt(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=jt(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Zv=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function em(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var tm=function(e){lt(!Kv(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var nm=new RegExp("^-?(0*)\\d{1,10}$"),rm=function(e){if(nm.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},im=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Hv("Exception was thrown by user callback.",e),t}),Math.floor(0))}},am=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},om=function(){function e(t,n){var r=this;v(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return k(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Hv('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),sm=function(){function e(t,n,r){var i=this;v(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return k(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(zv("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hv(e)}}]),e}(),um=function(){function e(t){v(this,e),this.accessToken=t}return k(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();um.OWNER="owner";var cm="5",lm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hm="ac",fm="websocket",dm="long_polling",pm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];v(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Av.get("host:"+t)||this._host}return k(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Av.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function vm(e,t,n){var r;if(lt("string"===typeof t,"typeof type must == string"),lt("object"===typeof n,"typeof params must == object"),t===fm)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==dm)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return em(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var mm=function(){function e(){v(this,e),this.counters_={}}return k(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Vt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return yt(void 0,this.counters_)}}]),e}(),gm={},ym={};function km(e){var t=e.toString();return gm[t]||(gm[t]=new mm),gm[t]}var wm=function(){function e(t){v(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return k(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&im((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),1;n.currentResponseNum++};this.pendingResponses[this.currentResponseNum]&&!r(););}}]),e}(),bm="start",_m=function(){function e(t,n,r,i,a,o,s){var u=this;v(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bv(t),this.stats_=km(n),this.urlFn=function(e){return u.appCheckToken&&(e[hm]=u.appCheckToken),vm(n,dm,e)}}return k(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new wm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Pt()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new xm((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===bm)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[bm]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=cm,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[hm]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&lm.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=jt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=vt(t),r=Zv(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Pt()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=jt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Pt()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),xm=function(){function e(t,n,r,i){if(v(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Pt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Lv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){zv("frame writing exception"),s.stack&&zv(s.stack),zv(s)}}}return k(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Pt()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){zv("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||zv("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Im=null;"undefined"!==typeof MozWebSocket?Im=MozWebSocket:"undefined"!==typeof WebSocket&&(Im=WebSocket);var Em=function(){function e(t,n,r,i,a,o,s){v(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bv(this.connId),this.stats_=km(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return k(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Av.set("previous_websocket_failure",!0);try{var r;if(Pt()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(cm,"/").concat(Tv,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/restaurant-management",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Im(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Av.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Ft(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(lt(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=jt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Zv(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=cm,!Pt()&&"undefined"!==typeof location&&location.hostname&&lm.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[hm]=r),i&&(a.p=i),vm(e,fm,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Im&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Av.isInMemoryStorage||!0===Av.get("previous_websocket_failure")}}]),e}();Em.responsesRequiredToBeHealthy=2,Em.healthyTimeout=3e4;var Sm=function(){function e(t){v(this,e),this.initTransports_(t)}return k(e,[{key:"initTransports_",value:function(t){var n=Em&&Em.isAvailable(),r=n&&!Em.previouslyFailed();if(t.webSocketOnly&&(n||Hv("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Em];else{var i,a=this.transports_=[],o=R(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[_m,Em]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Sm.globalTransportInitialized_=!1;var Tm=function(){function e(t,n,r,i,a,o,s,u,c,l){v(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bv("c:"+this.id+":"),this.transportManager_=new Sm(n),this.log_("Connection created"),this.start_()}return k(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=am((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Jv("t",e),n=Jv("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Jv("t",e),n=Jv("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Jv("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?qv("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qv("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),cm!==n&&Hv("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),am((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):am((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Av.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Cm=function(){function e(){v(this,e)}return k(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Nm=function(){function e(t){v(this,e),this.allowedEvents_=t,this.listeners_={},lt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return k(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=p(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){lt(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Rm=function(e){b(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||St()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return k(n,[{key:"getInitialEvent",value:function(e){return lt("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Nm),Pm=32,Am=768,Dm=function(){function e(t,n){if(v(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return k(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Om(){return new Dm("")}function Lm(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Mm(e){return e.pieces_.length-e.pieceNum_}function Fm(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Dm(e.pieces_,t)}function jm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Um(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Vm(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Dm(t,0)}function zm(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Dm)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Dm(n,0)}function Bm(e){return e.pieceNum_>=e.pieces_.length}function qm(e,t){var n=Lm(e),r=Lm(t);if(null===n)return t;if(n===r)return qm(Fm(e),Fm(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Wm(e,t){for(var n=Um(e,0),r=Um(t,0),i=0;i<n.length&&i<r.length;i++){var a=Yv(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Hm(e,t){if(Mm(e)!==Mm(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Km(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Mm(e)>Mm(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Gm=k((function e(t,n){v(this,e),this.errorPrefix_=n,this.parts_=Um(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=rn(this.parts_[r]);Qm(this)}));function Qm(e){if(e.byteLength_>Am)throw new Error(e.errorPrefix_+"has a key path longer than "+Am+" bytes ("+e.byteLength_+").");if(e.parts_.length>Pm)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Pm+") or object contains a cycle "+Ym(e))}function Ym(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var $m=function(e){b(n,e);var t=S(n);function n(){var e,r,i;return v(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return k(n,[{key:"getInitialEvent",value:function(e){return lt("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Nm),Jm=1e3,Xm=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,s,u,c){var l;if(v(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Bv("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Jm,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Pt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $m.getInstance().on("visible",l.onVisible_,I(l)),-1===e.host.indexOf("fblocal")&&Rm.getInstance().on("online",l.onOnline_,I(l)),l}return k(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(jt(i)),lt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new xt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),lt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),lt(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Ut(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Ut(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),lt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+jt(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):qv("Unrecognized action received from server: "+jt(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;lt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jm,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Jm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Jm),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=at(rt().mark((function e(){var t,r,i,a,o,s,u,l,h,f,d,p,v,m,g=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},h=function(e){lt(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=c(d,2),v=p[0],m=p[1],s?zv("getToken() completed but was canceled"):(zv("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new Tm(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Hv(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Hv(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){zv("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){zv("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bt(this.interruptReasons_)&&(this.reconnectDelay_=Jm,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Xv(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Dm(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){zv("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){zv("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=R(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=R(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Pt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Tv.replace(/\./g,"-")]=1,St()?e["framework.cordova"]=1:Nt()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Rm.getInstance().currentlyOnline();return Bt(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Vt(e,"w")){var n=zt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Hv("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Cm);Xm.nextPersistentConnectionId_=0,Xm.nextConnectionId_=0;var Zm,eg=function(){function e(t,n){v(this,e),this.name=t,this.node=n}return k(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),tg=function(){function e(){v(this,e)}return k(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new eg(Gv,e),r=new eg(Gv,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return eg.MIN}}]),e}(),ng=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"compare",value:function(e,t){return Yv(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw ht("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return eg.MIN}},{key:"maxPost",value:function(){return new eg(Qv,Zm)}},{key:"makePost",value:function(e,t){return lt("string"===typeof e,"KeyIndex indexValue must always be a string."),new eg(e,Zm)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Zm},set:function(e){Zm=e}}]),n}(tg),rg=new ng,ig=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;v(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return k(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),ag=function(){function e(t,n,r,i,a){v(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ug.EMPTY_NODE,this.right=null!=a?a:ug.EMPTY_NODE}return k(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return ug.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ug.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();ag.RED=!0,ag.BLACK=!1;var og,sg=function(){function e(){v(this,e)}return k(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ag(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),ug=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;v(this,e),this.comparator_=t,this.root_=n}return k(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ag.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ag.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new ig(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new ig(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new ig(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new ig(this.root_,null,this.comparator_,!0,e)}}]),e}();function cg(e,t){return Yv(e.name,t.name)}function lg(e,t){return Yv(e,t)}ug.EMPTY_NODE=new sg;var hg,fg,dg,pg=function(e){return"number"===typeof e?"number:"+tm(e):"string:"+e},vg=function(e){if(e.isLeafNode()){var t=e.val();lt("string"===typeof t||"number"===typeof t||"object"===typeof t&&Vt(t,".sv"),"Priority must be a string or number.")}else lt(e===og||e.isEmpty(),"priority of unexpected type.");lt(e===og||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},mg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;v(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,lt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),vg(this.priorityNode_)}return k(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Bm(t)?this:".priority"===Lm(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Lm(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(lt(".priority"!==r||1===Mm(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fm(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+pg(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?tm(this.value_):this.value_,this.lazyHash_=Mv(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(lt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return lt(i>=0,"Unknown leaf type: "+n),lt(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return hg},set:function(e){hg=e}}]),e}();mg.VALUE_TYPE_ORDER=["object","boolean","number","string"];var gg,yg,kg=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Yv(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return eg.MIN}},{key:"maxPost",value:function(){return new eg(Qv,new mg("[PRIORITY-POST]",dg))}},{key:"makePost",value:function(e,t){var n=fg(e);return new eg(t,new mg("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(tg),wg=new kg,bg=Math.log(2),_g=function(){function e(t){v(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/bg,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return k(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),xg=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new ag(o,a.node,ag.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new ag(o,a.node,ag.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],h=n?n(l):l;u(new ag(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,ag.BLACK):(s(h,ag.BLACK),s(h,ag.RED))}return a}(new _g(e.length));return new ug(r||t,a)},Ig={},Eg=function(){function e(t,n){v(this,e),this.indexes_=t,this.indexSet_=n}return k(e,[{key:"get",value:function(e){var t=zt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ug?t:null}},{key:"hasIndex",value:function(e){return Vt(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){lt(t!==rg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(eg.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?xg(i,t.getCompare()):Ig;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=qt(this.indexes_,(function(e,i){var a=zt(r.indexSet_,i);if(lt(a,"Missing index implementation for "+i),e===Ig){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(eg.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),xg(o,a.getCompare())}return Ig}var c=n.get(t.name),l=e;return c&&(l=l.remove(new eg(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(qt(this.indexes_,(function(e){if(e===Ig)return e;var r=n.get(t.name);return r?e.remove(new eg(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return lt(Ig&&wg,"ChildrenNode.ts has not been loaded"),gg=gg||new e({".priority":Ig},{".priority":wg})}}]),e}(),Sg=function(){function e(t,n,r){v(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&vg(this.priorityNode_),this.children_.isEmpty()&&lt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return k(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||yg}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?yg:t}},{key:"getChild",value:function(e){var t=Lm(e);return null===t?this:this.getImmediateChild(t).getChild(Fm(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(lt(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new eg(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?yg:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Lm(e);if(null===n)return t;lt(".priority"!==Lm(e)||1===Mm(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Fm(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(wg,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+pg(this.getPriority().val())+":"),this.forEachChild(wg,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Mv(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new eg(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new eg(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new eg(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,eg.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,eg.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tg?-1:0}},{key:"withIndex",value:function(t){if(t===rg||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===rg||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(wg),r=t.getIterator(wg),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===rg?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return yg||(yg=new e(new ug(lg),null,Eg.Default))}}]),e}();Sg.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Tg=new(function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.call(this,new ug(lg),Sg.EMPTY_NODE,Eg.Default)}return k(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Sg.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Sg));Object.defineProperties(eg,{MIN:{value:new eg(Gv,Sg.EMPTY_NODE)},MAX:{value:new eg(Qv,Tg)}}),ng.__EMPTY_NODE=Sg.EMPTY_NODE,mg.__childrenNodeConstructor=Sg,og=Tg,function(e){dg=e}(Tg);var Cg=!0;function Ng(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Sg.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),lt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new mg(e,Ng(t));if(e instanceof Array||!Cg){var n=Sg.EMPTY_NODE;return em(e,(function(t,r){if(Vt(e,t)&&"."!==t.substring(0,1)){var i=Ng(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Ng(t))}var r=[],i=!1;if(em(e,(function(e,t){if("."!==e.substring(0,1)){var n=Ng(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new eg(e,n)))}})),0===r.length)return Sg.EMPTY_NODE;var a=xg(r,cg,(function(e){return e.name}),lg);if(i){var o=xg(r,wg.getCompare());return new Sg(a,Ng(t),new Eg({".priority":o},{".priority":wg}))}return new Sg(a,Ng(t),Eg.Default)}!function(e){fg=e}(Ng);var Rg=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).indexPath_=e,lt(!Bm(e)&&".priority"!==Lm(e),"Can't create PathIndex with empty path or .priority key"),r}return k(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Yv(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ng(e),r=Sg.EMPTY_NODE.updateChild(this.indexPath_,n);return new eg(t,r)}},{key:"maxPost",value:function(){var e=Sg.EMPTY_NODE.updateChild(this.indexPath_,Tg);return new eg(Qv,e)}},{key:"toString",value:function(){return Um(this.indexPath_,0).join("/")}}]),n}(tg),Pg=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Yv(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return eg.MIN}},{key:"maxPost",value:function(){return eg.MAX}},{key:"makePost",value:function(e,t){var n=Ng(e);return new eg(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(tg),Ag=new Pg;function Dg(e){return{type:"value",snapshotNode:e}}function Og(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Lg(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Mg(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Fg=function(){function e(t){v(this,e),this.index_=t}return k(e,[{key:"updateChild",value:function(e,t,n,r,i,a){lt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Lg(t,o)):lt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Og(t,n)):a.trackChildChange(Mg(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(wg,(function(e,r){t.hasChild(e)||n.trackChildChange(Lg(e,r))})),t.isLeafNode()||t.forEachChild(wg,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Mg(t,r,i))}else n.trackChildChange(Og(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Sg.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),jg=function(){function e(t){v(this,e),this.indexedFilter_=new Fg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return k(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new eg(t,n))||(n=Sg.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Sg.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Sg.EMPTY_NODE);var i=this;return t.forEachChild(wg,(function(e,t){i.matches(new eg(e,t))||(r=r.updateImmediateChild(e,Sg.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Ug=function(){function e(t){var n=this;v(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new jg(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return k(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new eg(t,n))||(n=Sg.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Sg.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Sg.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(Sg.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,Sg.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;lt(s.numChildren()===this.limit_,"");var u=new eg(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Mg(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Lg(t,h));var p=s.updateImmediateChild(t,Sg.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Og(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(Lg(c.name,c.node)),i.trackChildChange(Og(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Sg.EMPTY_NODE)):e}}]),e}(),Vg=function(){function e(){v(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wg}return k(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return lt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return lt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gv}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return lt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return lt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qv}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return lt(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===wg}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function zg(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Bg(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function qg(e,t){var n=e.copy();return n.index_=t,n}function Wg(e){var t,n={};if(e.isDefault())return n;if(e.index_===wg?t="$priority":e.index_===Ag?t="$value":e.index_===rg?t="$key":(lt(e.index_ instanceof Rg,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=jt(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=jt(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+jt(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=jt(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+jt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Hg(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==wg&&(t.i=e.index_.toString()),t}var Kg=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Bv("p:rest:"),o.listens_={},o}return k(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=Wg(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),zt(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Wg(e._queryParams),r=e._path.toString(),i=new xt;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Kt(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Ft(l.responseText)}catch(n){Hv("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Hv("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(lt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Cm),Gg=function(){function e(){v(this,e),this.rootNode_=Sg.EMPTY_NODE}return k(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Qg(){return{value:null,children:new Map}}function Yg(e,t,n){if(Bm(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Lm(t);e.children.has(r)||e.children.set(r,Qg()),Yg(e.children.get(r),t=Fm(t),n)}}function $g(e,t){if(Bm(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(wg,(function(t,n){Yg(e,new Dm(t),n)})),$g(e,t)}if(e.children.size>0){var r=Lm(t);if(t=Fm(t),e.children.has(r))$g(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Jg(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Jg(r,new Dm(t.toString()+"/"+e),n)}))}var Xg,Zg=function(){function e(t){v(this,e),this.collection_=t,this.last_=null}return k(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&em(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),ey=function(){function e(t,n){v(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Zg(t);var r=1e4+2e4*Math.random();am(this.reportStats_.bind(this),Math.floor(r))}return k(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;em(t,(function(t,i){i>0&&Vt(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),am(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function ty(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Xg||(Xg={}));var ny,ry=function(){function e(t,n,r){v(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Xg.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return k(e,[{key:"operationForChild",value:function(t){if(Bm(this.path)){if(null!=this.affectedTree.value)return lt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Dm(t));return new e(Om(),n,this.revert)}return lt(Lm(this.path)===t,"operationForChild called for unrelated child."),new e(Fm(this.path),this.affectedTree,this.revert)}}]),e}(),iy=function(){function e(t,n){v(this,e),this.source=t,this.path=n,this.type=Xg.LISTEN_COMPLETE}return k(e,[{key:"operationForChild",value:function(t){return Bm(this.path)?new e(this.source,Om()):new e(this.source,Fm(this.path))}}]),e}(),ay=function(){function e(t,n,r){v(this,e),this.source=t,this.path=n,this.snap=r,this.type=Xg.OVERWRITE}return k(e,[{key:"operationForChild",value:function(t){return Bm(this.path)?new e(this.source,Om(),this.snap.getImmediateChild(t)):new e(this.source,Fm(this.path),this.snap)}}]),e}(),oy=function(){function e(t,n,r){v(this,e),this.source=t,this.path=n,this.children=r,this.type=Xg.MERGE}return k(e,[{key:"operationForChild",value:function(t){if(Bm(this.path)){var n=this.children.subtree(new Dm(t));return n.isEmpty()?null:n.value?new ay(this.source,Om(),n.value):new e(this.source,Om(),n)}return lt(Lm(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Fm(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),sy=function(){function e(t,n,r){v(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return k(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Bm(e))return this.isFullyInitialized()&&!this.filtered_;var t=Lm(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),uy=k((function e(t){v(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function cy(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw ht("Should only compare child_ events.");var r=new eg(t.childName,t.snapshotNode),i=new eg(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function ly(e,t){return{eventCache:e,serverCache:t}}function hy(e,t,n,r){return ly(new sy(t,n,r),e.serverCache)}function fy(e,t,n,r){return ly(e.eventCache,new sy(t,n,r))}function dy(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function py(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var vy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(ny||(ny=new ug($v)),ny);v(this,e),this.value=t,this.children=n}return k(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Om(),value:this.value};if(Bm(e))return null;var n=Lm(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Fm(e),t);return null!=i?{path:zm(new Dm(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Bm(t))return this;var n=Lm(t),r=this.children.get(n);return null!==r?r.subtree(Fm(t)):new e(null)}},{key:"set",value:function(t,n){if(Bm(t))return new e(n,this.children);var r=Lm(t),i=(this.children.get(r)||new e(null)).set(Fm(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Bm(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Lm(t),r=this.children.get(n);if(r){var i,a=r.remove(Fm(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Bm(e))return this.value;var t=Lm(e),n=this.children.get(t);return n?n.get(Fm(e)):null}},{key:"setTree",value:function(t,n){if(Bm(t))return n;var r,i=Lm(t),a=(this.children.get(i)||new e(null)).setTree(Fm(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Om(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(zm(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Om(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Bm(e))return null;var i=Lm(e),a=this.children.get(i);return a?a.findOnPath_(Fm(e),zm(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Om(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Bm(t))return this;this.value&&r(n,this.value);var i=Lm(t),a=this.children.get(i);return a?a.foreachOnPath_(Fm(t),zm(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Om(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(zm(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return em(t,(function(e,t){n=n.set(new Dm(e),t)})),n}}]),e}(),my=function(){function e(t){v(this,e),this.writeTree_=t}return k(e,null,[{key:"empty",value:function(){return new e(new vy(null))}}]),e}();function gy(e,t,n){if(Bm(t))return new my(new vy(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=qm(i,t);return a=a.updateChild(o,n),new my(e.writeTree_.set(i,a))}var s=new vy(n),u=e.writeTree_.setTree(t,s);return new my(u)}function yy(e,t,n){var r=e;return em(n,(function(e,n){r=gy(r,zm(t,e),n)})),r}function ky(e,t){if(Bm(t))return my.empty();var n=e.writeTree_.setTree(t,new vy(null));return new my(n)}function wy(e,t){return null!=by(e,t)}function by(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(qm(n.path,t)):null}function _y(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(wg,(function(e,n){t.push(new eg(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new eg(e,n.value))})),t}function xy(e,t){if(Bm(t))return e;var n=by(e,t);return new my(null!=n?new vy(n):e.writeTree_.subtree(t))}function Iy(e){return e.writeTree_.isEmpty()}function Ey(e,t){return Sy(Om(),e.writeTree_,t)}function Sy(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(lt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Sy(zm(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(zm(e,".priority"),r)),n}function Ty(e,t){return Vy(t,e)}function Cy(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));lt(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Ny(s,r.path)?i=!1:Km(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Py(e.allWrites,Ry,Om()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=ky(e.visibleWrites,r.path):em(r.children,(function(t){e.visibleWrites=ky(e.visibleWrites,zm(r.path,t))}));return!0}return!1}function Ny(e,t){if(e.snap)return Km(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Km(zm(e.path,n),t))return!0;return!1}function Ry(e){return e.visible}function Py(e,t,n){for(var r=my.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Km(n,o)?r=gy(r,s=qm(n,o),a.snap):Km(o,n)&&(s=qm(o,n),r=gy(r,Om(),a.snap.getChild(s)));else{if(!a.children)throw ht("WriteRecord should have .snap or .children");if(Km(n,o))r=yy(r,s=qm(n,o),a.children);else if(Km(o,n))if(Bm(s=qm(o,n)))r=yy(r,Om(),a.children);else{var u=zt(a.children,Lm(s));if(u){var c=u.getChild(Fm(s));r=gy(r,Om(),c)}}}}}return r}function Ay(e,t,n,r,i){if(r||i){var a=xy(e.visibleWrites,t);if(!i&&Iy(a))return n;if(i||null!=n||wy(a,Om())){return Ey(Py(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Km(e.path,t)||Km(t,e.path))}),t),n||Sg.EMPTY_NODE)}return null}var o=by(e.visibleWrites,t);if(null!=o)return o;var s=xy(e.visibleWrites,t);return Iy(s)?n:null!=n||wy(s,Om())?Ey(s,n||Sg.EMPTY_NODE):null}function Dy(e,t,n,r){return Ay(e.writeTree,e.treePath,t,n,r)}function Oy(e,t){return function(e,t,n){var r=Sg.EMPTY_NODE,i=by(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(wg,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=xy(e.visibleWrites,t);return n.forEachChild(wg,(function(e,t){var n=Ey(xy(a,new Dm(e)),t);r=r.updateImmediateChild(e,n)})),_y(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return _y(xy(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ly(e,t,n,r){return function(e,t,n,r,i){lt(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=zm(t,n);if(wy(e.visibleWrites,a))return null;var o=xy(e.visibleWrites,a);return Iy(o)?i.getChild(n):Ey(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function My(e,t){return function(e,t){return by(e.visibleWrites,t)}(e.writeTree,zm(e.treePath,t))}function Fy(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=xy(e.visibleWrites,t),c=by(u,Om());if(null!=c)s=c;else{if(null==n)return[];s=Ey(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function jy(e,t,n){return function(e,t,n,r){var i=zm(t,n),a=by(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Ey(xy(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Uy(e,t){return Vy(zm(e.treePath,t),e.writeTree)}function Vy(e,t){return{treePath:e,writeTree:t}}var zy=function(){function e(){v(this,e),this.changeMap=new Map}return k(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;lt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),lt(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Mg(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Lg(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Og(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ht("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Mg(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),By=new(function(){function e(){v(this,e)}return k(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),qy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;v(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return k(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new sy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jy(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:py(this.viewCache_),i=Fy(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Wy(e,t,n,r,i){var a,o,s=new zy;if(n.type===Xg.OVERWRITE){var u=n;u.source.fromUser?a=Gy(e,t,u.path,u.snap,r,i,s):(lt(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Bm(u.path),a=Ky(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Xg.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=zm(n,r);Qy(t,Lm(c))&&(s=Gy(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=zm(n,r);Qy(t,Lm(c))||(s=Gy(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(lt(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=$y(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Xg.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=My(r,n))return t;var s,u=new qy(r,t,i),c=t.eventCache.getNode();if(Bm(n)||".priority"===Lm(n)){var l;if(t.serverCache.isFullyInitialized())l=Dy(r,py(t));else{var h=t.serverCache.getNode();lt(h instanceof Sg,"serverChildren would be complete if leaf node"),l=Oy(r,h)}s=e.filter.updateFullNode(c,l,a)}else{var f=Lm(n),d=jy(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,Fm(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,Sg.EMPTY_NODE,Fm(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Dy(r,py(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=My(r,Om()),hy(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=My(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Bm(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ky(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Bm(n)){var c=new vy(null);return u.getNode().forEachChild(rg,(function(e,t){c=c.set(new Dm(e),t)})),$y(e,t,n,c,i,a,s,o)}return t}var l=new vy(null);return r.foreach((function(e,t){var r=zm(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),$y(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Xg.LISTEN_COMPLETE)throw ht("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=fy(t,a.getNode(),a.isFullyInitialized()||Bm(n),a.isFiltered());return Hy(e,o,n,r,By,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=dy(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Dg(dy(t)))}}(t,a,h),{viewCache:a,changes:h}}function Hy(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=My(r,n))return t;if(Bm(n))if(lt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=py(t),l=Oy(r,c instanceof Sg?c:Sg.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=Dy(r,py(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=Lm(n);if(".priority"===f){lt(1===Mm(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Ly(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=Fm(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var g=Ly(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(f).updateChild(m,g):u.getNode().getImmediateChild(f)}else v=jy(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return hy(t,o,u.isFullyInitialized()||Bm(n),e.filter.filtersNodes())}function Ky(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Bm(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=Lm(n);if(!c.isCompleteForPath(n)&&Mm(n)>1)return t;var d=Fm(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,By,null)}var v=fy(t,u,c.isFullyInitialized()||Bm(n),l.filtersNodes());return Hy(e,v,n,i,new qy(i,v,a),s)}function Gy(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new qy(i,t,a);if(Bm(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=hy(t,u,!0,e.filter.filtersNodes());else{var h=Lm(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=hy(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=Fm(n),p=c.getNode().getImmediateChild(h);if(Bm(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===jm(d)&&v.getChild(Vm(d)).isEmpty()?v:v.updateChild(d,r):Sg.EMPTY_NODE}if(p.equals(f))s=t;else s=hy(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Qy(e,t){return e.eventCache.isCompleteForChild(t)}function Yy(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function $y(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Bm(n)?r:new vy(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Yy(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ky(e,c,new Dm(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var h=Yy(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ky(e,c,new Dm(n),h,i,a,o,s)}})),c}var Jy,Xy=function(){function e(t,n){v(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Fg(i.getIndex()),o=(r=i).loadsAllData()?new Fg(r.getIndex()):r.hasLimit()?new Ug(r):new jg(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(Sg.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Sg.EMPTY_NODE,u.getNode(),null),h=new sy(c,s.isFullyInitialized(),a.filtersNodes()),f=new sy(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=ly(f,h),this.eventGenerator_=new uy(this.query_)}return k(e,[{key:"query",get:function(){return this.query_}}]),e}();function Zy(e,t){var n=py(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Bm(t)&&!n.getImmediateChild(Lm(t)).isEmpty())?n.getChild(t):null}function ek(e){return 0===e.eventRegistrations_.length}function tk(e,t,n){var r=[];if(n){lt(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function nk(e,t,n,r){t.type===Xg.MERGE&&null!==t.source.queryId&&(lt(py(e.viewCache_),"We should always have a full cache before handling merges"),lt(dy(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Wy(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,lt(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),lt(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),lt(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,rk(e,s.changes,s.viewCache.eventCache.getNode(),null)}function rk(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),cy(e,i,"child_removed",t,r,n),cy(e,i,"child_added",t,r,n),cy(e,i,"child_moved",a,r,n),cy(e,i,"child_changed",t,r,n),cy(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var ik,ak=k((function e(){v(this,e),this.views=new Map}));function ok(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return lt(null!=a,"SyncTree gave us an op for an invalid query."),nk(a,t,n,r)}var o,s=[],u=R(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(nk(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function sk(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Dy(n,i?r:null),u=!1;s?u=!0:r instanceof Sg?(s=Oy(n,r),u=!1):(s=Sg.EMPTY_NODE,u=!1);var c=ly(new sy(s,u,!1),new sy(r,i,!1));return new Xy(t,c)}return o}function uk(e,t,n,r,i,a){var o=sk(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(wg,(function(e,t){r.push(Og(e,t))})),n.isFullyInitialized()&&r.push(Dg(n.getNode())),rk(e,r,n.getNode(),t)}(o,n)}function ck(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=pk(e);if("default"===i){var u,l=R(e.views.entries());try{for(l.s();!(u=l.n()).done;){var h=c(u.value,2),f=h[0],d=h[1];o=o.concat(tk(d,n,r)),ek(d)&&(e.views.delete(f),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(tk(p,n,r)),ek(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!pk(e)&&a.push(new(lt(Jy,"Reference.ts has not been loaded"),Jy)(t._repo,t._path)),{removed:a,events:o}}function lk(e){var t,n=[],r=R(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function hk(e,t){var n,r=null,i=R(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Zy(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function fk(e,t){if(t._queryParams.loadsAllData())return vk(e);var n=t._queryIdentifier;return e.views.get(n)}function dk(e,t){return null!=fk(e,t)}function pk(e){return null!=vk(e)}function vk(e){var t,n=R(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var mk=1,gk=k((function e(t){v(this,e),this.listenProvider_=t,this.syncPointTree_=new vy(null),this.pendingWriteTree_={visibleWrites:my.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function yk(e,t,n,r,i){return function(e,t,n,r,i){lt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=gy(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Tk(e,new ay({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function kk(e,t,n,r){!function(e,t,n,r){lt(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=yy(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=vy.fromObject(n);return Tk(e,new oy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function wk(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Cy(e.pendingWriteTree_,t)){var i=new vy(null);return null!=r.snap?i=i.set(Om(),!0):em(r.children,(function(e){i=i.set(new Dm(e),!0)})),Tk(e,new ry(r.path,i,n))}return[]}function bk(e,t,n){return Tk(e,new ay({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function _k(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||dk(o,t))){var u=ck(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),h=e.syncPointTree_.findOnPath(a,(function(e,t){return pk(t)}));if(l&&!h){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&pk(t))return[vk(t)];var r=[];return t&&(r=lk(t)),em(n,(function(e,t){r=r.concat(t)})),r}))}(f),p=0;p<d.length;++p){var v=d[p],m=v.query,g=Rk(e,v);e.listenProvider_.startListening(Mk(m),Pk(e,m),g.hashFn,g.onComplete)}}if(!h&&c.length>0&&!r)if(l){e.listenProvider_.stopListening(Mk(t),null)}else c.forEach((function(t){var n=e.queryToTagMap.get(Ak(t));e.listenProvider_.stopListening(Mk(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Ak(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function xk(e,t,n,r){var i=Dk(e,r);if(null!=i){var a=Ok(i),o=a.path,s=a.queryId,u=qm(o,t);return Lk(e,o,new ay(ty(s),u,n))}return[]}function Ik(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=qm(e,i);a=a||hk(t,n),o=o||pk(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||pk(u),a=a||hk(u,Om())):(u=new ak,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=Sg.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=hk(t,Om());n&&(a=a.updateImmediateChild(e,n))})));var c=dk(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=Ak(t);lt(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=mk++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=uk(u,t,n,Ty(e.pendingWriteTree_,i),a,s);if(!c&&!o&&!r){var d=fk(u,t);f=f.concat(function(e,t,n){var r=t._path,i=Pk(e,t),a=Rk(e,n),o=e.listenProvider_.startListening(Mk(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)lt(!pk(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Bm(e)&&t&&pk(t))return[vk(t).query];var r=[];return t&&(r=r.concat(lk(t).map((function(e){return e.query})))),em(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(Mk(l),Pk(e,l))}return o}(e,t,d))}return f}function Ek(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=hk(n,qm(e,t));if(r)return r}));return Ay(r,t,i,n,!0)}function Sk(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=qm(e,n);r=r||hk(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||hk(i,Om()):(i=new ak,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new sy(r,!0,!1):null;return function(e){return dy(e.viewCache_)}(sk(i,t,Ty(e.pendingWriteTree_,t._path),a?o.getNode():Sg.EMPTY_NODE,a))}function Tk(e,t){return Ck(t,e.syncPointTree_,null,Ty(e.pendingWriteTree_,Om()))}function Ck(e,t,n,r){if(Bm(e.path))return Nk(e,t,n,r);var i=t.get(Om());null==n&&null!=i&&(n=hk(i,Om()));var a=[],o=Lm(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Uy(r,o);a=a.concat(Ck(s,u,c,l))}return i&&(a=a.concat(ok(i,e,r,n))),a}function Nk(e,t,n,r){var i=t.get(Om());null==n&&null!=i&&(n=hk(i,Om()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Uy(r,t),u=e.operationForChild(t);u&&(a=a.concat(Nk(u,i,o,s)))})),i&&(a=a.concat(ok(i,e,r,n))),a}function Rk(e,t){var n=t.query,r=Pk(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Sg.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Dk(e,n);if(r){var i=Ok(r),a=i.path,o=i.queryId,s=qm(a,t);return Lk(e,a,new iy(ty(o),s))}return[]}(e,n._path,r):function(e,t){return Tk(e,new iy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return _k(e,n,null,i)}}}function Pk(e,t){var n=Ak(t);return e.queryToTagMap.get(n)}function Ak(e){return e._path.toString()+"$"+e._queryIdentifier}function Dk(e,t){return e.tagToQueryMap.get(t)}function Ok(e){var t=e.indexOf("$");return lt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Dm(e.substr(0,t))}}function Lk(e,t,n){var r=e.syncPointTree_.get(t);return lt(r,"Missing sync point for query tag that we're tracking"),ok(r,n,Ty(e.pendingWriteTree_,t),null)}function Mk(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(lt(ik,"Reference.ts has not been loaded"),ik)(e._repo,e._path):e}var Fk=function(){function e(t){v(this,e),this.node_=t}return k(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),jk=function(){function e(t,n){v(this,e),this.syncTree_=t,this.path_=n}return k(e,[{key:"getImmediateChild",value:function(t){var n=zm(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Ek(this.syncTree_,this.path_)}}]),e}(),Uk=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Vk=function(e,t,n){return e&&"object"===typeof e?(lt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?zk(e[".sv"],t,n):"object"===typeof e[".sv"]?Bk(e[".sv"],t):void lt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},zk=function(e,t,n){if("timestamp"===e)return n.timestamp;lt(!1,"Unexpected server value: "+e)},Bk=function(e,t,n){e.hasOwnProperty("increment")||lt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&lt(!1,"Unexpected increment value: "+r);var i=t.node();if(lt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},qk=function(e,t,n,r){return Hk(t,new jk(n,e),r)},Wk=function(e,t,n){return Hk(e,new Fk(t),n)};function Hk(e,t,n){var r,i=e.getPriority().val(),a=Vk(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Vk(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new mg(s,Ng(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new mg(a))),u.forEachChild(wg,(function(e,i){var a=Hk(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Kk=k((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};v(this,e),this.name=t,this.parent=n,this.node=r}));function Gk(e,t){for(var n=t instanceof Dm?t:new Dm(t),r=e,i=Lm(n);null!==i;){var a=zt(r.node.children,i)||{children:{},childCount:0};r=new Kk(i,r,a),i=Lm(n=Fm(n))}return r}function Qk(e){return e.node.value}function Yk(e,t){e.node.value=t,ew(e)}function $k(e){return e.node.childCount>0}function Jk(e,t){em(e.node.children,(function(n,r){t(new Kk(n,e,r))}))}function Xk(e,t,n,r){n&&!r&&t(e),Jk(e,(function(e){Xk(e,t,!0,r)})),n&&r&&t(e)}function Zk(e){return new Dm(null===e.parent?e.name:Zk(e.parent)+"/"+e.name)}function ew(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Qk(e)&&!$k(e)}(n),i=Vt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ew(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ew(e))}(e.parent,e.name,e)}var tw=/[\[\].#$\/\u0000-\u001F\u007F]/,nw=/[\[\].#$\u0000-\u001F\u007F]/,rw=10485760,iw=function(e){return"string"===typeof e&&0!==e.length&&!tw.test(e)},aw=function(e){return"string"===typeof e&&0!==e.length&&!nw.test(e)},ow=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Kv(e)||e&&"object"===typeof e&&Vt(e,".sv")},sw=function(e,t,n,r){r&&void 0===t||uw(en(e,"value"),t,n)},uw=function e(t,n,r){var i=r instanceof Dm?new Gm(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ym(i));if("function"===typeof n)throw new Error(t+"contains a function "+Ym(i)+" with contents = "+n.toString());if(Kv(n))throw new Error(t+"contains "+n.toString()+" "+Ym(i));if("string"===typeof n&&n.length>rw/3&&rn(n)>rw)throw new Error(t+"contains a string greater than "+rw+" utf8 bytes "+Ym(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(em(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!iw(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ym(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=rn(t),Qm(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=rn(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Ym(i)+" in addition to actual children.")}},cw=function(e,t,n,r){if(!r||void 0!==t){var i=en(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];em(t,(function(e,t){var r=new Dm(e);if(uw(i,t,zm(n,r)),".priority"===jm(r)&&!ow(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Um(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!iw(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Wm);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Km(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},lw=function(e,t,n){if(!n||void 0!==t){if(Kv(t))throw new Error(en(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ow(t))throw new Error(en(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},hw=function(e,t,n,r){if((!r||void 0!==n)&&!iw(n))throw new Error(en(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},fw=function(e,t,n,r){if((!r||void 0!==n)&&!aw(n))throw new Error(en(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},dw=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fw(e,t,n,r)},pw=function(e,t){if(".info"===Lm(t))throw new Error(e+" failed = Can't modify data under /.info/")},vw=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!iw(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),aw(e)}(n))throw new Error(en(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},mw=k((function e(){v(this,e),this.eventLists_=[],this.recursionDepth_=0}));function gw(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Hm(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function yw(e,t,n){gw(e,n),ww(e,(function(e){return Hm(e,t)}))}function kw(e,t,n){gw(e,n),ww(e,(function(e){return Km(e,t)||Km(t,e)}))}function ww(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(bw(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function bw(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();jv&&zv("event: "+n.toString()),im(r)}}}var _w="repo_interrupt",xw=25,Iw=function(){function e(t,n,r,i){v(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qg(),this.transactionQueueTree_=new Kk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return k(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Ew(e,t,n){if(e.stats_=km(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Kg(e.repoInfo_,(function(t,n,r,i){Cw(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Nw(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{jt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Xm(e.repoInfo_,t,(function(t,n,r,i){Cw(e,t,n,r,i)}),(function(t){Nw(e,t)}),(function(t){!function(e,t){em(t,(function(t,n){Rw(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ym[n]||(ym[n]=t()),ym[n]}(e.repoInfo_,(function(){return new ey(e.stats_,e.server_)})),e.infoData_=new Gg,e.infoSyncTree_=new gk({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=bk(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Rw(e,"connected",!1),e.serverSyncTree_=new gk({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);kw(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Sw(e){var t=e.infoData_.getNode(new Dm(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Tw(e){return Uk({timestamp:Sw(e)})}function Cw(e,t,n,r,i){e.dataUpdateCount++;var a=new Dm(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=qt(n,(function(e){return Ng(e)}));o=function(e,t,n,r){var i=Dk(e,r);if(i){var a=Ok(i),o=a.path,s=a.queryId,u=qm(o,t),c=vy.fromObject(n);return Lk(e,o,new oy(ty(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Ng(n);o=xk(e.serverSyncTree_,a,u,i)}else if(r){var c=qt(n,(function(e){return Ng(e)}));o=function(e,t,n){var r=vy.fromObject(n);return Tk(e,new oy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Ng(n);o=bk(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=zw(e,a)),kw(e.eventQueue_,h,o)}function Nw(e,t){Rw(e,"connected",t),!1===t&&function(e){Fw(e,"onDisconnectEvents");var t=Tw(e),n=Qg();Jg(e.onDisconnect_,Om(),(function(r,i){var a=qk(r,i,e.serverSyncTree_,t);Yg(n,r,a)}));var r=[];Jg(n,Om(),(function(t,n){r=r.concat(bk(e.serverSyncTree_,t,n));var i=Kw(e,t);zw(e,i)})),e.onDisconnect_=Qg(),kw(e.eventQueue_,Om(),r)}(e)}function Rw(e,t,n){var r=new Dm("/.info/"+t),i=Ng(n);e.infoData_.updateSnapshot(r,i);var a=bk(e.infoSyncTree_,r,i);kw(e.eventQueue_,r,a)}function Pw(e){return e.nextWriteId_++}function Aw(e,t,n,r,i){Fw(e,"set",{path:t.toString(),value:n,priority:r});var a=Tw(e),o=Ng(n,r),s=Ek(e.serverSyncTree_,t),u=Wk(o,s,a),c=Pw(e),l=yk(e.serverSyncTree_,t,u,c,!0);gw(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Hv("set at "+t+" failed: "+n);var o=wk(e.serverSyncTree_,c,!a);kw(e.eventQueue_,t,o),jw(e,i,n,r)}));var h=Kw(e,t);zw(e,h),kw(e.eventQueue_,h,[])}function Dw(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&$g(e.onDisconnect_,t),jw(e,n,r,i)}))}function Ow(e,t,n,r){var i=Ng(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&Yg(e.onDisconnect_,t,i),jw(e,r,n,a)}))}function Lw(e,t,n){var r;r=".info"===Lm(t._path)?_k(e.infoSyncTree_,t,n):_k(e.serverSyncTree_,t,n),yw(e.eventQueue_,t._path,r)}function Mw(e){e.persistentConnection_&&e.persistentConnection_.interrupt(_w)}function Fw(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];zv.apply(void 0,[t].concat(r))}function jw(e,t,n,r){t&&im((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Uw(e,t,n){return Ek(e.serverSyncTree_,t,n)||Sg.EMPTY_NODE}function Vw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Hw(e,t),Qk(t)){var n=qw(e,t);lt(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Uw(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];lt(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=qm(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){Fw(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(wk(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Hw(e,Gk(e.transactionQueueTree_,t)),Vw(e,e.transactionQueueTree_),kw(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)im(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Hv("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}zw(e,t)}}),o)}(e,Zk(t),n)}else $k(t)&&Jk(t,(function(t){Vw(e,t)}))}function zw(e,t){var n=Bw(e,t),r=Zk(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=qm(n,c.path),h=!1;if(lt(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,s=c.abortReason,i=i.concat(wk(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=xw)h=!0,s="maxretry",i=i.concat(wk(e.serverSyncTree_,c.currentWriteId,!0));else{var f=Uw(e,c.path,o);c.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){uw("transaction failed: Data returned ",d,c.path);var p=Ng(d);"object"===typeof d&&null!=d&&Vt(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,m=Tw(e),g=Wk(p,f,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=g,c.currentWriteId=Pw(e),o.splice(o.indexOf(v),1),i=(i=i.concat(yk(e.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(wk(e.serverSyncTree_,v,!0))}else h=!0,s="nodata",i=i.concat(wk(e.serverSyncTree_,c.currentWriteId,!0))}kw(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);Hw(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)im(r[c]);Vw(e,e.transactionQueueTree_)}(e,qw(e,n),r),r}function Bw(e,t){var n,r=e.transactionQueueTree_;for(n=Lm(t);null!==n&&void 0===Qk(r);)r=Gk(r,n),n=Lm(t=Fm(t));return r}function qw(e,t){var n=[];return Ww(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ww(e,t,n){var r=Qk(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Jk(t,(function(t){Ww(e,t,n)}))}function Hw(e,t){var n=Qk(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Yk(t,n.length>0?n:void 0)}Jk(t,(function(t){Hw(e,t)}))}function Kw(e,t){var n=Zk(Bw(e,t)),r=Gk(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Gw(e,t)})),Gw(e,r),Xk(r,(function(t){Gw(e,t)})),n}function Gw(e,t){var n=Qk(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(lt(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(lt(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(wk(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Yk(t,void 0):n.length=a+1,kw(e.eventQueue_,Zk(t),i);for(var s=0;s<r.length;s++)im(r[s])}}var Qw=function(e,t){var n=Yw(e),r=n.namespace;"firebase.com"===n.domain&&Wv(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Wv("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Hv("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new pm(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Dm(n.pathString)}},Yw=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=R(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Hv("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},$w="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Jw=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=$w.charAt(n%64),n=Math.floor(n/64);lt(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=$w.charAt(t[r]);return lt(20===o.length,"nextPushId: Length should be 20."),o}}(),Xw=function(){function e(t,n,r,i){v(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return k(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+jt(this.snapshot.exportVal())}}]),e}(),Zw=function(){function e(t,n,r){v(this,e),this.eventRegistration=t,this.error=n,this.path=r}return k(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),eb=function(){function e(t,n){v(this,e),this.snapshotCallback=t,this.cancelCallback=n}return k(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return lt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),tb=function(){function e(t,n){v(this,e),this._repo=t,this._path=n}return k(e,[{key:"cancel",value:function(){var e=new xt;return Dw(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){pw("OnDisconnect.remove",this._path);var e=new xt;return Ow(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){pw("OnDisconnect.set",this._path),sw("OnDisconnect.set",e,this._path,!1);var t=new xt;return Ow(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){pw("OnDisconnect.setWithPriority",this._path),sw("OnDisconnect.setWithPriority",e,this._path,!1),lw("OnDisconnect.setWithPriority",t,!1);var n=new xt;return function(e,t,n,r,i){var a=Ng(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&Yg(e.onDisconnect_,t,a),jw(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){pw("OnDisconnect.update",this._path),cw("OnDisconnect.update",e,this._path,!1);var t=new xt;return function(e,t,n,r){if(Bt(n))return zv("onDisconnect().update() called with empty data.  Don't do anything."),void jw(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&em(n,(function(n,r){var i=Ng(r);Yg(e.onDisconnect_,zm(t,n),i)})),jw(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),nb=function(){function e(t,n,r,i){v(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return k(e,[{key:"key",get:function(){return Bm(this._path)?null:jm(this._path)}},{key:"ref",get:function(){return new ob(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Hg(this._queryParams),t=Xv(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Hg(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ln(t))instanceof e))return!1;var n=this._repo===t._repo,r=Hm(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function rb(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ib(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===rg){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Gv)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Qv)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===wg){if(null!=t&&!ow(t)||null!=n&&!ow(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(lt(e.getIndex()instanceof Rg||e.getIndex()===Ag,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ab(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ob=function(e){b(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,r,new Vg,!1)}return k(n,[{key:"parent",get:function(){var e=Vm(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(nb),sb=function(){function e(t,n,r){v(this,e),this._node=t,this.ref=n,this._index=r}return k(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Dm(t),r=lb(this.ref,t);return new e(this._node.getChild(n),r,wg)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,lb(n.ref,r),wg))}))}},{key:"hasChild",value:function(e){var t=new Dm(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function ub(e,t){return(e=ln(e))._checkNotDeleted("ref"),void 0!==t?lb(e._root,t):e._root}function cb(e,t){(e=ln(e))._checkNotDeleted("refFromURL");var n=Qw(t,e._repo.repoInfo_.nodeAdmin);vw("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||Wv("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),ub(e,n.path.toString())}function lb(e,t){return null===Lm((e=ln(e))._path)?dw("child","path",t,!1):fw("child","path",t,!1),new ob(e._repo,zm(e._path,t))}function hb(e,t){e=ln(e),pw("set",e._path),sw("set",t,e._path,!1);var n=new xt;return Aw(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function fb(e,t){cw("update",t,e._path,!1);var n=new xt;return function(e,t,n,r){Fw(e,"update",{path:t.toString(),value:n});var i=!0,a=Tw(e),o={};if(em(n,(function(n,r){i=!1,o[n]=qk(zm(t,n),Ng(r),e.serverSyncTree_,a)})),i)zv("update() called with empty data.  Don't do anything."),jw(0,r,"ok",void 0);else{var s=Pw(e),u=kk(e.serverSyncTree_,t,o,s);gw(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||Hv("update at "+t+" failed: "+n);var o=wk(e.serverSyncTree_,s,!a),u=o.length>0?zw(e,t):t;kw(e.eventQueue_,u,o),jw(0,r,n,i)})),em(n,(function(n){var r=Kw(e,zm(t,n));zw(e,r)})),kw(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function db(e){e=ln(e);var t=new eb((function(){})),n=new pb(t);return function(e,t,n){var r=Sk(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=Ng(r).withIndex(t._queryParams.getIndex());if(Ik(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=bk(e.serverSyncTree_,t._path,a);else{var o=Pk(e.serverSyncTree_,t);i=xk(e.serverSyncTree_,t._path,a,o)}return kw(e.eventQueue_,t._path,i),_k(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return Fw(e,"get for query "+jt(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new sb(t,new ob(e._repo,e._path),e._queryParams.getIndex())}))}var pb=function(){function e(t){v(this,e),this.callbackContext=t}return k(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Xw("value",this,new sb(e.snapshotNode,new ob(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Zw(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),vb=function(){function e(t,n){v(this,e),this.eventType=t,this.callbackContext=n}return k(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Zw(this,e,t):null}},{key:"createEvent",value:function(e,t){lt(null!=e.childName,"Child events should have a childName.");var n=lb(new ob(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Xw(e.type,this,new sb(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function mb(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Lw(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new eb(n,a||void 0),c="value"===t?new pb(u):new vb(t,u);return function(e,t,n){var r;r=".info"===Lm(t._path)?Ik(e.infoSyncTree_,t,n):Ik(e.serverSyncTree_,t,n),yw(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Lw(e._repo,e,c)}}function gb(e,t,n,r){return mb(e,"value",t,n,r)}function yb(e,t,n,r){return mb(e,"child_added",t,n,r)}function kb(e,t,n,r){return mb(e,"child_changed",t,n,r)}function wb(e,t,n,r){return mb(e,"child_moved",t,n,r)}function bb(e,t,n,r){return mb(e,"child_removed",t,n,r)}function _b(e,t,n){var r=null,i=n?new eb(n):null;"value"===t?r=new pb(i):t&&(r=new vb(t,i)),Lw(e._repo,e,r)}var xb=k((function e(){v(this,e)})),Ib=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._value=e,i._key=r,i}return k(n,[{key:"_apply",value:function(e){sw("endAt",this._value,e._path,!0);var t=Bg(e._queryParams,this._value,this._key);if(ab(t),ib(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nb(e._repo,e._path,t,e._orderByCalled)}}]),n}(xb);var Eb=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._value=e,i._key=r,i}return k(n,[{key:"_apply",value:function(e){sw("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===rg||n?Bg(e,t,n):Bg(e,t,Gv)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(ab(t),ib(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nb(e._repo,e._path,t,e._orderByCalled)}}]),n}(xb);var Sb=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._value=e,i._key=r,i}return k(n,[{key:"_apply",value:function(e){sw("startAt",this._value,e._path,!0);var t=zg(e._queryParams,this._value,this._key);if(ab(t),ib(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new nb(e._repo,e._path,t,e._orderByCalled)}}]),n}(xb);var Tb=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._value=e,i._key=r,i}return k(n,[{key:"_apply",value:function(e){sw("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===rg||n?zg(e,t,n):zg(e,t,Qv)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(ab(t),ib(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new nb(e._repo,e._path,t,e._orderByCalled)}}]),n}(xb);var Cb=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this))._limit=e,r}return k(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new nb(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(xb);var Nb=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this))._limit=e,r}return k(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new nb(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(xb);var Rb=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this))._path=e,r}return k(n,[{key:"_apply",value:function(e){rb(e,"orderByChild");var t=new Dm(this._path);if(Bm(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Rg(t),r=qg(e._queryParams,n);return ib(r),new nb(e._repo,e._path,r,!0)}}]),n}(xb);var Pb=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"_apply",value:function(e){rb(e,"orderByKey");var t=qg(e._queryParams,rg);return ib(t),new nb(e._repo,e._path,t,!0)}}]),n}(xb);var Ab=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"_apply",value:function(e){rb(e,"orderByPriority");var t=qg(e._queryParams,wg);return ib(t),new nb(e._repo,e._path,t,!0)}}]),n}(xb);var Db=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"_apply",value:function(e){rb(e,"orderByValue");var t=qg(e._queryParams,Ag);return ib(t),new nb(e._repo,e._path,t,!0)}}]),n}(xb);var Ob=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._value=e,i._key=r,i}return k(n,[{key:"_apply",value:function(e){if(sw("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ib(this._value,this._key)._apply(new Sb(this._value,this._key)._apply(e))}}]),n}(xb);function Lb(e){for(var t=ln(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){lt(!Jy,"__referenceConstructor has already been defined"),Jy=e}(ob),function(e){lt(!ik,"__referenceConstructor has already been defined"),ik=e}(ob);var Mb="FIREBASE_DATABASE_EMULATOR_HOST",Fb={},jb=!1;function Ub(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Wv("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zv("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Qw(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/restaurant-management",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[Mb]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=Qw(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new um(um.OWNER):new sm(e.name,e.options,t);vw("Invalid Firebase Database URL",s),Bm(s.path)||Wv("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Fb[t.name];i||(i={},Fb[t.name]=i);var a=i[e.toURLString()];a&&Wv("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Iw(e,jb,n,r),i[e.toURLString()]=a,a}(u,e,l,new om(e.name,n));return new Vb(h,e)}var Vb=function(){function e(t,n){v(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return k(e,[{key:"_repo",get:function(){return this._instanceStarted||(Ew(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new ob(this._repo,Om())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Fb[t];n&&n[e.key]===e||Wv("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Mw(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Wv("Cannot call "+e+" on a deleted database.")}}]),e}();function zb(){Sm.IS_TRANSPORT_INITIALIZED&&Hv("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Bb(){zb(),_m.forceDisallow()}function qb(){zb(),Em.forceDisallow(),_m.forceAllow()}function Wb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=ln(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Wv("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Wv('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new um(um.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:It(r.mockUserToken,e.app.options.projectId);a=new um(o)}!function(e,t,n,r){e.repoInfo_=new pm("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Hb(e){var t;(e=ln(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(_w)}function Kb(e,t){Vv(e,t)}var Gb={".sv":"timestamp"};var Qb=function(){function e(t,n){v(this,e),this.committed=t,this.snapshot=n}return k(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function Yb(e,t,n){var r;if(e=ln(e),pw("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new xt,o=gb(e,(function(){}));return function(e,t,n,r,i,a){Fw(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:Lv(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Uw(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{uw("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=Gk(e.transactionQueueTree_,t),h=Qk(l)||[];h.push(o),Yk(l,h),"object"===typeof u&&null!==u&&Vt(u,".priority")?(c=zt(u,".priority"),lt(ow(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(Ek(e.serverSyncTree_,t)||Sg.EMPTY_NODE).getPriority().val();var f=Tw(e),d=Ng(u,c),p=Wk(d,s,f);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=Pw(e);var v=yk(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);kw(e.eventQueue_,t,v),Vw(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new sb(r,new ob(e._repo,e._path),wg),a.resolve(new Qb(n,i)))}),o,i),a.promise}Xm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Xm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Cv(sr),er(new hn("database",(function(e,t){var n=t.instanceIdentifier;return Ub(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),dr(Ev,Sv,e),dr(Ev,Sv,"esm2017")}();var $b=new _n("@firebase/database-compat"),Jb=function(e){var t="FIREBASE WARNING: "+e;$b.warn(t)},Xb=function(){function e(t){v(this,e),this._delegate=t}return k(e,[{key:"cancel",value:function(e){Zt("OnDisconnect.cancel",0,1,arguments.length),tn("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Zt("OnDisconnect.remove",0,1,arguments.length),tn("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Zt("OnDisconnect.set",1,2,arguments.length),tn("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Zt("OnDisconnect.setWithPriority",2,3,arguments.length),tn("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Zt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Jb("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tn("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),Zb=function(){function e(t,n){v(this,e),this.committed=t,this.snapshot=n}return k(e,[{key:"toJSON",value:function(){return Zt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),e_=function(){function e(t,n){v(this,e),this._database=t,this._delegate=n}return k(e,[{key:"val",value:function(){return Zt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Zt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Zt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Zt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Zt("DataSnapshot.child",0,1,arguments.length),t=String(t),fw("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Zt("DataSnapshot.hasChild",1,1,arguments.length),fw("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Zt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Zt("DataSnapshot.forEach",1,1,arguments.length),tn("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Zt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Zt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Zt("DataSnapshot.ref",0,0,arguments.length),new n_(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),t_=function(){function e(t,n){v(this,e),this.database=t,this._delegate=n}return k(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Zt("Query.on",2,4,arguments.length),tn("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new e_(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return gb(this._delegate,u,c),n;case"child_added":return yb(this._delegate,u,c),n;case"child_removed":return bb(this._delegate,u,c),n;case"child_changed":return kb(this._delegate,u,c),n;case"child_moved":return wb(this._delegate,u,c),n;default:throw new Error(en("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Zt("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(en(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),tn("Query.off","callback",t,!0),nn("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,_b(this._delegate,e,r)}else _b(this._delegate,e)}},{key:"get",value:function(){var e=this;return db(this._delegate).then((function(t){return new e_(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Zt("Query.once",1,4,arguments.length),tn("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new xt,u=function(e,t){var r=new e_(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":gb(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":yb(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":bb(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":kb(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":wb(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(en("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Zt("Query.limitToFirst",1,1,arguments.length),new e(this.database,Lb(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Cb(e)}(t)))}},{key:"limitToLast",value:function(t){return Zt("Query.limitToLast",1,1,arguments.length),new e(this.database,Lb(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Nb(e)}(t)))}},{key:"orderByChild",value:function(t){return Zt("Query.orderByChild",1,1,arguments.length),new e(this.database,Lb(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return fw("orderByChild","path",e,!1),new Rb(e)}(t)))}},{key:"orderByKey",value:function(){return Zt("Query.orderByKey",0,0,arguments.length),new e(this.database,Lb(this._delegate,new Pb))}},{key:"orderByPriority",value:function(){return Zt("Query.orderByPriority",0,0,arguments.length),new e(this.database,Lb(this._delegate,new Ab))}},{key:"orderByValue",value:function(){return Zt("Query.orderByValue",0,0,arguments.length),new e(this.database,Lb(this._delegate,new Db))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Zt("Query.startAt",0,2,arguments.length),new e(this.database,Lb(this._delegate,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return hw("startAt","key",t,!0),new Sb(e,t)}(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Zt("Query.startAfter",0,2,arguments.length),new e(this.database,Lb(this._delegate,function(e,t){return hw("startAfter","key",t,!0),new Tb(e,t)}(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Zt("Query.endAt",0,2,arguments.length),new e(this.database,Lb(this._delegate,function(e,t){return hw("endAt","key",t,!0),new Ib(e,t)}(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Zt("Query.endBefore",0,2,arguments.length),new e(this.database,Lb(this._delegate,function(e,t){return hw("endBefore","key",t,!0),new Eb(e,t)}(t,n)))}},{key:"equalTo",value:function(t,n){return Zt("Query.equalTo",1,2,arguments.length),new e(this.database,Lb(this._delegate,function(e,t){return hw("equalTo","key",t,!0),new Ob(e,t)}(t,n)))}},{key:"toString",value:function(){return Zt("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Zt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Zt("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new n_(this.database,new ob(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,tn(e,"cancel",r.cancel,!0),r.context=n,nn(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(en(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),n_=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,new nb(r._repo,r._path,new Vg,!1))).database=e,i._delegate=r,i}return k(n,[{key:"getKey",value:function(){return Zt("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Zt("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,lb(this._delegate,e))}},{key:"getParent",value:function(){Zt("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Zt("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Zt("Reference.set",1,2,arguments.length),tn("Reference.set","onComplete",t,!0);var n=hb(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Zt("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Jb("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pw("Reference.update",this._delegate._path),tn("Reference.update","onComplete",t,!0);var i=fb(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Zt("Reference.setWithPriority",2,3,arguments.length),tn("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(pw("setWithPriority",e._path),sw("setWithPriority",t,e._path,!1),lw("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new xt;return Aw(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Zt("Reference.remove",0,1,arguments.length),tn("Reference.remove","onComplete",e,!0);var t=function(e){return pw("remove",e._path),hb(e,null)}(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Zt("Reference.transaction",1,3,arguments.length),tn("Reference.transaction","transactionUpdate",e,!1),tn("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(en(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=Yb(this._delegate,e,{applyLocally:n}).then((function(e){return new Zb(e.committed,new e_(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Zt("Reference.setPriority",1,2,arguments.length),tn("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=ln(e),pw("setPriority",e._path),lw("setPriority",t,!1);var n=new xt;return Aw(e._repo,zm(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Zt("Reference.push",0,2,arguments.length),tn("Reference.push","onComplete",t,!0);var i=function(e,t){e=ln(e),pw("push",e._path),sw("push",t,e._path,!0);var n,r=Sw(e._repo),i=Jw(r),a=lb(e,i),o=lb(e,i);return n=null!=t?hb(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return pw("Reference.onDisconnect",this._delegate._path),new Xb(new tb(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(t_),r_=function(){function e(t,n){var r=this;v(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:Bb,forceLongPolling:qb}}return k(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Wb(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Zt("database.ref",0,1,arguments.length),e instanceof n_){var t=cb(this._delegate,e.toString());return new n_(this,t)}var n=ub(this._delegate,e);return new n_(this,n)}},{key:"refFromURL",value:function(e){Zt("database.refFromURL",1,1,arguments.length);var t=cb(this._delegate,e);return new n_(this,t)}},{key:"goOffline",value:function(){return Zt("database.goOffline",0,0,arguments.length),function(e){(e=ln(e))._checkNotDeleted("goOffline"),Mw(e._repo)}(this._delegate)}},{key:"goOnline",value:function(){return Zt("database.goOnline",0,0,arguments.length),Hb(this._delegate)}}]),e}();r_.ServerValue={TIMESTAMP:Gb,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var i_=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.customAppCheckImpl,o=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;Cv(r);var c=new mn("database-standalone"),l=new dn("auth-internal",c);l.setComponent(new hn("auth-internal",(function(){return i}),"PRIVATE"));var h=void 0;return a&&(h=new dn("app-check-internal",c)).setComponent(new hn("app-check-internal",(function(){return a}),"PRIVATE")),{instance:new r_(Ub(t,l,h,n,u),t),namespace:o}}}),a_=r_.ServerValue;!function(e){e.INTERNAL.registerComponent(new hn("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new r_(i,r)}),"PUBLIC").setServiceProps({Reference:n_,Query:t_,Database:r_,DataSnapshot:e_,enableLogging:Kb,INTERNAL:i_,ServerValue:a_}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","1.0.2")}(xo);var o_=xo.initializeApp({apiKey:"AIzaSyC5EmKDbYvqOXqMnDpE-uWLWS7S7J6R3Nw",authDomain:"restaurant-89325.firebaseapp.com",databaseURL:"https://restaurant-89325-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"restaurant-89325",storageBucket:"restaurant-89325.appspot.com",messagingSenderId:"727735699727",appId:"1:727735699727:web:49ffd9db3eaf3a6bfd967a",measurementId:"G-X5WKFD73EN"}),s_=(ho(o_),Fs(o_),o_),u_=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1],s=Ie(),u=function(){var e=t.useContext(ke).matches,n=e[e.length-1];return n?n.params:{}}();return(0,et.jsx)("div",{class:"py-16",children:(0,et.jsxs)("div",{class:"flex bg-white rounded-lg overflow-hidden mx-auto max-w-sm lg:max-w-4xl",children:[(0,et.jsx)("div",{className:"hidden lg:block lg:w-1/2 bg-cover",style:{backgroundImage:"url('https://rurutek.com/jio/assets/img/login-animate.gif')"}}),(0,et.jsxs)("div",{class:"w-full p-8 lg:w-1/2",children:[(0,et.jsx)("h2",{class:"text-2xl font-semibold text-gray-700 text-center",children:"Login Account"}),(0,et.jsx)("p",{class:"text-xl text-gray-600 text-center",children:"Welcome back!"}),(0,et.jsxs)("a",{href:"#",class:"flex items-center justify-center mt-4 text-white rounded-lg shadow-sm hover:bg-gray-100",children:[(0,et.jsx)("div",{class:"px-4 py-3",children:(0,et.jsxs)("svg",{class:"h-6 w-6",viewBox:"0 0 40 40",children:[(0,et.jsx)("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.045 27.2142 24.3525 30 20 30C14.4775 30 10 25.5225 10 20C10 14.4775 14.4775 9.99999 20 9.99999C22.5492 9.99999 24.8683 10.9617 26.6342 12.5325L31.3483 7.81833C28.3717 5.04416 24.39 3.33333 20 3.33333C10.7958 3.33333 3.33335 10.7958 3.33335 20C3.33335 29.2042 10.7958 36.6667 20 36.6667C29.2042 36.6667 36.6667 29.2042 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#FFC107"}),(0,et.jsx)("path",{d:"M5.25497 12.2425L10.7308 16.2583C12.2125 12.59 15.8008 9.99999 20 9.99999C22.5491 9.99999 24.8683 10.9617 26.6341 12.5325L31.3483 7.81833C28.3716 5.04416 24.39 3.33333 20 3.33333C13.5983 3.33333 8.04663 6.94749 5.25497 12.2425Z",fill:"#FF3D00"}),(0,et.jsx)("path",{d:"M20 36.6667C24.305 36.6667 28.2167 35.0192 31.1742 32.34L26.0159 27.975C24.3425 29.2425 22.2625 30 20 30C15.665 30 11.9842 27.2359 10.5975 23.3784L5.16254 27.5659C7.92087 32.9634 13.5225 36.6667 20 36.6667Z",fill:"#4CAF50"}),(0,et.jsx)("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.7592 25.1975 27.56 26.805 26.0133 27.9758C26.0142 27.975 26.015 27.975 26.0158 27.9742L31.1742 32.3392C30.8092 32.6708 36.6667 28.3333 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#1976D2"})]})}),(0,et.jsx)("h1",{class:"px-4 py-3 w-5/6 text-center text-gray-600 font-bold",children:"Sign in with Google"})]}),(0,et.jsxs)("div",{class:"mt-4 flex items-center justify-between",children:[(0,et.jsx)("span",{class:"border-b w-1/5 lg:w-1/4"}),(0,et.jsx)("a",{href:"#",class:"text-xs text-center text-gray-500 uppercase",children:"or login with email"}),(0,et.jsx)("span",{class:"border-b w-1/5 lg:w-1/4"})]}),(0,et.jsxs)("form",{className:"container",onSubmit:function(e){e.preventDefault();try{var t=s_.auth().signInWithEmailAndPassword(n,a);t&&(alert("success"),s("/res/"+u(t)))}catch(qv){alert(qv)}},children:[(0,et.jsxs)("div",{class:"mt-4",children:[(0,et.jsx)("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Username"}),(0,et.jsx)("input",{value:n,onChange:function(e){return r(e.target.value)},class:"bg-gray-200 text-gray-700 focus:outline-none focus:shadow-outline border border-gray-300 rounded py-2 px-4 block w-full appearance-none",type:"email"})]}),(0,et.jsxs)("div",{class:"mt-4",children:[(0,et.jsxs)("div",{class:"flex justify-between",children:[(0,et.jsx)("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),(0,et.jsx)("a",{href:"#",class:"text-xs text-gray-500",children:"Forget Password?"})]}),(0,et.jsx)("input",{value:a,onChange:function(e){return o(e.target.value)},class:"bg-gray-200 text-gray-700 focus:outline-none focus:shadow-outline border border-gray-300 rounded py-2 px-4 block w-full appearance-none",type:"password"})]}),(0,et.jsx)("div",{class:"mt-8",children:(0,et.jsx)("button",{class:"bg-gray-700 text-white font-bold py-2 px-4 w-full rounded hover:bg-gray-600",children:"Login"})}),(0,et.jsxs)("div",{class:"mt-4 flex items-center justify-between",children:[(0,et.jsx)("span",{class:"border-b w-1/5 md:w-1/4"}),(0,et.jsx)($e,{to:"/signup",class:"text-xs text-gray-500 uppercase",children:"or sign up"}),(0,et.jsx)("span",{class:"border-b w-1/5 md:w-1/4"})]})]})]})]})})},c_=n.p+"static/media/about.c9a88b5a2e8d1c0a93bb.gif",l_=n.p+"static/media/avatar.02ad0b19642dfcb95dfa.jpg",h_=n.p+"static/media/avatar2.d7b27ade8c27448906f8.jpg",f_=n.p+"static/media/avatar3.142de1b762514af206cb.jpg",d_=function(){return(0,et.jsxs)("section",{children:[(0,et.jsxs)("div",{className:"sm:flex items-center max-w-screen-xl",children:[(0,et.jsx)("div",{class:"sm:w-1/2 p-10",children:(0,et.jsx)("div",{class:"image object-center text-center",children:(0,et.jsx)("img",{src:c_})})}),(0,et.jsx)("div",{class:"sm:w-1/2 p-5",children:(0,et.jsxs)("div",{class:"text-center",children:[(0,et.jsx)("span",{class:"text-gray-500 border-b-2 border-indigo-600 uppercase",children:"About us"}),(0,et.jsxs)("h2",{class:"my-4 font-bold text-3xl  sm:text-4xl ",children:["About ",(0,et.jsx)("span",{class:"text-indigo-600",children:"Our Website"})]}),(0,et.jsx)("p",{class:"text-gray-700 text-justify",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquid, commodi doloremque, fugiat illum magni minus nisi nulla numquam obcaecati placeat quia, repellat tempore voluptatum."})]})})]}),(0,et.jsxs)("div",{className:"about team mt-32",children:[(0,et.jsx)("h1",{className:"text-3xl font-semibold text-center overflow-hidden",children:"Meet Our Team"}),(0,et.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mt-10",children:[(0,et.jsx)("div",{class:"w-96 px-6 py-6  text-center rounded-lg lg:mt-0 xl:px-10 shadow-md",children:(0,et.jsxs)("div",{class:"space-y-4 xl:space-y-6",children:[(0,et.jsx)("img",{class:"mx-auto rounded-full h-36 w-36",src:l_,alt:"author avatar"}),(0,et.jsx)("div",{class:"space-y-2",children:(0,et.jsxs)("div",{class:"flex justify-center items-center flex-col space-y-3 text-lg font-medium leading-6",children:[(0,et.jsx)("h3",{class:"text-white",children:"Chheang Pheaktra"}),(0,et.jsx)("p",{class:"text-indigo-600",children:"Student of Information Technology Engineering"}),(0,et.jsxs)("div",{class:"flex justify-center mt-5 space-x-5",children:[(0,et.jsxs)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",class:"inline-block text-gray-400",children:[(0,et.jsx)("span",{class:"sr-only",children:"Twitter"}),(0,et.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",class:"w-6 h-6 text-gray-400 hover:text-gray-100",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,et.jsx)("path",{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"})})]}),(0,et.jsxs)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",class:"inline-block text-gray-400",children:[(0,et.jsx)("span",{class:"sr-only",children:"GitHub"}),(0,et.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 496 512",class:"w-6 h-6 text-gray-400 hover:text-gray-100",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,et.jsx)("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})]}),(0,et.jsxs)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",class:"inline-block text-gray-400",children:[(0,et.jsx)("span",{class:"sr-only",children:"Linkedin"}),(0,et.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 448 512",class:"w-6 h-6 text-gray-400 hover:text-gray-100",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,et.jsx)("path",{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"})})]})]})]})})]})}),(0,et.jsx)("div",{class:"w-96 px-6 py-6  text-centerrounded-lg lg:mt-0 xl:px-10 shadow-md",children:(0,et.jsxs)("div",{class:"space-y-4 xl:space-y-6",children:[(0,et.jsx)("img",{class:"mx-auto rounded-full h-36 w-36",src:f_,alt:"author avatar"}),(0,et.jsx)("div",{class:"space-y-2",children:(0,et.jsxs)("div",{class:"flex justify-center items-center flex-col space-y-3 text-lg font-medium leading-6",children:[(0,et.jsx)("h3",{class:"text-white",children:"Chhorn Sreyneat"}),(0,et.jsx)("p",{class:"text-indigo-600",children:"Student of ITE"}),(0,et.jsxs)("div",{class:"flex justify-center mt-5 space-x-5",children:[(0,et.jsxs)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",class:"inline-block text-gray-400",children:[(0,et.jsx)("span",{class:"sr-only",children:"Twitter"}),(0,et.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",class:"w-6 h-6 text-gray-400 hover:text-gray-100",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,et.jsx)("path",{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"})})]}),(0,et.jsxs)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",class:"inline-block text-gray-400",children:[(0,et.jsx)("span",{class:"sr-only",children:"GitHub"}),(0,et.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 496 512",class:"w-6 h-6 text-gray-400 hover:text-gray-100",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,et.jsx)("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})]}),(0,et.jsxs)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",class:"inline-block text-gray-400",children:[(0,et.jsx)("span",{class:"sr-only",children:"Linkedin"}),(0,et.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 448 512",class:"w-6 h-6 text-gray-400 hover:text-gray-100",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,et.jsx)("path",{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"})})]})]})]})})]})}),(0,et.jsx)("div",{class:"w-96 px-6 py-6  text-center rounded-lg lg:mt-0 xl:px-10 shadow-md",children:(0,et.jsxs)("div",{class:"space-y-4 xl:space-y-6",children:[(0,et.jsx)("img",{class:"mx-auto rounded-full h-36 w-36",src:h_,alt:"author avatar"}),(0,et.jsx)("div",{class:"space-y-2",children:(0,et.jsxs)("div",{class:"flex justify-center items-center flex-col space-y-3 text-lg font-medium leading-6",children:[(0,et.jsx)("h3",{class:"text-white",children:"Thorn Sreyros"}),(0,et.jsx)("p",{class:"text-indigo-600",children:"Student of ITE"}),(0,et.jsxs)("div",{class:"flex justify-center mt-5 space-x-5",children:[(0,et.jsxs)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",class:"inline-block text-gray-400",children:[(0,et.jsx)("span",{class:"sr-only",children:"Twitter"}),(0,et.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",class:"w-6 h-6 text-gray-400 hover:text-gray-100",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,et.jsx)("path",{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"})})]}),(0,et.jsxs)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",class:"inline-block text-gray-400",children:[(0,et.jsx)("span",{class:"sr-only",children:"GitHub"}),(0,et.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 496 512",class:"w-6 h-6 text-gray-400 hover:text-gray-100",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,et.jsx)("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})]}),(0,et.jsxs)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",class:"inline-block text-gray-400",children:[(0,et.jsx)("span",{class:"sr-only",children:"Linkedin"}),(0,et.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 448 512",class:"w-6 h-6 text-gray-400 hover:text-gray-100",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,et.jsx)("path",{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"})})]})]})]})})]})})]})]})]})},p_=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1],s=c((0,t.useState)(""),2),u=s[0],l=s[1],h=Ie();return(0,et.jsx)("div",{class:"py-16",children:(0,et.jsxs)("div",{class:"flex bg-white rounded-lg  overflow-hidden mx-auto max-w-sm lg:max-w-4xl",children:[(0,et.jsx)("div",{className:"hidden lg:block lg:w-1/2 bg-cover",style:{backgroundImage:"url('https://rurutek.com/jio/assets/img/login-animate.gif')"}}),(0,et.jsxs)("div",{class:"w-full p-8 lg:w-1/2",children:[(0,et.jsx)("h2",{class:"text-2xl font-semibold text-gray-700 text-center",children:"Singup Account"}),(0,et.jsx)("p",{class:"text-xl text-gray-600 text-center",children:"Welcome back!"}),(0,et.jsxs)("a",{href:"#",class:"flex items-center justify-center mt-4 text-white rounded-lg shadow-md hover:bg-gray-100",children:[(0,et.jsx)("div",{class:"px-4 py-3",children:(0,et.jsxs)("svg",{class:"h-6 w-6",viewBox:"0 0 40 40",children:[(0,et.jsx)("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.045 27.2142 24.3525 30 20 30C14.4775 30 10 25.5225 10 20C10 14.4775 14.4775 9.99999 20 9.99999C22.5492 9.99999 24.8683 10.9617 26.6342 12.5325L31.3483 7.81833C28.3717 5.04416 24.39 3.33333 20 3.33333C10.7958 3.33333 3.33335 10.7958 3.33335 20C3.33335 29.2042 10.7958 36.6667 20 36.6667C29.2042 36.6667 36.6667 29.2042 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#FFC107"}),(0,et.jsx)("path",{d:"M5.25497 12.2425L10.7308 16.2583C12.2125 12.59 15.8008 9.99999 20 9.99999C22.5491 9.99999 24.8683 10.9617 26.6341 12.5325L31.3483 7.81833C28.3716 5.04416 24.39 3.33333 20 3.33333C13.5983 3.33333 8.04663 6.94749 5.25497 12.2425Z",fill:"#FF3D00"}),(0,et.jsx)("path",{d:"M20 36.6667C24.305 36.6667 28.2167 35.0192 31.1742 32.34L26.0159 27.975C24.3425 29.2425 22.2625 30 20 30C15.665 30 11.9842 27.2359 10.5975 23.3784L5.16254 27.5659C7.92087 32.9634 13.5225 36.6667 20 36.6667Z",fill:"#4CAF50"}),(0,et.jsx)("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.7592 25.1975 27.56 26.805 26.0133 27.9758C26.0142 27.975 26.015 27.975 26.0158 27.9742L31.1742 32.3392C30.8092 32.6708 36.6667 28.3333 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#1976D2"})]})}),(0,et.jsx)("h1",{class:"px-4 py-3 w-5/6 text-center text-gray-600 font-bold",children:"Sign in with Google"})]}),(0,et.jsxs)("div",{class:"mt-4 flex items-center justify-between",children:[(0,et.jsx)("span",{class:"border-b w-1/5 lg:w-1/4"}),(0,et.jsx)("a",{href:"#",class:"text-xs text-center text-gray-500 uppercase",children:"or login with email"}),(0,et.jsx)("span",{class:"border-b w-1/5 lg:w-1/4"})]}),(0,et.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault();try{s_.auth().createUserWithEmailAndPassword(a,u)&&(alert("success"),h("/res"))}catch(qv){alert(qv)}},children:[(0,et.jsxs)("div",{class:"mt-4",children:[(0,et.jsx)("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Username"}),(0,et.jsx)("input",{value:n,onChange:function(e){return r(e.target.value)},class:"bg-gray-200 text-gray-700 focus:outline-none focus:shadow-outline border border-gray-300 rounded py-2 px-4 block w-full appearance-none",type:"email"})]}),(0,et.jsxs)("div",{class:"mt-4",children:[(0,et.jsx)("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Email Address"}),(0,et.jsx)("input",{value:a,onChange:function(e){return o(e.target.value)},class:"bg-gray-200 text-gray-700 focus:outline-none focus:shadow-outline border border-gray-300 rounded py-2 px-4 block w-full appearance-none",type:"email"})]}),(0,et.jsxs)("div",{class:"mt-4",children:[(0,et.jsx)("div",{class:"flex justify-between",children:(0,et.jsx)("label",{class:"block text-gray-700 text-sm font-bold mb-2",children:"Password"})}),(0,et.jsx)("input",{value:u,onChange:function(e){return l(e.target.value)},class:"bg-gray-200 text-gray-700 focus:outline-none focus:shadow-outline border border-gray-300 rounded py-2 px-4 block w-full appearance-none",type:"password"})]}),(0,et.jsx)("div",{class:"mt-8",children:(0,et.jsx)("button",{class:"bg-gray-700 text-white font-bold py-2 px-4 w-full rounded hover:bg-gray-600",children:"Sign up"})}),(0,et.jsxs)("div",{class:"mt-4 flex items-center justify-between",children:[(0,et.jsx)("span",{class:"border-b w-1/5 md:w-1/4"}),(0,et.jsx)($e,{to:"/login",class:"text-xs text-gray-500 uppercase",children:"or login"}),(0,et.jsx)("span",{class:"border-b w-1/5 md:w-1/4"})]})]})]})]})})},v_=function(){return(0,et.jsx)("div",{class:"h-full",children:(0,et.jsx)("section",{class:"flex flex-col items-center pt-6",children:(0,et.jsx)("div",{class:"w-full bg-white rounded-lg shadow  md:mt-0 sm:max-w-md xl:p-0  ",children:(0,et.jsxs)("div",{class:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[(0,et.jsx)("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl",children:"Create an account"}),(0,et.jsxs)("form",{class:"space-y-4 md:space-y-6",method:"POST",children:[(0,et.jsxs)("div",{children:[(0,et.jsx)("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 ",children:"Name Res"}),(0,et.jsx)("input",{type:"text",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5 ",placeholder:"Emelia Erickson",required:""})]}),(0,et.jsxs)("div",{children:[(0,et.jsx)("label",{for:"username",class:"block mb-2 text-sm font-medium text-gray-900",children:"Description"}),(0,et.jsx)("textarea",{name:"description",id:"des",cols:"20",rows:"3",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-600 focus:border-blue-600 w-full p-2.5"})]}),(0,et.jsx)("div",{}),(0,et.jsx)("button",{type:"submit",class:"w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Create an account"})]})]})})})})};function m_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g_(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=g_(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var y_=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=g_(e))&&(r&&(r+=" "),r+=t);return r},k_=["theme","type"],w_=["delay","staleId"],b_=function(e){return"number"==typeof e&&!isNaN(e)},__=function(e){return"string"==typeof e},x_=function(e){return"function"==typeof e},I_=function(e){return __(e)||x_(e)?e:null},E_=function(e){return(0,t.isValidElement)(e)||__(e)||x_(e)||b_(e)};function S_(e){var n=e.enter,r=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,s=void 0===o||o,u=e.collapseDuration,c=void 0===u?300:u;return function(e){var i=e.children,o=e.position,u=e.preventExitTransition,l=e.done,h=e.nodeRef,f=e.isIn,d=a?"".concat(n,"--").concat(o):n,v=a?"".concat(r,"--").concat(o):r,m=(0,t.useRef)(0);return(0,t.useLayoutEffect)((function(){var e,t=h.current,n=d.split(" "),r=function e(r){var i;r.target===h.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===m.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,p(n)))};(e=t.classList).add.apply(e,p(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,t.useEffect)((function(){var e=h.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};f||(u?t():(m.current=1,e.className+=" ".concat(v),e.addEventListener("animationend",t)))}),[f]),t.createElement(t.Fragment,null,i)}}function T_(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}var C_={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,p([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},N_=function(e){var n=e.theme,r=e.type,i=m_(e,k_);return t.createElement("svg",In({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))},R_={info:function(e){return t.createElement(N_,In({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(N_,In({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(N_,In({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(N_,In({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function P_(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=c(n,2)[1],i=c((0,t.useState)([]),2),a=i[0],o=i[1],s=(0,t.useRef)(null),u=(0,t.useRef)(new Map).current,l=function(e){return-1!==a.indexOf(e)},h=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:function(e){return u.get(e)}}).current;function f(e){var t=e.containerId;!h.props.limit||t&&h.containerId!==t||(h.count-=h.queue.length,h.queue=[])}function d(e){o((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function v(){var e=h.queue.shift();g(e.toastContent,e.toastProps,e.staleId)}function m(e,n){var i=n.delay,a=n.staleId,o=m_(n,w_);if(E_(e)&&!function(e){return!s.current||h.props.enableMultiContainer&&e.containerId!==h.props.containerId||u.has(e.toastId)&&null==e.updateId}(o)){var l=o.toastId,f=o.updateId,p=o.data,m=h.props,y=function(){return d(l)},k=null==f;k&&h.count++;var w,b,_=In(In(In({},m),{},{style:m.toastStyle,key:h.toastKey++},Object.fromEntries(Object.entries(o).filter((function(e){var t=c(e,2);t[0];return null!=t[1]})))),{},{toastId:l,updateId:f,data:p,closeToast:y,isIn:!1,className:I_(o.className||m.toastClassName),bodyClassName:I_(o.bodyClassName||m.bodyClassName),progressClassName:I_(o.progressClassName||m.progressClassName),autoClose:!o.isLoading&&(w=o.autoClose,b=m.autoClose,!1===w||b_(w)&&w>0?w:b),deleteToast:function(){var e=T_(u.get(l),"removed");u.delete(l),C_.emit(4,e);var t=h.queue.length;if(h.count=null==l?h.count-h.displayedToast:h.count-1,h.count<0&&(h.count=0),t>0){var n=null==l?h.props.limit:1;if(1===t||1===n)h.displayedToast++,v();else{var i=n>t?t:n;h.displayedToast=i;for(var a=0;a<i;a++)v()}}else r()}});_.iconOut=function(e){var n=e.theme,r=e.type,i=e.isLoading,a=e.icon,o=null,s={theme:n,type:r};return!1===a||(x_(a)?o=a(s):(0,t.isValidElement)(a)?o=(0,t.cloneElement)(a,s):__(a)||b_(a)?o=a:i?o=R_.spinner():function(e){return e in R_}(r)&&(o=R_[r](s))),o}(_),x_(o.onOpen)&&(_.onOpen=o.onOpen),x_(o.onClose)&&(_.onClose=o.onClose),_.closeButton=m.closeButton,!1===o.closeButton||E_(o.closeButton)?_.closeButton=o.closeButton:!0===o.closeButton&&(_.closeButton=!E_(m.closeButton)||m.closeButton);var x=e;(0,t.isValidElement)(e)&&!__(e.type)?x=(0,t.cloneElement)(e,{closeToast:y,toastProps:_,data:p}):x_(e)&&(x=e({closeToast:y,toastProps:_,data:p})),m.limit&&m.limit>0&&h.count>m.limit&&k?h.queue.push({toastContent:x,toastProps:_,staleId:a}):b_(i)?setTimeout((function(){g(x,_,a)}),i):g(x,_,a)}}function g(e,t,n){var r=t.toastId;n&&u.delete(n);var i={content:e,props:t};u.set(r,i),o((function(e){return[].concat(p(e),[r]).filter((function(e){return e!==n}))})),C_.emit(4,T_(i,null==i.props.updateId?"added":"updated"))}return(0,t.useEffect)((function(){return h.containerId=e.containerId,C_.cancelEmit(3).on(0,m).on(1,(function(e){return s.current&&d(e)})).on(5,f).emit(2,h),function(){u.clear(),C_.emit(3,h)}}),[]),(0,t.useEffect)((function(){h.props=e,h.isToastActive=l,h.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(u.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:l}}function A_(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function D_(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function O_(e){var n=c((0,t.useState)(!1),2),r=n[0],i=n[1],a=c((0,t.useState)(!1),2),o=a[0],s=a[1],u=(0,t.useRef)(null),l=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,h=(0,t.useRef)(e),f=e.autoClose,d=e.pauseOnHover,p=e.closeToast,v=e.onClick,m=e.closeOnClick;function g(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",b),document.addEventListener("mouseup",_),document.addEventListener("touchmove",b),document.addEventListener("touchend",_);var n=u.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=A_(t.nativeEvent),l.y=D_(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(t){if(l.boundingRect){var n=l.boundingRect,r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&l.x>=a&&l.x<=o&&l.y>=r&&l.y<=i?w():k()}}function k(){i(!0)}function w(){i(!1)}function b(t){var n=u.current;l.canDrag&&n&&(l.didMove=!0,r&&w(),l.x=A_(t),l.y=D_(t),l.delta="x"===e.draggableDirection?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate".concat(e.draggableDirection,"(").concat(l.delta,"px)"),n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function _(){document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",_);var t=u.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,t.useEffect)((function(){h.current=e})),(0,t.useEffect)((function(){return u.current&&u.current.addEventListener("d",k,{once:!0}),x_(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=h.current;x_(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",k),window.addEventListener("blur",w)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",k),window.removeEventListener("blur",w))}}),[e.pauseOnFocusLoss]);var x={onMouseDown:g,onTouchStart:g,onMouseUp:y,onTouchEnd:y};return f&&d&&(x.onMouseEnter=w,x.onMouseLeave=k),m&&(x.onClick=function(e){v&&v(e),l.canCloseOnClick&&p()}),{playToast:k,pauseToast:w,isRunning:r,preventExitTransition:o,toastRef:u,eventHandlers:x}}function L_(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function M_(e){var n=e.delay,r=e.isRunning,i=e.closeToast,a=e.type,o=void 0===a?"default":a,s=e.hide,u=e.className,c=e.style,l=e.controlledProgress,h=e.progress,f=e.rtl,d=e.isIn,p=e.theme,v=s||l&&0===h,m=In(In({},c),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused",opacity:v?0:1});l&&(m.transform="scaleX(".concat(h,")"));var g=y_("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":f}),y=x_(u)?u({rtl:f,type:o,defaultClassName:g}):y_(g,u);return t.createElement("div",ot({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:y,style:m},l&&h>=1?"onTransitionEnd":"onAnimationEnd",l&&h<1?null:function(){d&&i()}))}var F_=function(e){var n=O_(e),r=n.isRunning,i=n.preventExitTransition,a=n.toastRef,o=n.eventHandlers,s=e.closeButton,u=e.children,c=e.autoClose,l=e.onClick,h=e.type,f=e.hideProgressBar,d=e.closeToast,p=e.transition,v=e.position,m=e.className,g=e.style,y=e.bodyClassName,k=e.bodyStyle,w=e.progressClassName,b=e.progressStyle,_=e.updateId,x=e.role,I=e.progress,E=e.rtl,S=e.toastId,T=e.deleteToast,C=e.isIn,N=e.isLoading,R=e.iconOut,P=e.closeOnClick,A=e.theme,D=y_("Toastify__toast","Toastify__toast-theme--".concat(A),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":P}),O=x_(m)?m({rtl:E,position:v,type:h,defaultClassName:D}):y_(D,m),L=!!I||!c,M={closeToast:d,type:h,theme:A},F=null;return!1===s||(F=x_(s)?s(M):(0,t.isValidElement)(s)?(0,t.cloneElement)(s,M):L_(M)),t.createElement(p,{isIn:C,done:T,position:v,preventExitTransition:i,nodeRef:a},t.createElement("div",In(In({id:S,onClick:l,className:O},o),{},{style:g,ref:a}),t.createElement("div",In(In({},C&&{role:x}),{},{className:x_(y)?y({type:h}):y_("Toastify__toast-body",y),style:k}),null!=R&&t.createElement("div",{className:y_("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},R),t.createElement("div",null,u)),F,t.createElement(M_,In(In({},_&&!L?{key:"pb-".concat(_)}:{}),{},{rtl:E,theme:A,delay:c,isRunning:r,isIn:C,closeToast:d,hide:f,type:h,style:b,className:w,controlledProgress:L,progress:I||0}))))},j_=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},U_=S_(j_("bounce",!0)),V_=(S_(j_("slide",!0)),S_(j_("zoom")),S_(j_("flip")),(0,t.forwardRef)((function(e,n){var r=P_(e),i=r.getToastToRender,a=r.containerRef,o=r.isToastActive,s=e.className,u=e.style,c=e.rtl,l=e.containerId;function h(e){var t=y_("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return x_(s)?s({position:e,rtl:c,defaultClassName:t}):y_(t,I_(s))}return(0,t.useEffect)((function(){n&&(n.current=a.current)}),[]),t.createElement("div",{ref:a,className:"Toastify",id:l},i((function(e,n){var r=n.length?In({},u):In(In({},u),{},{pointerEvents:"none"});return t.createElement("div",{className:h(e),style:r,key:"container-".concat(e)},n.map((function(e,r){var i=e.content,a=e.props;return t.createElement(F_,In(In({},a),{},{isIn:o(a.toastId),style:In(In({},a.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-".concat(a.key)}),i)})))})))})));V_.displayName="ToastContainer",V_.defaultProps={position:"top-right",transition:U_,autoClose:5e3,closeButton:L_,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var z_,B_=new Map,q_=[],W_=1;function H_(){return""+W_++}function K_(e){return e&&(__(e.toastId)||b_(e.toastId))?e.toastId:H_()}function G_(e,t){return B_.size>0?C_.emit(0,e,t):q_.push({content:e,options:t}),t.toastId}function Q_(e,t){return In(In({},t),{},{type:t&&t.type||e,toastId:K_(t)})}function Y_(e){return function(t,n){return G_(t,Q_(e,n))}}function $_(e,t){return G_(e,Q_("default",t))}$_.loading=function(e,t){return G_(e,Q_("default",In({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},$_.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=__(i)?$_.loading(i,n):$_.loading(i.render,In(In({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=function(e,t,i){if(null!=t){var a=In(In(In({type:e},s),n),{},{data:i}),o=__(t)?{render:t}:t;return r?$_.update(r,In(In({},a),o)):$_(o.render,In(In({},a),o)),i}$_.dismiss(r)},c=x_(e)?e():e;return c.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",a,e)})),c},$_.success=Y_("success"),$_.info=Y_("info"),$_.error=Y_("error"),$_.warning=Y_("warning"),$_.warn=$_.warning,$_.dark=function(e,t){return G_(e,Q_("default",In({theme:"dark"},t)))},$_.dismiss=function(e){B_.size>0?C_.emit(1,e):q_=q_.filter((function(t){return null!=e&&t.options.toastId!==e}))},$_.clearWaitingQueue=function(e){return void 0===e&&(e={}),C_.emit(5,e)},$_.isActive=function(e){var t=!1;return B_.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},$_.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=B_.get(n||z_);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,i=n.content,a=In(In(In({delay:100},r),t),{},{toastId:t.toastId||e,updateId:H_()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,G_(o,a)}}),0)},$_.done=function(e){$_.update(e,{progress:1})},$_.onChange=function(e){return C_.on(4,e),function(){C_.off(4,e)}},$_.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},$_.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},C_.on(2,(function(e){z_=e.containerId||e,B_.set(z_,e),q_.forEach((function(e){C_.emit(0,e.content,e.options)})),q_=[]})).on(3,(function(e){B_.delete(e.containerId||e),0===B_.size&&C_.off(0).off(1).off(5)}));var J_,X_=n.p+"static/media/pic1.6c45cc2e111a9b44de67.gif",Z_=function(){return(0,et.jsx)("div",{children:(0,et.jsxs)("div",{className:"items-center w-10/12 grid-cols-2 mx-auto overflow-x-hidden lg:grid md:py-14 lg:py-24 xl:py-14 lg:mt-3 xl:mt-5","data-aos":"fade-right","data-aos-duration":"800",children:[(0,et.jsxs)("div",{className:"pr-2 md:mb-14 py-14 md:py-0",children:[(0,et.jsxs)("h1",{className:"text-3xl font-semibold text-blue-900 xl:text-5xl lg:text-3xl",children:[(0,et.jsx)("span",{class:"block w-full animate-typing overflow-hidden whitespace-nowrap",children:"Welcome Our Website"})," For Your business!"]}),(0,et.jsx)("p",{className:"py-4 text-lg text-gray-500 2xl:py-8 md:py-6 2xl:pr-5",children:"Empowering you to make better financial decisions, We truly are professional money planners..."}),(0,et.jsx)("div",{class:"mt-4",children:(0,et.jsxs)($e,{to:"/res",className:"px-5 py-3 text-lg tracking-wider text-white bg-blue-500 rounded-lg md:px-8 hover:bg-blue-600 group",children:[(0,et.jsx)("span",{children:"Create Now"})," "]})})]}),(0,et.jsx)("div",{class:"pb-10 overflow-hidden -z-10 md:p-10 lg:p-0 sm:pb-0",children:(0,et.jsx)("img",{id:"heroImg1",className:" transition-all duration-300 ease-in-out hover:scale-105 lg:w-full sm:mx-auto sm:w-4/6 sm:pb-12 lg:pb-0",src:X_,alt:"Awesome hero page image",width:"500",height:"488"})})]})})},ex="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},tx={},nx=nx||{},rx=ex||self;function ix(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ax(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ox="closure_uid_"+(1e9*Math.random()>>>0),sx=0;function ux(e,t,n){return e.call.apply(e.bind,arguments)}function cx(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function lx(e,t,n){return(lx=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ux:cx).apply(null,arguments)}function hx(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function fx(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function dx(){this.s=this.s,this.o=this.o}dx.prototype.s=!1,dx.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,ox)&&e[ox]||(e[ox]=++sx)}(this)},dx.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var px=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function vx(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function mx(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ix(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function gx(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}gx.prototype.h=function(){this.defaultPrevented=!0};var yx=function(){if(!rx.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};rx.addEventListener("test",n,t),rx.removeEventListener("test",n,t)}catch(n){}return e}();function kx(e){return/^[\s\xa0]*$/.test(e)}function wx(){var e=rx.navigator;return e&&(e=e.userAgent)?e:""}function bx(e){return-1!=wx().indexOf(e)}function _x(e){return _x[" "](e),e}_x[" "]=function(){};var xx,Ix,Ex=bx("Opera"),Sx=bx("Trident")||bx("MSIE"),Tx=bx("Edge"),Cx=Tx||Sx,Nx=bx("Gecko")&&!(-1!=wx().toLowerCase().indexOf("webkit")&&!bx("Edge"))&&!(bx("Trident")||bx("MSIE"))&&!bx("Edge"),Rx=-1!=wx().toLowerCase().indexOf("webkit")&&!bx("Edge");function Px(){var e=rx.document;return e?e.documentMode:void 0}e:{var Ax="",Dx=function(){var e=wx();return Nx?/rv:([^\);]+)(\)|;)/.exec(e):Tx?/Edge\/([\d\.]+)/.exec(e):Sx?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rx?/WebKit\/(\S+)/.exec(e):Ex?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Dx&&(Ax=Dx?Dx[1]:""),Sx){var Ox=Px();if(null!=Ox&&Ox>parseFloat(Ax)){xx=String(Ox);break e}}xx=Ax}if(rx.document&&Sx){var Lx=Px();Ix=Lx||(parseInt(xx,10)||void 0)}else Ix=void 0;var Mx=Ix;function Fx(e,t){if(gx.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Nx){e:{try{_x(t.nodeName);var i=!0;break e}catch(E_){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:jx[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fx.$.h.call(this)}}fx(Fx,gx);var jx={2:"touch",3:"pen",4:"mouse"};Fx.prototype.h=function(){Fx.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ux="closure_listenable_"+(1e6*Math.random()|0),Vx=0;function zx(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Vx,this.fa=this.ia=!1}function Bx(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function qx(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Wx(e){var t={};for(var n in e)t[n]=e[n];return t}var Hx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kx(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Hx.length;a++)n=Hx[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Gx(e){this.src=e,this.g={},this.h=0}function Qx(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=px(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Bx(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Yx(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Gx.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Yx(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new zx(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var $x="closure_lm_"+(1e6*Math.random()|0),Jx={};function Xx(e,t,n,r,i){if(r&&r.once)return eI(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Xx(e,t[a],n,r,i);return null}return n=sI(n),e&&e[Ux]?e.O(t,n,ax(r)?!!r.capture:!!r,i):Zx(e,t,n,!1,r,i)}function Zx(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ax(i)?!!i.capture:!!i,s=aI(e);if(s||(e[$x]=s=new Gx(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=iI;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)yx||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(rI(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function eI(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)eI(e,t[a],n,r,i);return null}return n=sI(n),e&&e[Ux]?e.P(t,n,ax(r)?!!r.capture:!!r,i):Zx(e,t,n,!0,r,i)}function tI(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)tI(e,t[a],n,r,i);else r=ax(r)?!!r.capture:!!r,n=sI(n),e&&e[Ux]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Yx(a=e.g[t],n,r,i))&&(Bx(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=aI(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yx(t,n,r,i)),(n=-1<e?t[e]:null)&&nI(n))}function nI(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ux])Qx(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(rI(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=aI(t))?(Qx(n,e),0==n.h&&(n.src=null,t[$x]=null)):Bx(e)}}}function rI(e){return e in Jx?Jx[e]:Jx[e]="on"+e}function iI(e,t){if(e.fa)e=!0;else{t=new Fx(t,this);var n=e.listener,r=e.la||e.src;e.ia&&nI(e),e=n.call(r,t)}return e}function aI(e){return(e=e[$x])instanceof Gx?e:null}var oI="__closure_events_fn_"+(1e9*Math.random()>>>0);function sI(e){return"function"===typeof e?e:(e[oI]||(e[oI]=function(t){return e.handleEvent(t)}),e[oI])}function uI(){dx.call(this),this.i=new Gx(this),this.S=this,this.J=null}function cI(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new gx(t,e);else if(t instanceof gx)t.target=t.target||e;else{var i=t;Kx(t=new gx(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=lI(o,r,!0,t)&&i}if(i=lI(o=t.g=e,r,!0,t)&&i,i=lI(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=lI(o=t.g=n[a],r,!1,t)&&i}function lI(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Qx(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}fx(uI,dx),uI.prototype[Ux]=!0,uI.prototype.removeEventListener=function(e,t,n,r){tI(this,e,t,n,r)},uI.prototype.N=function(){if(uI.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bx(n[r]);delete t.g[e],t.h--}}this.J=null},uI.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},uI.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var hI=rx.JSON.stringify,fI=function(){function e(t,n){v(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return k(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function dI(){var e=bI,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var pI=function(){function e(){v(this,e),this.h=this.g=null}return k(e,[{key:"add",value:function(e,t){var n=vI.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),vI=new fI((function(){return new mI}),(function(e){return e.reset()})),mI=function(){function e(){v(this,e),this.next=this.g=this.h=null}return k(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function gI(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function yI(e){rx.setTimeout((function(){throw e}),0)}var kI,wI=!1,bI=new pI,_I=function(){var e=rx.Promise.resolve(void 0);kI=function(){e.then(xI)}},xI=function(){for(var e;e=dI();){try{e.h.call(e.g)}catch(n){yI(n)}var t=vI;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wI=!1};function II(e,t){uI.call(this),this.h=e||1,this.g=t||rx,this.j=lx(this.qb,this),this.l=Date.now()}function EI(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function SI(e,t,n){if("function"===typeof e)n&&(e=lx(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=lx(e.handleEvent,e)}return 2147483647<Number(t)?-1:rx.setTimeout(e,t||0)}function TI(e){e.g=SI((function(){e.g=null,e.i&&(e.i=!1,TI(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}fx(II,uI),(J_=II.prototype).ga=!1,J_.T=null,J_.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cI(this,"tick"),this.ga&&(EI(this),this.start()))}},J_.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J_.N=function(){II.$.N.call(this),EI(this),delete this.g};var CI=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return k(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:TI(this)}},{key:"N",value:function(){Vs(_(n.prototype),"N",this).call(this),this.g&&(rx.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(dx);function NI(e){dx.call(this),this.h=e,this.g={}}fx(NI,dx);var RI=[];function PI(e,t,n,r){Array.isArray(n)||(n&&(RI[0]=n.toString()),n=RI);for(var i=0;i<n.length;i++){var a=Xx(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function AI(e){qx(e.g,(function(e,t){this.g.hasOwnProperty(t)&&nI(e)}),e),e.g={}}function DI(){this.g=!0}function OI(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return hI(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}NI.prototype.N=function(){NI.$.N.call(this),AI(this)},NI.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},DI.prototype.Ea=function(){this.g=!1},DI.prototype.info=function(){};var LI={},MI=null;function FI(){return MI=MI||new uI}function jI(e){gx.call(this,LI.Ta,e)}function UI(e){var t=FI();cI(t,new jI(t))}function VI(e,t){gx.call(this,LI.STAT_EVENT,e),this.stat=t}function zI(e){var t=FI();cI(t,new VI(t,e))}function BI(e,t){gx.call(this,LI.Ua,e),this.size=t}function qI(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return rx.setTimeout((function(){e()}),t)}LI.Ta="serverreachability",fx(jI,gx),LI.STAT_EVENT="statevent",fx(VI,gx),LI.Ua="timingevent",fx(BI,gx);var WI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function KI(){}function GI(e){return e.h||(e.h=e.i())}function QI(){}KI.prototype.h=null;var YI,$I={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function JI(){gx.call(this,"d")}function XI(){gx.call(this,"c")}function ZI(){}function eE(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new NI(this),this.P=nE,e=Cx?125:void 0,this.V=new II(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tE}function tE(){this.i=null,this.g="",this.h=!1}fx(JI,gx),fx(XI,gx),fx(ZI,KI),ZI.prototype.g=function(){return new XMLHttpRequest},ZI.prototype.i=function(){return{}},YI=new ZI;var nE=45e3,rE={},iE={};function aE(e,t,n){e.L=1,e.A=IE(kE(t)),e.u=n,e.S=!0,oE(e,null)}function oE(e,t){e.G=Date.now(),lE(e),e.B=kE(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),FE(n.i,"t",r),e.o=0,n=e.l.J,e.h=new tE,e.g=FS(e.l,n?t:null,!e.u),0<e.O&&(e.M=new CI(lx(e.Pa,e,e.g),e.O)),PI(e.U,e.g,"readystatechange",e.nb),t=e.I?Wx(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),UI(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function sE(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function uE(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if((r=cE(e,n))==iE){4==t&&(e.s=4,zI(14),i=!1),OI(e.j,e.m,null,"[Incomplete Response]");break}if(r==rE){e.s=4,zI(15),OI(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}OI(e.j,e.m,r,null),vE(e,r)}sE(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,zI(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),NS(t),t.M=!0,zI(11))):(OI(e.j,e.m,n,"[Invalid Chunked Response]"),pE(e),dE(e))}function cE(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?iE:(n=Number(t.substring(n,r)),isNaN(n)?rE:(r+=1)+n>t.length?iE:(t=t.slice(r,r+n),e.o=r+n,t))}function lE(e){e.Y=Date.now()+e.P,hE(e,e.P)}function hE(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=qI(lx(e.lb,e),t)}function fE(e){e.C&&(rx.clearTimeout(e.C),e.C=null)}function dE(e){0==e.l.H||e.J||AS(e.l,e)}function pE(e){fE(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,EI(e.V),AI(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function vE(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||WE(n.i,e)))if(!e.K&&WE(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;PS(n),bS(n)}CS(n),zI(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=qI(lx(n.ib,n),6e3));if(1>=qE(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else OS(n,11)}else if((e.K||n.g==e)&&PS(n),!kx(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;h.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(HE(h,h.h),h.h=null))}if(r.F){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.Da=f,xE(r.I,r.F,f))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=MS(r,r.J?r.pa:null,r.Y),d.K){KE(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.C&&(fE(p),lE(p)),r.g=d}else TS(r);0<n.j.length&&xS(n)}else"stop"!=a[0]&&"close"!=a[0]||OS(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?OS(n,7):wS(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}UI()}catch(a){}}function mE(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ix(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ix(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ix(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(J_=eE.prototype).setTimeout=function(e){this.P=e},J_.nb=function(e){e=e.target;var t=this.M;t&&3==pS(e)?t.l():this.Pa(e)},J_.Pa=function(e){try{if(e==this.g)e:{var t=pS(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Cx||this.g&&(this.h.h||this.g.ja()||vS(this.g)))){this.J||4!=t||7==n||UI(),fE(this);var r=this.g.da();this.ca=r;t:if(sE(this)){var i=vS(this.g);e="";var a=i.length,o=4==pS(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){pE(this),dE(this);var s="";break t}this.h.i=new rx.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.v,this.B,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kx(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.s=3,zI(12),pE(this),dE(this);break e}OI(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vE(this,r)}this.S?(uE(this,t,s),Cx&&this.i&&3==t&&(PI(this.U,this.V,"tick",this.mb),this.V.start())):(OI(this.j,this.m,s,null),vE(this,s)),4==t&&pE(this),this.i&&!this.J&&(4==t?AS(this.l,this):(this.i=!1,lE(this)))}else(function(e){var t={};e=(e.g&&2<=pS(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!kx(e[n])){var r=gI(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.s=3,zI(12)):(this.s=0,zI(13)),pE(this),dE(this)}}}catch(t){}},J_.mb=function(){if(this.g){var e=pS(this.g),t=this.g.ja();this.o<t.length&&(fE(this),uE(this,e,t),this.i&&4!=e&&lE(this))}},J_.cancel=function(){this.J=!0,pE(this)},J_.lb=function(){this.C=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(UI(),zI(17)),pE(this),this.s=2,dE(this)):hE(this,this.Y-e)};var gE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yE(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof yE){this.h=e.h,wE(this,e.j),this.s=e.s,this.g=e.g,bE(this,e.m),this.l=e.l;var t=e.i,n=new DE;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),_E(this,n),this.o=e.o}else e&&(t=String(e).match(gE))?(this.h=!1,wE(this,t[1]||"",!0),this.s=EE(t[2]||""),this.g=EE(t[3]||"",!0),bE(this,t[4]),this.l=EE(t[5]||"",!0),_E(this,t[6]||"",!0),this.o=EE(t[7]||"")):(this.h=!1,this.i=new DE(null,this.h))}function kE(e){return new yE(e)}function wE(e,t,n){e.j=n?EE(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bE(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _E(e,t,n){t instanceof DE?(e.i=t,function(e,t){t&&!e.j&&(OE(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(LE(this,t),FE(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=SE(t,PE)),e.i=new DE(t,e.h))}function xE(e,t,n){e.i.set(t,n)}function IE(e){return xE(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function EE(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function SE(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,TE),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function TE(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yE.prototype.toString=function(){var e=[],t=this.j;t&&e.push(SE(t,CE,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(SE(t,CE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(SE(n,"/"==n.charAt(0)?RE:NE,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",SE(n,AE)),e.join("")};var CE=/[#\/\?@]/g,NE=/[#\?:]/g,RE=/[#\?]/g,PE=/[#\?@]/g,AE=/#/g;function DE(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function OE(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function LE(e,t){OE(e),t=jE(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ME(e,t){return OE(e),t=jE(e,t),e.g.has(t)}function FE(e,t,n){LE(e,t),0<n.length&&(e.i=null,e.g.set(jE(e,t),vx(n)),e.h+=n.length)}function jE(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(J_=DE.prototype).add=function(e,t){OE(this),this.i=null,e=jE(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},J_.forEach=function(e,t){OE(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},J_.ta=function(){OE(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},J_.Z=function(e){OE(this);var t=[];if("string"===typeof e)ME(this,e)&&(t=t.concat(this.g.get(jE(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},J_.set=function(e,t){return OE(this),this.i=null,ME(this,e=jE(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},J_.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},J_.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var UE=k((function e(t,n){v(this,e),this.g=t,this.map=n}));function VE(e){this.l=e||zE,rx.PerformanceNavigationTiming?e=0<(e=rx.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(rx.g&&rx.g.Ka&&rx.g.Ka()&&rx.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zE=10;function BE(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qE(e){return e.h?1:e.g?e.g.size:0}function WE(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function HE(e,t){e.g?e.g.add(t):e.h=t}function KE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function GE(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=R(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return vx(e.i)}VE.prototype.cancel=function(){if(this.i=GE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=R(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var QE=function(){function e(){v(this,e)}return k(e,[{key:"stringify",value:function(e){return rx.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return rx.JSON.parse(e,void 0)}}]),e}();function YE(){this.g=new QE}function $E(e,t,n){var r=n||"";try{mE(e,(function(e,n){var i=e;ax(e)&&(i=hI(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function JE(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(E_){}}function XE(e){this.l=e.ec||null,this.j=e.ob||!1}function ZE(e,t){uI.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=eS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fx(XE,KI),XE.prototype.g=function(){return new ZE(this.l,this.j)},XE.prototype.i=function(e){return function(){return e}}({}),fx(ZE,uI);var eS=0;function tS(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function nS(e){e.readyState=4,e.l=null,e.j=null,e.A=null,rS(e)}function rS(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(J_=ZE.prototype).open=function(e,t){if(this.readyState!=eS)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,rS(this)},J_.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||rx).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},J_.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nS(this)),this.readyState=eS},J_.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,rS(this)),this.g&&(this.readyState=3,rS(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof rx.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tS(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},J_.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?nS(this):rS(this),3==this.readyState&&tS(this)}},J_.Za=function(e){this.g&&(this.response=this.responseText=e,nS(this))},J_.Ya=function(e){this.g&&(this.response=e,nS(this))},J_.ka=function(){this.g&&nS(this)},J_.setRequestHeader=function(e,t){this.v.append(e,t)},J_.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},J_.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ZE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var iS=rx.JSON.parse;function aS(e){uI.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oS,this.L=this.M=!1}fx(aS,uI);var oS="",sS=/^https?$/i,uS=["POST","PUT"];function cS(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,lS(e),fS(e)}function lS(e){e.F||(e.F=!0,cI(e,"complete"),cI(e,"error"))}function hS(e){if(e.h&&"undefined"!=typeof nx&&(!e.C[1]||4!=pS(e)||2!=e.da()))if(e.v&&4==pS(e))SI(e.La,0,e);else if(cI(e,"readystatechange"),4==pS(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(gE)[1]||null;!a&&rx.self&&rx.self.location&&(a=rx.self.location.protocol.slice(0,-1)),i=!sS.test(a?a.toLowerCase():"")}t=i}if(t)cI(e,"complete"),cI(e,"success");else{e.m=6;try{var o=2<pS(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",lS(e)}}finally{fS(e)}}}function fS(e,t){if(e.g){dS(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||cI(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function dS(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(rx.clearTimeout(e.A),e.A=null)}function pS(e){return e.g?e.g.readyState:0}function vS(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case oS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(A_){return null}}function mS(e){var t="";return qx(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function gS(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mS(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xE(e,t,n))}function yS(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kS(e){this.Ga=0,this.j=[],this.l=new DI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yS("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yS("baseRetryDelayMs",5e3,e),this.hb=yS("retryDelaySeedMs",1e4,e),this.eb=yS("forwardChannelMaxRetries",2,e),this.xa=yS("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new VE(e&&e.concurrentRequestLimit),this.Ja=new YE,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function wS(e){if(_S(e),3==e.H){var t=e.W++,n=kE(e.I);if(xE(n,"SID",e.K),xE(n,"RID",t),xE(n,"TYPE","terminate"),ES(e,n),(t=new eE(e,e.l,t)).L=2,t.A=IE(kE(n)),n=!1,rx.navigator&&rx.navigator.sendBeacon)try{n=rx.navigator.sendBeacon(t.A.toString(),"")}catch(__){}!n&&rx.Image&&((new Image).src=t.A,n=!0),n||(t.g=FS(t.l,null),t.g.ha(t.A)),t.G=Date.now(),lE(t)}LS(e)}function bS(e){e.g&&(NS(e),e.g.cancel(),e.g=null)}function _S(e){bS(e),e.u&&(rx.clearTimeout(e.u),e.u=null),PS(e),e.i.cancel(),e.m&&("number"===typeof e.m&&rx.clearTimeout(e.m),e.m=null)}function xS(e){if(!BE(e.i)&&!e.m){e.m=!0;var t=e.Na;kI||_I(),wI||(kI(),wI=!0),bI.add(t,e),e.C=0}}function IS(e,t){var n;n=t?t.m:e.W++;var r=kE(e.I);xE(r,"SID",e.K),xE(r,"RID",n),xE(r,"AID",e.V),ES(e,r),e.o&&e.s&&gS(r,e.o,e.s),n=new eE(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=SS(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),HE(e.i,n),aE(n,r,t)}function ES(e,t){e.na&&qx(e.na,(function(e,n){xE(t,n,e)})),e.h&&mE({},(function(e,n){xE(t,n,e)}))}function SS(e,t,n){n=Math.min(e.j.length,n);var r=e.h?lx(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{$E(l,o,"req"+c+"_")}catch(L_){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function TS(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;kI||_I(),wI||(kI(),wI=!0),bI.add(t,e),e.A=0}}function CS(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=qI(lx(e.Ma,e),DS(e,e.A)),e.A++,!0)}function NS(e){null!=e.B&&(rx.clearTimeout(e.B),e.B=null)}function RS(e){e.g=new eE(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=kE(e.wa);xE(t,"RID","rpc"),xE(t,"SID",e.K),xE(t,"AID",e.V),xE(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&xE(t,"TO",e.qa),xE(t,"TYPE","xmlhttp"),ES(e,t),e.o&&e.s&&gS(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=IE(kE(t)),n.u=null,n.S=!0,oE(n,e)}function PS(e){null!=e.v&&(rx.clearTimeout(e.v),e.v=null)}function AS(e,t){var n=null;if(e.g==t){PS(e),NS(e),e.g=null;var r=2}else{if(!WE(e.i,t))return;n=t.F,KE(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;cI(r=FI(),new BI(r,n)),xS(e)}else TS(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(qE(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=qI(lx(e.Na,e,t),DS(e,e.C)),e.C++,!0))}(e,t)||2==r&&CS(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:OS(e,5);break;case 4:OS(e,10);break;case 3:OS(e,6);break;default:OS(e,2)}}function DS(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function OS(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=lx(e.pb,e);n||(n=new yE("//www.google.com/images/cleardot.gif"),rx.location&&"http"==rx.location.protocol||wE(n,"https"),IE(n)),function(e,t){var n=new DI;if(rx.Image){var r=new Image;r.onload=hx(JE,n,r,"TestLoadImage: loaded",!0,t),r.onerror=hx(JE,n,r,"TestLoadImage: error",!1,t),r.onabort=hx(JE,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=hx(JE,n,r,"TestLoadImage: timeout",!1,t),rx.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else zI(2);e.H=0,e.h&&e.h.za(t),LS(e),_S(e)}function LS(e){if(e.H=0,e.ma=[],e.h){var t=GE(e.i);0==t.length&&0==e.j.length||(mx(e.ma,t),mx(e.ma,e.j),e.i.i.length=0,vx(e.j),e.j.length=0),e.h.ya()}}function MS(e,t,n){var r=n instanceof yE?kE(n):new yE(n);if(""!=r.g)t&&(r.g=t+"."+r.g),bE(r,r.m);else{var i=rx.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new yE(null);r&&wE(a,r),t&&(a.g=t),i&&bE(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&xE(r,n,t),xE(r,"VER",e.ra),ES(e,r),r}function FS(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new aS(new XE({ob:n})):new aS(e.va)).Oa(e.J),t}function jS(){}function US(){if(Sx&&!(10<=Number(Mx)))throw Error("Environmental error: no available transport.")}function VS(e,t){uI.call(this),this.g=new kS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!kx(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!kx(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qS(this)}function zS(e){JI.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function BS(){XI.call(this),this.status=1}function qS(e){this.g=e}function WS(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function HS(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function KS(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(J_=aS.prototype).Oa=function(e){this.M=e},J_.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():YI.g(),this.C=this.u?GI(this.u):GI(YI),this.g.onreadystatechange=lx(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void cS(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=R(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=rx.FormData&&e instanceof rx.FormData,!(0<=px(uS,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=R(n);try{for(l.s();!(u=l.n()).done;){var h=c(u.value,2),f=h[0],d=h[1];this.g.setRequestHeader(f,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dS(this),0<this.B&&((this.L=function(e){return Sx&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lx(this.ua,this)):this.A=SI(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){cS(this,s)}},J_.ua=function(){"undefined"!=typeof nx&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cI(this,"timeout"),this.abort(8))},J_.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,cI(this,"complete"),cI(this,"abort"),fS(this))},J_.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fS(this,!0)),aS.$.N.call(this)},J_.La=function(){this.s||(this.G||this.v||this.l?hS(this):this.kb())},J_.kb=function(){hS(this)},J_.isActive=function(){return!!this.g},J_.da=function(){try{return 2<pS(this)?this.g.status:-1}catch(e){return-1}},J_.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},J_.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),iS(t)}},J_.Ia=function(){return this.m},J_.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(J_=kS.prototype).ra=8,J_.H=1,J_.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new eE(this,this.l,e),n=this.s;if(this.U&&(n?Kx(n=Wx(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=SS(this,t,r),xE(i=kE(this.I),"RID",e),xE(i,"CVER",22),this.F&&xE(i,"X-HTTP-Session-Id",this.F),ES(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(mS(n)))+"&"+r:this.o&&gS(i,this.o,n)),HE(this.i,t),this.bb&&xE(i,"TYPE","init"),this.P?(xE(i,"$req",r),xE(i,"SID","null"),t.aa=!0,aE(t,i,null)):aE(t,i,r),this.H=2}}else 3==this.H&&(e?IS(this,e):0==this.j.length||BE(this.i)||IS(this))},J_.Ma=function(){if(this.u=null,RS(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=qI(lx(this.jb,this),e)}},J_.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zI(10),bS(this),RS(this))},J_.ib=function(){null!=this.v&&(this.v=null,bS(this),CS(this),zI(19))},J_.pb=function(e){e?(this.l.info("Successfully pinged google.com"),zI(2)):(this.l.info("Failed to ping google.com"),zI(1))},J_.isActive=function(){return!!this.h&&this.h.isActive(this)},(J_=jS.prototype).Ba=function(){},J_.Aa=function(){},J_.za=function(){},J_.ya=function(){},J_.isActive=function(){return!0},J_.Va=function(){},US.prototype.g=function(e,t){return new VS(e,t)},fx(VS,uI),VS.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;zI(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=MS(e,null,e.Y),xS(e)},VS.prototype.close=function(){wS(this.g)},VS.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=hI(e),e=n);t.j.push(new UE(t.fb++,e)),3==t.H&&xS(t)},VS.prototype.N=function(){this.g.h=null,delete this.j,wS(this.g),delete this.g,VS.$.N.call(this)},fx(zS,JI),fx(BS,XI),fx(qS,jS),qS.prototype.Ba=function(){cI(this.g,"a")},qS.prototype.Aa=function(e){cI(this.g,new zS(e))},qS.prototype.za=function(e){cI(this.g,new BS)},qS.prototype.ya=function(){cI(this.g,"b")},fx(WS,(function(){this.blockSize=-1})),WS.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},WS.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)HS(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){HS(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){HS(this,r),i=0;break}}this.h=i,this.i+=t},WS.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var GS={};function QS(e){return-128<=e&&128>e?function(e,t){var n=GS;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new KS([0|e],0>e?-1:0)})):new KS([0|e],0>e?-1:0)}function YS(e){if(isNaN(e)||!isFinite(e))return JS;if(0>e)return nT(YS(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=$S;return new KS(t,0)}var $S=4294967296,JS=QS(0),XS=QS(1),ZS=QS(16777216);function eT(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function tT(e){return-1==e.h}function nT(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new KS(n,~e.h).add(XS)}function rT(e,t){return e.add(nT(t))}function iT(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function aT(e,t){this.g=e,this.h=t}function oT(e,t){if(eT(t))throw Error("division by zero");if(eT(e))return new aT(JS,JS);if(tT(e))return t=oT(nT(e),t),new aT(nT(t.g),nT(t.h));if(tT(t))return t=oT(e,nT(t)),new aT(nT(t.g),t.h);if(30<e.g.length){if(tT(e)||tT(t))throw Error("slowDivide_ only works with positive integers.");for(var n=XS,r=t;0>=r.X(e);)n=sT(n),r=sT(r);var i=uT(n,1),a=uT(r,1);for(r=uT(r,2),n=uT(n,2);!eT(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=uT(r,1),n=uT(n,1)}return t=rT(e,i.R(t)),new aT(i,t)}for(i=JS;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=YS(n)).R(t);tT(o)||0<o.X(e);)o=(a=YS(n-=r)).R(t);eT(a)&&(a=XS),i=i.add(a),e=rT(e,o)}return new aT(i,e)}function sT(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new KS(n,e.h)}function uT(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new KS(i,e.h)}(J_=KS.prototype).ea=function(){if(tT(this))return-nT(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:$S+r)*t,t*=$S}return e},J_.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(eT(this))return"0";if(tT(this))return"-"+nT(this).toString(e);for(var t=YS(Math.pow(e,6)),n=this,r="";;){var i=oT(n,t).g,a=((0<(n=rT(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(eT(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},J_.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},J_.X=function(e){return tT(e=rT(this,e))?-1:eT(e)?0:1},J_.abs=function(){return tT(this)?nT(this):this},J_.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new KS(n,-2147483648&n[n.length-1]?-1:0)},J_.R=function(e){if(eT(this)||eT(e))return JS;if(tT(this))return tT(e)?nT(this).R(nT(e)):nT(nT(this).R(e));if(tT(e))return nT(this.R(nT(e)));if(0>this.X(ZS)&&0>e.X(ZS))return YS(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,iT(n,2*r+2*i),n[2*r+2*i+1]+=a*u,iT(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,iT(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,iT(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new KS(n,0)},J_.gb=function(e){return oT(this,e).h},J_.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new KS(n,this.h&e.h)},J_.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new KS(n,this.h|e.h)},J_.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new KS(n,this.h^e.h)},US.prototype.createWebChannel=US.prototype.g,VS.prototype.send=VS.prototype.u,VS.prototype.open=VS.prototype.m,VS.prototype.close=VS.prototype.close,WI.NO_ERROR=0,WI.TIMEOUT=8,WI.HTTP_ERROR=6,HI.COMPLETE="complete",QI.EventType=$I,$I.OPEN="a",$I.CLOSE="b",$I.ERROR="c",$I.MESSAGE="d",uI.prototype.listen=uI.prototype.O,aS.prototype.listenOnce=aS.prototype.P,aS.prototype.getLastError=aS.prototype.Sa,aS.prototype.getLastErrorCode=aS.prototype.Ia,aS.prototype.getStatus=aS.prototype.da,aS.prototype.getResponseJson=aS.prototype.Wa,aS.prototype.getResponseText=aS.prototype.ja,aS.prototype.send=aS.prototype.ha,aS.prototype.setWithCredentials=aS.prototype.Oa,WS.prototype.digest=WS.prototype.l,WS.prototype.reset=WS.prototype.reset,WS.prototype.update=WS.prototype.j,KS.prototype.add=KS.prototype.add,KS.prototype.multiply=KS.prototype.R,KS.prototype.modulo=KS.prototype.gb,KS.prototype.compare=KS.prototype.X,KS.prototype.toNumber=KS.prototype.ea,KS.prototype.toString=KS.prototype.toString,KS.prototype.getBits=KS.prototype.D,KS.fromNumber=YS,KS.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return nT(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=YS(Math.pow(n,8)),i=JS,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=YS(Math.pow(n,o)),i=i.R(o).add(YS(s))):i=(i=i.R(r)).add(YS(s))}return i};var cT=tx.createWebChannelTransport=function(){return new US},lT=tx.getStatEventTarget=function(){return FI()},hT=tx.ErrorCode=WI,fT=tx.EventType=HI,dT=tx.Event=LI,pT=tx.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vT=(tx.FetchXmlHttpFactory=XE,tx.WebChannel=QI),mT=tx.XhrIo=aS,gT=tx.Md5=WS,yT=tx.Integer=KS,kT="@firebase/firestore",wT=function(){function e(t){v(this,e),this.uid=t}return k(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();wT.UNAUTHENTICATED=new wT(null),wT.GOOGLE_CREDENTIALS=new wT("google-credentials-uid"),wT.FIRST_PARTY=new wT("first-party-uid"),wT.MOCK_USER=new wT("mock-user");var bT="10.7.0",_T=new _n("@firebase/firestore");function xT(){return _T.logLevel}function IT(e){if(_T.logLevel<=vn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(TT);_T.debug.apply(_T,["Firestore (".concat(bT,"): ").concat(e)].concat(p(i)))}}function ET(e){if(_T.logLevel<=vn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(TT);_T.error.apply(_T,["Firestore (".concat(bT,"): ").concat(e)].concat(p(i)))}}function ST(e){if(_T.logLevel<=vn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(TT);_T.warn.apply(_T,["Firestore (".concat(bT,"): ").concat(e)].concat(p(i)))}}function TT(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function CT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(bT,") INTERNAL ASSERTION FAILED: ")+e;throw ET(t),new Error(t)}function NT(e,t){e||CT()}function RT(e,t){return e}var PT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},AT=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return k(n)}(Ot),DT=k((function e(){var t=this;v(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),OT=k((function e(t,n){v(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),LT=function(){function e(){v(this,e)}return k(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(wT.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),MT=function(){function e(t){v(this,e),this.token=t,this.changeListener=null}return k(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),FT=function(){function e(t){v(this,e),this.t=t,this.currentUser=wT.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new DT;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new DT,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){IT("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(IT("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new DT)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(IT("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(NT("string"==typeof n.accessToken),new OT(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return NT(null===e||"string"==typeof e),new wT(e)}}]),e}(),jT=function(){function e(t,n,r){v(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=wT.FIRST_PARTY,this.I=new Map}return k(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),UT=function(){function e(t,n,r){v(this,e),this.l=t,this.h=n,this.P=r}return k(e,[{key:"getToken",value:function(){return Promise.resolve(new jT(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(wT.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),VT=k((function e(t){v(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),zT=function(){function e(t){v(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&IT("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,IT("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){IT("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):IT("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(NT("string"==typeof t.token),e.R=t.token,new VT(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function BT(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var qT=function(){function e(){v(this,e)}return k(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=BT(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function WT(e,t){return e<t?-1:e>t?1:0}function HT(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function KT(e){return e+"\0"}var GT=function(){function e(t,n){if(v(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new AT(PT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new AT(PT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new AT(PT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new AT(PT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return k(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?WT(this.nanoseconds,e.nanoseconds):WT(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),QT=function(){function e(t){v(this,e),this.timestamp=t}return k(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new GT(0,0))}},{key:"max",value:function(){return new e(new GT(253402300799,999999999))}}]),e}(),YT=function(){function e(t,n,r){v(this,e),void 0===n?n=0:n>t.length&&CT(),void 0===r?r=t.length-n:r>t.length-n&&CT(),this.segments=t,this.offset=n,this.len=r}return k(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),$T=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new AT(PT.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,p(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(YT),JT=/^[_a-zA-Z][_a-zA-Z0-9]*$/,XT=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return JT.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new AT(PT.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new AT(PT.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new AT(PT.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new AT(PT.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(YT),ZT=function(){function e(t){v(this,e),this.path=t}return k(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===$T.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e($T.fromString(t))}},{key:"fromName",value:function(t){return new e($T.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e($T.emptyPath())}},{key:"comparator",value:function(e,t){return $T.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new $T(t.slice()))}}]),e}(),eC=k((function e(t,n,r,i){v(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function tC(e){return e.fields.find((function(e){return 2===e.kind}))}function nC(e){return e.fields.filter((function(e){return 2!==e.kind}))}eC.UNKNOWN_ID=-1;var rC=k((function e(t,n){v(this,e),this.fieldPath=t,this.kind=n}));var iC=function(){function e(t,n){v(this,e),this.sequenceNumber=t,this.offset=n}return k(e,null,[{key:"empty",value:function(){return new e(0,sC.min())}}]),e}();function aC(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=QT.fromTimestamp(1e9===r?new GT(n+1,0):new GT(n,r));return new sC(i,ZT.empty(),t)}function oC(e){return new sC(e.readTime,e.key,-1)}var sC=function(){function e(t,n,r){v(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return k(e,null,[{key:"min",value:function(){return new e(QT.min(),ZT.empty(),-1)}},{key:"max",value:function(){return new e(QT.max(),ZT.empty(),-1)}}]),e}();function uC(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ZT.comparator(e.documentKey,t.documentKey))?n:WT(e.largestBatchId,t.largestBatchId)}var cC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lC=function(){function e(){v(this,e),this.onCommittedListeners=[]}return k(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function hC(e){return fC.apply(this,arguments)}function fC(){return(fC=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===PT.FAILED_PRECONDITION&&t.message===cC){e.next=2;break}throw t;case 2:IT("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dC=function(){function e(t){var n=this;v(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return k(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&CT(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=R(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),pC=function(){function e(t,n){var r=this;v(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new DT,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new gC(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=_C(e.target.error);r.V.reject(new gC(t,n))}}return k(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(IT("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new kC(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new gC(n,t)}}}]),e}(),vC=function(){function e(t,n,r){v(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S(Et())&&ET("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return k(e,[{key:"O",value:function(){var e=at(rt().mark((function e(t){var n=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return IT("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new gC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new AT(PT.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new AT(PT.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new gC(t,n))},i.onupgradeneeded=function(e){IT("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){IT("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=at(rt().mark((function e(t,n,r,i){var a,o,s,u,c=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=rt().mark((function e(){var n,s,u,l;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=pC.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.g(),e})).catch((function(e){return n.abort(e),dC.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.m;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,IT("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return IT("SimpleDb","Removing database:",e),wC(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!At())return!1;if(e.C())return!0;var t=Et(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/restaurant-management",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),mC=function(){function e(t){v(this,e),this.k=t,this.q=!1,this.K=null}return k(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return wC(this.k.delete())}}]),e}(),gC=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,PT.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return k(n)}(AT);function yC(e){return"IndexedDbTransactionError"===e.name}var kC=function(){function e(t){v(this,e),this.store=t}return k(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(IT("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(IT("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),wC(n)}},{key:"add",value:function(e){return IT("SimpleDb","ADD",this.store.name,e,e),wC(this.store.add(e))}},{key:"get",value:function(e){var t=this;return wC(this.store.get(e)).next((function(n){return void 0===n&&(n=null),IT("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return IT("SimpleDb","DELETE",this.store.name,e),wC(this.store.delete(e))}},{key:"count",value:function(){return IT("SimpleDb","COUNT",this.store.name),wC(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new dC((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new dC((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){IT("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new dC((function(n,r){t.onerror=function(e){var t=_C(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new dC((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new mC(i),o=t(i.primaryKey,i.value,a);if(o instanceof dC){var s=o.catch((function(e){return a.done(),dC.reject(e)}));n.push(s)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}else r()}})).next((function(){return dC.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function wC(e){return new dC((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=_C(e.target.error);n(t)}}))}var bC=!1;function _C(e){var t=vC.S(Et());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new AT("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return bC||(bC=!0,setTimeout((function(){throw r}),0)),r}}return e}var xC=function(){function e(t,n){v(this,e),this.asyncQueue=t,this.X=n,this.task=null}return k(e,[{key:"start",value:function(){this.ee(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"ee",value:function(e){var t=this;IT("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=IT,e.t1="Documents written: ",e.next=6,t.X.te();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!yC(e.t4)){e.next=17;break}IT("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,hC(e.t4);case 19:return e.next=21,t.ee(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),IC=function(){function e(t,n){v(this,e),this.localStore=t,this.persistence=n}return k(e,[{key:"te",value:function(){var e=at(rt().mark((function e(){var t,n=this,r=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.ne(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ne",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return dC.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return IT("IndexBackiller","Processing collection: ".concat(t)),n.re(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"re",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ie(i,n)})).next((function(n){return IT("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ie",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=oC(t);uC(r,n)>0&&(n=r)})),new sC(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),EC=function(){function e(t,n){var r=this;v(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return k(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function SC(e){return null==e}function TC(e){return 0===e&&1/e==-1/0}function CC(e){return"number"==typeof e&&Number.isInteger(e)&&!TC(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function NC(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=PC(t)),t=RC(e.get(n),t);return PC(t)}function RC(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function PC(e){return e+"\x01\x01"}function AC(e){var t=e.length;if(NT(t>=2),2===t)return NT("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),$T.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&CT(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:CT()}a=o+2}return new $T(r)}EC._e=-1;var DC=["userId","batchId"];function OC(e,t){return[e,NC(t)]}function LC(e,t,n){return[e,NC(t),n]}var MC={},FC=["prefixPath","collectionGroup","readTime","documentId"],jC=["prefixPath","collectionGroup","documentId"],UC=["collectionGroup","readTime","prefixPath","documentId"],VC=["canonicalId","targetId"],zC=["targetId","path"],BC=["path","targetId"],qC=["collectionId","parent"],WC=["indexId","uid"],HC=["uid","sequenceNumber"],KC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],GC=["indexId","uid","orderedDocumentKey"],QC=["userId","collectionPath","documentId"],YC=["userId","collectionPath","largestBatchId"],$C=["userId","collectionGroup","largestBatchId"],JC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),XC=[].concat(p(JC),["documentOverlays"]),ZC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eN=ZC,tN=[].concat(eN,["indexConfiguration","indexState","indexEntries"]),nN=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).ae=e,i.currentSequenceNumber=r,i}return k(n)}(lC);function rN(e,t){var n=RT(e);return vC.M(n.ae,t)}function iN(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function aN(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function oN(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var sN=function(){function e(t,n){v(this,e),this.comparator=t,this.root=n||cN.EMPTY}return k(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cN.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cN.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new uN(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new uN(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new uN(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new uN(this.root,e,this.comparator,!0)}}]),e}(),uN=function(){function e(t,n,r,i){v(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return k(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),cN=function(){function e(t,n,r,i,a){v(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return k(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw CT();if(this.right.isRed())throw CT();var e=this.left.check();if(e!==this.right.check())throw CT();return e+(this.isRed()?0:1)}}]),e}();cN.EMPTY=null,cN.RED=!0,cN.BLACK=!1,cN.EMPTY=new(function(){function e(){v(this,e),this.size=0}return k(e,[{key:"key",get:function(){throw CT()}},{key:"value",get:function(){throw CT()}},{key:"color",get:function(){throw CT()}},{key:"left",get:function(){throw CT()}},{key:"right",get:function(){throw CT()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new cN(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var lN=function(){function e(t){v(this,e),this.comparator=t,this.data=new sN(this.comparator)}return k(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new hN(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new hN(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),hN=function(){function e(t){v(this,e),this.iter=t}return k(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function fN(e){return e.hasNext()?e.getNext():void 0}var dN=function(){function e(t){v(this,e),this.fields=t,t.sort(XT.comparator)}return k(e,[{key:"unionWith",value:function(t){var n,r=new lN(XT.comparator),i=R(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=R(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=R(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return HT(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),pN=function(e){b(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return k(n)}(C(Error));var vN=function(e){function t(e){v(this,t),this.binaryString=e}return k(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return WT(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new pN("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();vN.EMPTY_BYTE_STRING=new vN("");var mN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gN(e){if(NT(!!e),"string"==typeof e){var t=0,n=mN.exec(e);if(NT(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yN(e.seconds),nanos:yN(e.nanos)}}function yN(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function kN(e){return"string"==typeof e?vN.fromBase64String(e):vN.fromUint8Array(e)}function wN(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bN(e){var t=e.mapValue.fields.__previous_value__;return wN(t)?bN(t):t}function _N(e){var t=gN(e.mapValue.fields.__local_write_time__.timestampValue);return new GT(t.seconds,t.nanos)}var xN=k((function e(t,n,r,i,a,o,s,u,c){v(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),IN=function(){function e(t,n){v(this,e),this.projectId=t,this.database=n||"(default)"}return k(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),EN={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},SN={nullValue:"NULL_VALUE"};function TN(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wN(e)?4:zN(e)?9007199254740991:10:CT()}function CN(e,t){if(e===t)return!0;var n=TN(e);if(n!==TN(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _N(e).isEqual(_N(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=gN(e.timestampValue),r=gN(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return kN(e.bytesValue).isEqual(kN(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yN(e.geoPointValue.latitude)===yN(t.geoPointValue.latitude)&&yN(e.geoPointValue.longitude)===yN(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yN(e.integerValue)===yN(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=yN(e.doubleValue),r=yN(t.doubleValue);return n===r?TC(n)===TC(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return HT(e.arrayValue.values||[],t.arrayValue.values||[],CN);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(iN(n)!==iN(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!CN(n[i],r[i])))return!1;return!0}(e,t);default:return CT()}}function NN(e,t){return void 0!==(e.values||[]).find((function(e){return CN(e,t)}))}function RN(e,t){if(e===t)return 0;var n=TN(e),r=TN(t);if(n!==r)return WT(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return WT(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=yN(e.integerValue||e.doubleValue),r=yN(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return PN(e.timestampValue,t.timestampValue);case 4:return PN(_N(e),_N(t));case 5:return WT(e.stringValue,t.stringValue);case 6:return function(e,t){var n=kN(e),r=kN(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=WT(n[i],r[i]);if(0!==a)return a}return WT(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=WT(yN(e.latitude),yN(t.latitude));return 0!==n?n:WT(yN(e.longitude),yN(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=RN(n[i],r[i]);if(a)return a}return WT(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===EN.mapValue&&t===EN.mapValue)return 0;if(e===EN.mapValue)return 1;if(t===EN.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=WT(r[o],a[o]);if(0!==s)return s;var u=RN(n[r[o]],i[a[o]]);if(0!==u)return u}return WT(r.length,a.length)}(e.mapValue,t.mapValue);default:throw CT()}}function PN(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return WT(e,t);var n=gN(e),r=gN(t),i=WT(n.seconds,r.seconds);return 0!==i?i:WT(n.nanos,r.nanos)}function AN(e){return DN(e)}function DN(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=gN(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return kN(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ZT.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=R(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=DN(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=R(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(DN(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):CT()}function ON(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function LN(e){return!!e&&"integerValue"in e}function MN(e){return!!e&&"arrayValue"in e}function FN(e){return!!e&&"nullValue"in e}function jN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function UN(e){return!!e&&"mapValue"in e}function VN(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return aN(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=VN(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=VN(e.arrayValue.values[r]);return n}return Object.assign({},e)}function zN(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function BN(e){return"nullValue"in e?SN:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ON(IN.empty(),ZT.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:CT()}function qN(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ON(IN.empty(),ZT.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?EN:CT()}function WN(e,t){var n=RN(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function HN(e,t){var n=RN(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var KN=function(){function e(t){v(this,e),this.value=t}return k(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!UN(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=VN(t)}},{key:"setAll",value:function(e){var t=this,n=XT.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=VN(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());UN(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return CN(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];UN(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){aN(t,(function(t,n){return e[t]=n}));var r,i=R(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(VN(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function GN(e){var t=[];return aN(e.fields,(function(e,n){var r=new XT([e]);if(UN(n)){var i=GN(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=R(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new dN(t)}var QN=function(){function e(t,n,r,i,a,o,s){v(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return k(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(QT.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=KN.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=KN.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=QT.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,QT.min(),QT.min(),QT.min(),KN.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,QT.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,QT.min(),QT.min(),KN.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,QT.min(),QT.min(),KN.empty(),2)}}]),e}(),YN=k((function e(t,n){v(this,e),this.position=t,this.inclusive=n}));function $N(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ZT.comparator(ZT.fromName(o.referenceValue),n.key):RN(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function JN(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!CN(e.position[n],t.position[n]))return!1;return!0}var XN=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";v(this,e),this.field=t,this.dir=n}));function ZN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var eR=k((function e(){v(this,e)})),tR=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(RN(t,this.value)):null!==t&&TN(this.value)===TN(t)&&this.matchesComparison(RN(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return CT()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new hR(e,t,r):"array-contains"===t?new vR(e,r):"in"===t?new mR(e,r):"not-in"===t?new gR(e,r):"array-contains-any"===t?new yR(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new fR(e,n):new dR(e,n)}}]),n}(eR),nR=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return k(n,[{key:"matches",value:function(e){return rR(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(eR);function rR(e){return"and"===e.op}function iR(e){return"or"===e.op}function aR(e){return oR(e)&&rR(e)}function oR(e){var t,n=R(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof nR)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function sR(e){if(e instanceof tR)return e.field.canonicalString()+e.op.toString()+AN(e.value);if(aR(e))return e.filters.map((function(e){return sR(e)})).join(",");var t=e.filters.map((function(e){return sR(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function uR(e,t){return e instanceof tR?function(e,t){return t instanceof tR&&e.op===t.op&&e.field.isEqual(t.field)&&CN(e.value,t.value)}(e,t):e instanceof nR?function(e,t){return t instanceof nR&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&uR(n,t.filters[r])}),!0)}(e,t):void CT()}function cR(e,t){var n=e.filters.concat(t);return nR.create(n,e.op)}function lR(e){return e instanceof tR?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(AN(e.value))}(e):e instanceof nR?function(e){return e.op.toString()+" {"+e.getFilters().map(lR).join(" ,")+"}"}(e):"Filter"}var hR=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r,i)).key=ZT.fromName(i.referenceValue),a}return k(n,[{key:"matches",value:function(e){var t=ZT.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(tR),fR=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,"in",r)).keys=pR("in",r),i}return k(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tR),dR=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,"not-in",r)).keys=pR("not-in",r),i}return k(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tR);function pR(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ZT.fromName(e.referenceValue)}))}var vR=function(e){b(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"array-contains",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return MN(t)&&NN(t.arrayValue,this.value)}}]),n}(tR),mR=function(e){b(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"in",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&NN(this.value.arrayValue,t)}}]),n}(tR),gR=function(e){b(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"not-in",r)}return k(n,[{key:"matches",value:function(e){if(NN(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!NN(this.value.arrayValue,t)}}]),n}(tR),yR=function(e){b(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"array-contains-any",r)}return k(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!MN(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return NN(t.value.arrayValue,e)}))}}]),n}(tR),kR=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;v(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ce=null}));function wR(e){return new kR(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function bR(e){var t=RT(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return sR(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),SC(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return AN(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return AN(e)})).join(",")),t.ce=n}return t.ce}function _R(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ZN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!uR(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!JN(e.startAt,t.startAt)&&JN(e.endAt,t.endAt)}function xR(e){return ZT.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function IR(e,t){return e.filters.filter((function(e){return e instanceof tR&&e.field.isEqual(t)}))}function ER(e,t,n){var r,i=SN,a=!0,o=R(IR(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=SN,c=!0;switch(s.op){case"<":case"<=":u=BN(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=SN}WN({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];WN({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function SR(e,t,n){var r,i=EN,a=!0,o=R(IR(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=EN,c=!0;switch(s.op){case">=":case">":u=qN(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=EN}HN({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];HN({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var TR=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;v(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function CR(e,t,n,r,i,a,o,s){return new TR(e,t,n,r,i,a,o,s)}function NR(e){return new TR(e)}function RR(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function PR(e){return null!==e.collectionGroup}function AR(e){var t=RT(e);if(null===t.le){t.le=[];var n,r=new Set,i=R(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new lN(XT.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new XN(e,o))})),r.has(XT.keyField().canonicalString())||t.le.push(new XN(XT.keyField(),o))}return t.le}function DR(e){var t=RT(e);return t.he||(t.he=OR(t,AR(e))),t.he}function OR(e,t){if("F"===e.limitType)return wR(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new XN(e.field,t)}));var n=e.endAt?new YN(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new YN(e.startAt.position,e.startAt.inclusive):null;return wR(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function LR(e,t){var n=e.filters.concat([t]);return new TR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function MR(e,t,n){return new TR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function FR(e,t){return _R(DR(e),DR(t))&&e.limitType===t.limitType}function jR(e){return"".concat(bR(DR(e)),"|lt:").concat(e.limitType)}function UR(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return lR(e)})).join(", "),"]")),SC(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return AN(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return AN(e)})).join(",")),"Target(".concat(t,")")}(DR(e)),"; limitType=").concat(e.limitType,")")}function VR(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ZT.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=R(AR(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=R(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=$N(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,AR(e),t))&&!(e.endAt&&!function(e,t,n){var r=$N(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,AR(e),t))}(e,t)}function zR(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function BR(e){return function(t,n){var r,i=!1,a=R(AR(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=qR(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function qR(e,t,n){var r=e.field.isKeyField()?ZT.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?RN(r,i):CT()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return CT()}}var WR=function(){function e(t,n){v(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return k(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=R(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){aN(this.inner,(function(t,n){var r,i=R(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return oN(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),HR=new sN(ZT.comparator);function KR(){return HR}var GR=new sN(ZT.comparator);function QR(){for(var e=GR,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function YR(e){var t=GR;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function $R(){return XR()}function JR(){return XR()}function XR(){return new WR((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var ZR=new sN(ZT.comparator),eP=new lN(ZT.comparator);function tP(){for(var e=eP,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var nP=new lN(WT);function rP(){return nP}function iP(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:TC(t)?"-0":t}}function aP(e){return{integerValue:""+e}}function oP(e,t){return CC(t)?aP(t):iP(e,t)}var sP=k((function e(){v(this,e),this._=void 0}));function uP(e,t,n){return e instanceof hP?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&wN(t)&&(t=bN(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof fP?dP(e,t):e instanceof pP?vP(e,t):function(e,t){var n=lP(e,t),r=gP(n)+gP(e.Ie);return LN(n)&&LN(e.Ie)?aP(r):iP(e.serializer,r)}(e,t)}function cP(e,t,n){return e instanceof fP?dP(e,t):e instanceof pP?vP(e,t):n}function lP(e,t){return e instanceof mP?function(e){return LN(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var hP=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n)}(sP),fP=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).elements=e,r}return k(n)}(sP);function dP(e,t){var n,r=yP(t),i=R(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return CN(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var pP=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).elements=e,r}return k(n)}(sP);function vP(e,t){var n,r=yP(t),i=R(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!CN(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var mP=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return k(n)}(sP);function gP(e){return yN(e.integerValue||e.doubleValue)}function yP(e){return MN(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var kP=k((function e(t,n){v(this,e),this.field=t,this.transform=n}));var wP=k((function e(t,n){v(this,e),this.version=t,this.transformResults=n})),bP=function(){function e(t,n){v(this,e),this.updateTime=t,this.exists=n}return k(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _P(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var xP=k((function e(){v(this,e)}));function IP(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new MP(e.key,bP.none()):new NP(e.key,e.data,bP.none());var n,r=e.data,i=KN.empty(),a=new lN(XT.comparator),o=R(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new RP(e.key,i,new dN(a.toArray()),bP.none())}function EP(e,t,n){e instanceof NP?function(e,t,n){var r=e.value.clone(),i=AP(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof RP?function(e,t,n){if(_P(e.precondition,t)){var r=AP(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(PP(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function SP(e,t,n,r){return e instanceof NP?function(e,t,n,r){if(!_P(e.precondition,t))return n;var i=e.value.clone(),a=DP(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof RP?function(e,t,n,r){if(!_P(e.precondition,t))return n;var i=DP(e.fieldTransforms,r,t),a=t.data;return a.setAll(PP(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return _P(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function TP(e,t){var n,r=null,i=R(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=lP(a.transform,o||null);null!=s&&(null===r&&(r=KN.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function CP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&HT(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fP&&t instanceof fP||e instanceof pP&&t instanceof pP?HT(e.elements,t.elements,CN):e instanceof mP&&t instanceof mP?CN(e.Ie,t.Ie):e instanceof hP&&t instanceof hP}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var NP=function(e){b(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return v(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xP),RP=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return v(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return k(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(xP);function PP(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function AP(e,t,n){var r=new Map;NT(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,cP(o,s,n[i]))}return r}function DP(e,t,n){var r,i=new Map,a=R(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,uP(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var OP,LP,MP=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xP),FP=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xP),jP=function(){function e(t,n,r,i){v(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return k(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&EP(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=R(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=SP(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=R(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=SP(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=JR();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=IP(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(QT.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),tP())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&HT(this.mutations,e.mutations,(function(e,t){return CP(e,t)}))&&HT(this.baseMutations,e.baseMutations,(function(e,t){return CP(e,t)}))}}]),e}(),UP=function(){function e(t,n,r,i){v(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return k(e,null,[{key:"from",value:function(t,n,r){NT(t.mutations.length===r.length);for(var i=ZR,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),VP=function(){function e(t,n){v(this,e),this.largestBatchId=t,this.mutation=n}return k(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),zP=k((function e(t,n){v(this,e),this.count=t,this.unchangedNames=n}));function BP(e){switch(e){default:return CT();case PT.CANCELLED:case PT.UNKNOWN:case PT.DEADLINE_EXCEEDED:case PT.RESOURCE_EXHAUSTED:case PT.INTERNAL:case PT.UNAVAILABLE:case PT.UNAUTHENTICATED:return!1;case PT.INVALID_ARGUMENT:case PT.NOT_FOUND:case PT.ALREADY_EXISTS:case PT.PERMISSION_DENIED:case PT.FAILED_PRECONDITION:case PT.ABORTED:case PT.OUT_OF_RANGE:case PT.UNIMPLEMENTED:case PT.DATA_LOSS:return!0}}function qP(e){if(void 0===e)return ET("GRPC error has no .code"),PT.UNKNOWN;switch(e){case OP.OK:return PT.OK;case OP.CANCELLED:return PT.CANCELLED;case OP.UNKNOWN:return PT.UNKNOWN;case OP.DEADLINE_EXCEEDED:return PT.DEADLINE_EXCEEDED;case OP.RESOURCE_EXHAUSTED:return PT.RESOURCE_EXHAUSTED;case OP.INTERNAL:return PT.INTERNAL;case OP.UNAVAILABLE:return PT.UNAVAILABLE;case OP.UNAUTHENTICATED:return PT.UNAUTHENTICATED;case OP.INVALID_ARGUMENT:return PT.INVALID_ARGUMENT;case OP.NOT_FOUND:return PT.NOT_FOUND;case OP.ALREADY_EXISTS:return PT.ALREADY_EXISTS;case OP.PERMISSION_DENIED:return PT.PERMISSION_DENIED;case OP.FAILED_PRECONDITION:return PT.FAILED_PRECONDITION;case OP.ABORTED:return PT.ABORTED;case OP.OUT_OF_RANGE:return PT.OUT_OF_RANGE;case OP.UNIMPLEMENTED:return PT.UNIMPLEMENTED;case OP.DATA_LOSS:return PT.DATA_LOSS;default:return CT()}}(LP=OP||(OP={}))[LP.OK=0]="OK",LP[LP.CANCELLED=1]="CANCELLED",LP[LP.UNKNOWN=2]="UNKNOWN",LP[LP.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",LP[LP.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",LP[LP.NOT_FOUND=5]="NOT_FOUND",LP[LP.ALREADY_EXISTS=6]="ALREADY_EXISTS",LP[LP.PERMISSION_DENIED=7]="PERMISSION_DENIED",LP[LP.UNAUTHENTICATED=16]="UNAUTHENTICATED",LP[LP.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",LP[LP.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",LP[LP.ABORTED=10]="ABORTED",LP[LP.OUT_OF_RANGE=11]="OUT_OF_RANGE",LP[LP.UNIMPLEMENTED=12]="UNIMPLEMENTED",LP[LP.INTERNAL=13]="INTERNAL",LP[LP.UNAVAILABLE=14]="UNAVAILABLE",LP[LP.DATA_LOSS=15]="DATA_LOSS";var WP=null;function HP(){return new TextEncoder}var KP=new yT([4294967295,4294967295],0);function GP(e){var t=HP().encode(e),n=new gT;return n.update(t),new Uint8Array(n.digest())}function QP(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new yT([n,r],0),new yT([i,a],0)]}var YP=function(){function e(t,n,r){if(v(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $P("Invalid padding: ".concat(n));if(r<0)throw new $P("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new $P("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new $P("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=yT.fromNumber(this.Te)}return k(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(yT.fromNumber(n)));return 1===r.compare(KP)&&(r=new yT([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=c(QP(GP(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=c(QP(GP(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),$P=function(e){b(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return k(n)}(C(Error)),JP=function(){function e(t,n,r,i,a){v(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return k(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,XP.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(QT.min(),i,new sN(WT),KR(),tP())}}]),e}(),XP=function(){function e(t,n,r,i,a){v(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return k(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,tP(),tP(),tP())}}]),e}(),ZP=k((function e(t,n,r,i){v(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),eA=k((function e(t,n){v(this,e),this.targetId=t,this.fe=n})),tA=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vN.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),nA=function(){function e(){v(this,e),this.ge=0,this.pe=aA(),this.ye=vN.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return k(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=tP(),t=tP(),n=tP();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:CT()}})),new XP(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=aA()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1,NT(this.ge>=0)}},{key:"Be",value:function(){this.Se=!0,this.we=!0}}]),e}(),rA=function(){function e(t){v(this,e),this.Le=t,this.ke=new Map,this.qe=KR(),this.Qe=iA(),this.Ke=new sN(WT)}return k(e,[{key:"$e",value:function(e){var t,n=R(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(s){n.e(s)}finally{n.f()}var i,a=R(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:CT()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(xR(i))if(0===n){var a=new ZT(i.path);this.We(t,a,QN.newNoDocument(a,QT.min()))}else NT(1===n);else{var o=this.Ze(t);if(o!==n){var s=this.Xe(e),u=s?this.et(s,e,o):1;if(0!==u){this.He(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,c)}null==WP||WP.tt(function(e,t,n,r,i){var a,o,s,u,c,l,h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},f=t.unchangedNames;return f&&(h.bloomFilter={applied:0===i,hashCount:null!==(a=null==f?void 0:f.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==f?void 0:f.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==f?void 0:f.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(o,e.fe,this.Le.nt(),s,u))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=kN(o).toUint8Array()}catch(e){if(e instanceof pN)return ST("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new YP(n,u,l)}catch(e){return ST(e instanceof $P?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Le.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&xR(a.target)){var o=new ZT(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,QN.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=tP();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new JP(e,n,this.Ke,this.qe,r);return this.qe=KR(),this.Qe=iA(),this.Ke=new sN(WT),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new nA,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new lN(WT),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||IT("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new nA),this.Le.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}]),e}();function iA(){return new sN(ZT.comparator)}function aA(){return new sN(ZT.comparator)}var oA={asc:"ASCENDING",desc:"DESCENDING"},sA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uA={and:"AND",or:"OR"},cA=k((function e(t,n){v(this,e),this.databaseId=t,this.useProto3Json=n}));function lA(e,t){return e.useProto3Json||SC(t)?t:{value:t}}function hA(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dA(e,t){return hA(e,t.toTimestamp())}function pA(e){return NT(!!e),QT.fromTimestamp(function(e){var t=gN(e);return new GT(t.seconds,t.nanos)}(e))}function vA(e,t){return function(e){return new $T(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function mA(e){var t=$T.fromString(e);return NT(UA(t)),t}function gA(e,t){return vA(e.databaseId,t.path)}function yA(e,t){var n=mA(t);if(n.get(1)!==e.databaseId.projectId)throw new AT(PT.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new AT(PT.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ZT(_A(n))}function kA(e,t){return vA(e.databaseId,t)}function wA(e){var t=mA(e);return 4===t.length?$T.emptyPath():_A(t)}function bA(e){return new $T(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _A(e){return NT(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function xA(e,t,n){return{name:gA(e,t),fields:n.value.mapValue.fields}}function IA(e,t,n){var r=yA(e,t.name),i=pA(t.updateTime),a=t.createTime?pA(t.createTime):QT.min(),o=new KN({mapValue:{fields:t.fields}}),s=QN.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function EA(e,t){return"found"in t?function(e,t){NT(!!t.found),t.found.name,t.found.updateTime;var n=yA(e,t.found.name),r=pA(t.found.updateTime),i=t.found.createTime?pA(t.found.createTime):QT.min(),a=new KN({mapValue:{fields:t.found.fields}});return QN.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){NT(!!t.missing),NT(!!t.readTime);var n=yA(e,t.missing),r=pA(t.readTime);return QN.newNoDocument(n,r)}(e,t):CT()}function SA(e,t){var n;if(t instanceof NP)n={update:xA(e,t.key,t.value)};else if(t instanceof MP)n={delete:gA(e,t.key)};else if(t instanceof RP)n={update:xA(e,t.key,t.data),updateMask:jA(t.fieldMask)};else{if(!(t instanceof FP))return CT();n={verify:gA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof hP)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fP)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof pP)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof mP)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw CT()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:dA(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:CT()}(e,t.precondition)),n}function TA(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?bP.updateTime(pA(e.updateTime)):void 0!==e.exists?bP.exists(e.exists):bP.none()}(t.currentDocument):bP.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)NT("REQUEST_TIME"===t.setToServerValue),n=new hP;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new fP(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new pP(i)}else"increment"in t?n=new mP(e,t.increment):CT();var a=XT.fromServerFormat(t.fieldPath);return new kP(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=yA(e,t.update.name),a=new KN({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new dN(t.map((function(e){return XT.fromServerFormat(e)})))}(t.updateMask);return new RP(i,a,o,n,r)}return new NP(i,a,n,r)}if(t.delete){var s=yA(e,t.delete);return new MP(s,n)}if(t.verify){var u=yA(e,t.verify);return new FP(u,n)}return CT()}function CA(e,t){return{documents:[kA(e,t.path)]}}function NA(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=kA(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kA(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return FA(nR.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:LA(e.field),direction:AA(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=lA(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function RA(e){var t=wA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){NT(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=PA(e);return t instanceof nR&&aR(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new XN(MA(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return SC(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new YN(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new YN(n,t)}(n.endAt)),CR(t,i,s,o,u,"F",c,l)}function PA(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=MA(e.unaryFilter.field);return tR.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=MA(e.unaryFilter.field);return tR.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=MA(e.unaryFilter.field);return tR.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=MA(e.unaryFilter.field);return tR.create(i,"!=",{nullValue:"NULL_VALUE"});default:return CT()}}(e):void 0!==e.fieldFilter?function(e){return tR.create(MA(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return CT()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return nR.create(e.compositeFilter.filters.map((function(e){return PA(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return CT()}}(e.compositeFilter.op))}(e):CT()}function AA(e){return oA[e]}function DA(e){return sA[e]}function OA(e){return uA[e]}function LA(e){return{fieldPath:e.canonicalString()}}function MA(e){return XT.fromServerFormat(e.fieldPath)}function FA(e){return e instanceof tR?function(e){if("=="===e.op){if(jN(e.value))return{unaryFilter:{field:LA(e.field),op:"IS_NAN"}};if(FN(e.value))return{unaryFilter:{field:LA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jN(e.value))return{unaryFilter:{field:LA(e.field),op:"IS_NOT_NAN"}};if(FN(e.value))return{unaryFilter:{field:LA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:LA(e.field),op:DA(e.op),value:e.value}}}(e):e instanceof nR?function(e){var t=e.getFilters().map((function(e){return FA(e)}));return 1===t.length?t[0]:{compositeFilter:{op:OA(e.op),filters:t}}}(e):CT()}function jA(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function UA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var VA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:QT.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:QT.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vN.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;v(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return k(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),zA=k((function e(t){v(this,e),this.ut=t}));function BA(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:qA(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:gA(e,t.key),fields:t.data.value.mapValue.fields,updateTime:hA(e,t.version.toTimestamp()),createTime:hA(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:WA(t.version)};else{if(!t.isUnknownDocument())return CT();r.unknownDocument={path:n.path.toArray(),version:WA(t.version)}}return r}function qA(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function WA(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function HA(e){var t=new GT(e.seconds,e.nanoseconds);return QT.fromTimestamp(t)}function KA(e,t){for(var n=(t.baseMutations||[]).map((function(t){return TA(e.ut,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return TA(e.ut,t)})),s=GT.fromMillis(t.localWriteTimeMs);return new jP(t.batchId,s,n,o)}function GA(e){var t,n=HA(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?HA(e.lastLimboFreeSnapshotVersion):QT.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return NT(1===e.documents.length),DR(NR(wA(e.documents[0])))}(e.query):function(e){return DR(RA(e))}(e.query),new VA(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,vN.fromBase64String(e.resumeToken))}function QA(e,t){var n,r=WA(t.snapshotVersion),i=WA(t.lastLimboFreeSnapshotVersion);n=xR(t.target)?CA(e.ut,t.target):NA(e.ut,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bR(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function YA(e){var t=RA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?MR(t,t.limit,"L"):t}function $A(e,t){return new VP(t.largestBatchId,TA(e.ut,t.overlayMutation))}function JA(e,t){var n=t.path.lastSegment();return[e,NC(t.path.popLast()),n]}function XA(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:WA(r.readTime),documentKey:NC(r.documentKey.path),largestBatchId:r.largestBatchId}}var ZA=function(){function e(){v(this,e)}return k(e,[{key:"getBundleMetadata",value:function(e,t){return eD(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:HA(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return eD(e).put(function(e){return{bundleId:e.id,createTime:WA(pA(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return tD(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:YA(e.bundledQuery),readTime:HA(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return tD(e).put(function(e){return{name:e.name,readTime:WA(pA(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function eD(e){return rN(e,"bundles")}function tD(e){return rN(e,"namedQueries")}var nD=function(){function e(t,n){v(this,e),this.serializer=t,this.userId=n}return k(e,[{key:"getOverlay",value:function(e,t){var n=this;return rD(e).get(JA(this.userId,t)).next((function(e){return e?$A(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=$R();return dC.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new VP(t,a);i.push(r.lt(e,o))})),dC.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(NC(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(rD(e).H("collectionPathOverlayIndex",i))})),dC.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=$R(),a=NC(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return rD(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=R(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=$A(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=$R(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rD(e).Y({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=$A(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"lt",value:function(e,t){return rD(e).put(function(e,t,n){var r=c(JA(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:SA(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ct",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function rD(e){return rN(e,"documentOverlays")}var iD=function(){function e(){v(this,e)}return k(e,[{key:"ht",value:function(e,t){this.Pt(e,t),t.It()}},{key:"Pt",value:function(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(yN(e.integerValue));else if("doubleValue"in e){var n=yN(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),TC(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt("".concat(r.seconds||"")),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(kN(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?zN(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):CT()}},{key:"At",value:function(e,t){this.Tt(t,25),this.wt(e,t)}},{key:"wt",value:function(e,t){t.dt(e)}},{key:"gt",value:function(e,t){var n=e.fields||{};this.Tt(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.At(a,t),this.Pt(n[a],t)}}},{key:"yt",value:function(e,t){var n=e.values||[];this.Tt(t,50);var r,i=R(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Pt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ft",value:function(e,t){var n=this;this.Tt(t,37),ZT.fromName(e).path.forEach((function(e){n.Tt(t,60),n.wt(e,t)}))}},{key:"Tt",value:function(e,t){e.Et(t)}},{key:"Rt",value:function(e){e.Et(2)}}]),e}();function aD(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function oD(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=aD(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}iD.St=new iD;var sD=function(){function e(){v(this,e),this.buffer=new Uint8Array(1024),this.position=0}return k(e,[{key:"bt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Dt(n.value),n=t.next();this.Ct()}},{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){var t,n=R(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{var a=r.codePointAt(0);this.Dt(240|a>>>18),this.Dt(128|63&a>>>12),this.Dt(128|63&a>>>6),this.Dt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Ot",value:function(e){var t,n=R(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Nt",value:function(e){var t=this.Bt(e),n=oD(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"kt",value:function(e){var t=this.Bt(e),n=oD(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qt",value:function(){this.Qt(255),this.Qt(255)}},{key:"Kt",value:function(){this.$t(255),this.$t(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ut",value:function(){return this.buffer.slice(0,this.position)}},{key:"Bt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Dt",value:function(e){var t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}},{key:"Ct",value:function(){this.Qt(0),this.Qt(1)}},{key:"Mt",value:function(){this.$t(0),this.$t(1)}},{key:"Qt",value:function(e){this.Lt(1),this.buffer[this.position++]=e}},{key:"$t",value:function(e){this.Lt(1),this.buffer[this.position++]=~e}},{key:"Lt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),uD=function(){function e(t){v(this,e),this.Wt=t}return k(e,[{key:"Vt",value:function(e){this.Wt.bt(e)}},{key:"dt",value:function(e){this.Wt.xt(e)}},{key:"Et",value:function(e){this.Wt.Nt(e)}},{key:"It",value:function(){this.Wt.qt()}}]),e}(),cD=function(){function e(t){v(this,e),this.Wt=t}return k(e,[{key:"Vt",value:function(e){this.Wt.vt(e)}},{key:"dt",value:function(e){this.Wt.Ot(e)}},{key:"Et",value:function(e){this.Wt.kt(e)}},{key:"It",value:function(){this.Wt.Kt()}}]),e}(),lD=function(){function e(){v(this,e),this.Wt=new sD,this.Gt=new uD(this.Wt),this.zt=new cD(this.Wt)}return k(e,[{key:"seed",value:function(e){this.Wt.seed(e)}},{key:"jt",value:function(e){return 0===e?this.Gt:this.zt}},{key:"Ut",value:function(){return this.Wt.Ut()}},{key:"reset",value:function(){this.Wt.reset()}}]),e}(),hD=function(){function e(t,n,r,i){v(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return k(e,[{key:"Ht",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function fD(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=dD(e.arrayValue,t.arrayValue))?n:0!==(n=dD(e.directionalValue,t.directionalValue))?n:ZT.comparator(e.documentKey,t.documentKey)}function dD(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var pD=function(){function e(t){v(this,e),this.Jt=new lN((function(e,t){return XT.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=R(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return k(e,[{key:"Xt",get:function(){return this.Jt.size>1}},{key:"en",value:function(e){if(NT(e.collectionGroup===this.collectionId),this.Xt)return!1;var t=tC(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=nC(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){var o=this.Jt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var s=n[i];if(!this.nn(o,s)||!this.rn(this.Yt[a++],s))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],u))return!1}return!0}},{key:"sn",value:function(){if(this.Xt)return null;var e,t=new lN(XT.comparator),n=[],r=R(this.Zt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new rC(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new rC(i.field,0))}}}catch(u){r.e(u)}finally{r.f()}var a,o=R(this.Yt);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),n.push(new rC(s.field,"asc"===s.dir?0:1)))}}catch(u){o.e(u)}finally{o.f()}return new eC(eC.UNKNOWN_ID,this.collectionId,n,iC.empty())}},{key:"tn",value:function(e){var t,n=R(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function vD(e){var t,n;if(NT(e instanceof tR||e instanceof nR),e instanceof tR){if(e instanceof mR){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return tR.create(e.field,"==",t)})))||[];return nR.create(r,"or")}return e}var i=e.filters.map((function(e){return vD(e)}));return nR.create(i,e.op)}function mD(e){if(0===e.getFilters().length)return[];var t=wD(vD(e));return NT(kD(t)),gD(t)||yD(t)?[t]:t.getFilters()}function gD(e){return e instanceof tR}function yD(e){return e instanceof nR&&aR(e)}function kD(e){return gD(e)||yD(e)||function(e){if(e instanceof nR&&iR(e)){var t,n=R(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!gD(r)&&!yD(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function wD(e){if(NT(e instanceof tR||e instanceof nR),e instanceof tR)return e;if(1===e.filters.length)return wD(e.filters[0]);var t=e.filters.map((function(e){return wD(e)})),n=nR.create(t,e.op);return kD(n=xD(n))?n:(NT(n instanceof nR),NT(rR(n)),NT(n.filters.length>1),n.filters.reduce((function(e,t){return bD(e,t)})))}function bD(e,t){var n;return NT(e instanceof tR||e instanceof nR),NT(t instanceof tR||t instanceof nR),n=e instanceof tR?t instanceof tR?function(e,t){return nR.create([e,t],"and")}(e,t):_D(e,t):t instanceof tR?_D(t,e):function(e,t){if(NT(e.filters.length>0&&t.filters.length>0),rR(e)&&rR(t))return cR(e,t.getFilters());var n=iR(e)?e:t,r=iR(e)?t:e,i=n.filters.map((function(e){return bD(e,r)}));return nR.create(i,"or")}(e,t),xD(n)}function _D(e,t){if(rR(t))return cR(t,e.getFilters());var n=t.filters.map((function(t){return bD(e,t)}));return nR.create(n,"or")}function xD(e){if(NT(e instanceof tR||e instanceof nR),e instanceof tR)return e;var t=e.getFilters();if(1===t.length)return xD(t[0]);if(oR(e))return e;var n=t.map((function(e){return xD(e)})),r=[];return n.forEach((function(t){t instanceof tR?r.push(t):t instanceof nR&&(t.op===e.op?r.push.apply(r,p(t.filters)):r.push(t))})),1===r.length?r[0]:nR.create(r,e.op)}var ID=function(){function e(){v(this,e),this.on=new ED}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.on.add(t),dC.resolve()}},{key:"getCollectionParents",value:function(e,t){return dC.resolve(this.on.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return dC.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return dC.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return dC.resolve()}},{key:"createTargetIndexes",value:function(e,t){return dC.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return dC.resolve(null)}},{key:"getIndexType",value:function(e,t){return dC.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return dC.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return dC.resolve(null)}},{key:"getMinOffset",value:function(e,t){return dC.resolve(sC.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return dC.resolve(sC.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return dC.resolve()}},{key:"updateIndexEntries",value:function(e,t){return dC.resolve()}}]),e}(),ED=function(){function e(){v(this,e),this.index={}}return k(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new lN($T.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new lN($T.comparator)).toArray()}}]),e}(),SD=new Uint8Array(0),TD=function(){function e(t,n){v(this,e),this.user=t,this.databaseId=n,this._n=new ED,this.an=new WR((function(e){return bR(e)}),(function(e,t){return _R(e,t)})),this.uid=t.uid||""}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this._n.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n._n.add(t)}));var a={collectionId:r,parent:NC(i)};return CD(e).put(a)}return dC.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[KT(t),""],!1,!0);return CD(e).W(r).next((function(e){var r,i=R(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(AC(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=RD(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=PD(e);return a.next((function(e){o.put(XA(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=RD(e),r=PD(e),i=ND(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=RD(e),n=ND(e),r=PD(e);return t.H().next((function(){return n.H()})).next((function(){return r.H()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return dC.forEach(this.un(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new pD(t).sn();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ND(e),i=!0,a=new Map;return dC.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=tP(),o=[];return dC.forEach(a,(function(i,a){IT("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(bR(t)));var s=function(e,t){var n=tC(t);if(void 0===n)return null;var r,i=R(IR(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=R(nC(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=R(IR(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=R(nC(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?ER(e,o.fieldPath,e.startAt):SR(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new YN(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=R(nC(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?SR(e,o.fieldPath,e.endAt):ER(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new YN(r,i)}(a,i),h=n.ln(i,a,c),f=n.ln(i,a,l),d=n.hn(i,a,u),p=n.Pn(i.indexId,s,h,c.inclusive,f,l.inclusive,d);return dC.forEach(p,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=ZT.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return dC.resolve(null)}))}},{key:"un",value:function(e){var t=this.an.get(e);return t||(t=0===e.filters.length?[e]:mD(nR.create(e.filters,"and")).map((function(t){return wR(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.an.set(e,t),t)}},{key:"Pn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],h=function(){var u=t?s.In(t[f/c]):SD,h=s.Tn(e,u,n[f%c],r),d=s.En(e,u,i[f%c],a),v=o.map((function(t){return s.Tn(e,u,t,!0)}));l.push.apply(l,p(s.createRange(h,d,v)))},f=0;f<u;++f)h();return l}},{key:"Tn",value:function(e,t,n,r){var i=new hD(e,ZT.empty(),t,n);return r?i:i.Ht()}},{key:"En",value:function(e,t,n,r){var i=new hD(e,ZT.empty(),t,n);return r?i.Ht():i}},{key:"cn",value:function(e,t){var n=new pD(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=R(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return dC.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new lN(XT.comparator),r=!1,i=R(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=R(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(h){o.e(h)}finally{o.f()}}}catch(h){i.e(h)}finally{i.f()}var u,c=R(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(h){c.e(h)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"dn",value:function(e,t){var n,r=new lD,i=R(nC(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.jt(a.kind);iD.St.ht(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ut()}},{key:"In",value:function(e){var t=new lD;return iD.St.ht(e,t.jt(0)),t.Ut()}},{key:"An",value:function(e,t){var n=new lD;return iD.St.ht(ON(this.databaseId,t),n.jt(function(e){var t=nC(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new lD);var i,a=0,o=R(nC(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=R(r);try{for(l.s();!(s=l.n()).done;){var h=s.value;if(this.Rn(t,u.fieldPath)&&MN(c))r=this.Vn(r,u,c);else{var f=h.jt(u.kind);iD.St.ht(c,f)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.mn(r)}},{key:"ln",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"mn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ut();return t}},{key:"Vn",value:function(e,t,n){var r,i=p(e),a=[],o=R(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=R(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=new lD;h.seed(l.Ut()),iD.St.ht(u,h.jt(t.kind)),a.push(h)}}catch(f){c.e(f)}finally{c.f()}}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"Rn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof tR&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=RD(e),i=PD(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return dC.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new iC(t.sequenceNumber,new sC(HA(t.readTime),new ZT(AC(t.documentKey)),t.largestBatchId)):iC.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new rC(XT.fromServerFormat(n),r)}));return new eC(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:WT(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=RD(e),a=PD(e);return this.fn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return dC.forEach(t,(function(t){return a.put(XA(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return dC.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?dC.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),dC.forEach(a,(function(r){return n.gn(e,t,r).next((function(t){var a=n.pn(i,r);return t.isEqual(a)?dC.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return ND(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Sn",value:function(e,t,n,r){return ND(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}},{key:"gn",value:function(e,t,n){var r=ND(e),i=new lN(fD);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},(function(e,r){i=i.add(new hD(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"pn",value:function(e,t){var n=new lN(fD),r=this.dn(t,e);if(null==r)return n;var i=tC(t);if(null!=i){var a=e.data.field(i.fieldPath);if(MN(a)){var o,s=R(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new hD(t.indexId,e.key,this.In(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new hD(t.indexId,e.key,SD,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;IT("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=fN(a),u=fN(o);s||u;){var c=!1,l=!1;if(s&&u){var h=n(s,u);h<0?l=!0:h>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=fN(o)):l?(i(s),s=fN(a)):(s=fN(a),u=fN(o))}}(r,i,fD,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.Sn(e,t,n,r))})),dC.waitFor(o)}},{key:"fn",value:function(e){var t=1;return PD(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return fD(e,t)})).filter((function(e,t,n){return!t||0!==fD(e,n[t-1])}));var r=[];r.push(e);var i,a=R(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=fD(o,e),u=fD(o,t);if(0===s)r[0]=e.Ht();else if(s>0&&u<0)r.push(o),r.push(o.Ht());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var h=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,SD,[]],f=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,SD,[]];c.push(IDBKeyRange.bound(h,f))}return c}},{key:"bn",value:function(e,t){return fD(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(AD)}},{key:"getMinOffset",value:function(e,t){var n=this;return dC.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||CT()}))})).next(AD)}}]),e}();function CD(e){return rN(e,"collectionParents")}function ND(e){return rN(e,"indexEntries")}function RD(e){return rN(e,"indexConfiguration")}function PD(e){return rN(e,"indexState")}function AD(e){NT(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;uC(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new sC(t.readTime,t.documentKey,n)}var DD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OD=function(){function e(t,n,r){v(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return k(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function LD(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Y({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){NT(1===s)})));var c,l=[],h=R(n.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value,d=LC(t,f.key.path,n.batchId);a.push(i.delete(d)),l.push(f.key)}}catch(p){h.e(p)}finally{h.f()}return dC.waitFor(a).next((function(){return l}))}function MD(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw CT();t=e.noDocument}return JSON.stringify(t).length}OD.DEFAULT_COLLECTION_PERCENTILE=10,OD.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,OD.DEFAULT=new OD(41943040,OD.DEFAULT_COLLECTION_PERCENTILE,OD.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),OD.DISABLED=new OD(-1,0,0);var FD=function(){function e(t,n,r,i){v(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}return k(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return UD(e).Y({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=VD(e),o=UD(e);return o.add({}).next((function(s){NT("number"==typeof s);var u,c=new jP(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return SA(e.ut,t)})),i=n.mutations.map((function(t){return SA(e.ut,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),h=[],f=new lN((function(e,t){return WT(e.canonicalString(),t.canonicalString())})),d=R(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=LC(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),h.push(o.put(l)),h.push(a.put(v,MC))}}catch(m){d.e(m)}finally{d.f()}return f.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Dn[s]=c.keys()})),dC.waitFor(h).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return UD(e).get(t).next((function(e){return e?(NT(e.userId===n.userId),KA(n.serializer,e)):null}))}},{key:"Cn",value:function(e,t){var n=this;return this.Dn[t]?dC.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Dn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return UD(e).Y({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(NT(t.batchId>=r),a=KA(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return UD(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return UD(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return KA(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=OC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return VD(e).Y({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],h=s[2],f=AC(l);if(u===n.userId&&t.path.isEqual(f))return UD(e).get(h).next((function(e){if(!e)throw CT();NT(e.userId===n.userId),a.push(KA(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lN(WT),i=[];return t.forEach((function(t){var a=OC(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=VD(e).Y({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],h=AC(u);s===n.userId&&t.path.isEqual(h)?r=r.add(l):a.done()}));i.push(s)})),dC.waitFor(i).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=OC(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new lN(WT);return VD(e).Y({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],h=o[2],f=AC(l);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(h)):a.done()})).next((function(){return n.vn(e,s)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(UD(e).get(t).next((function(e){if(null===e)throw CT();NT(e.userId===n.userId),r.push(KA(n.serializer,e))})))})),dC.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return LD(e.ae,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Fn(t.batchId)})),dC.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Fn",value:function(e){delete this.Dn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return dC.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return VD(e).Y({range:r},(function(e,n,r){if(e[0]===t.userId){var a=AC(e[1]);i.push(a)}else r.done()})).next((function(){NT(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return jD(e,this.userId,t)}},{key:"Mn",value:function(e){var t=this;return zD(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ct",value:function(t,n,r,i){return NT(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function jD(e,t,n){var r=OC(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return VD(e).Y({range:a,J:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function UD(e){return rN(e,"mutations")}function VD(e){return rN(e,"documentMutations")}function zD(e){return rN(e,"mutationQueues")}var BD=function(){function e(t){v(this,e),this.xn=t}return k(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new e(0)}},{key:"Nn",value:function(){return new e(-1)}}]),e}(),qD=function(){function e(t,n){v(this,e),this.referenceDelegate=t,this.serializer=n}return k(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Bn(e).next((function(n){var r=new BD(n.highestTargetId);return n.highestTargetId=r.next(),t.Ln(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Bn(e).next((function(e){return QT.fromTimestamp(new GT(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ln(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.kn(e,t).next((function(){return n.Bn(e).next((function(r){return r.targetCount+=1,n.qn(t,r),n.Ln(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.kn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return WD(e).delete(t.targetId)})).next((function(){return n.Bn(e)})).next((function(t){return NT(t.targetCount>0),t.targetCount-=1,n.Ln(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return WD(e).Y((function(o,s){var u=GA(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return dC.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return WD(e).Y((function(e,n){var r=GA(n);t(r)}))}},{key:"Bn",value:function(e){return HD(e).get("targetGlobalKey").next((function(e){return NT(null!==e),e}))}},{key:"Ln",value:function(e,t){return HD(e).put("targetGlobalKey",t)}},{key:"kn",value:function(e,t){return WD(e).put(QA(this.serializer,t))}},{key:"qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=bR(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return WD(e).Y({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=GA(n);_R(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=KD(e);return t.forEach((function(t){var o=NC(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),dC.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=KD(e);return dC.forEach(t,(function(t){var a=NC(t.path);return dC.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=KD(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=KD(e),i=tP();return r.Y({range:n,J:!0},(function(e,t,n){var r=AC(e[1]),a=new ZT(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=NC(t.path),r=IDBKeyRange.bound([n],[KT(n)],!1,!0),i=0;return KD(e).Y({index:"documentTargetsIndex",J:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"_t",value:function(e,t){return WD(e).get(t).next((function(e){return e?GA(e):null}))}}]),e}();function WD(e){return rN(e,"targets")}function HD(e){return rN(e,"targetGlobal")}function KD(e){return rN(e,"targetDocuments")}function GD(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=WT(r,o);return 0===u?WT(i,s):u}var QD=function(){function e(t){v(this,e),this.Qn=t,this.buffer=new lN(GD),this.Kn=0}return k(e,[{key:"$n",value:function(){return++this.Kn}},{key:"Un",value:function(e){var t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();GD(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),YD=function(){function e(t,n,r){v(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Wn=null}return k(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}},{key:"started",get:function(){return null!==this.Wn}},{key:"Gn",value:function(e){var t=this;IT("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!yC(e.t0)){e.next=12;break}IT("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,hC(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),$D=function(){function e(t,n){v(this,e),this.zn=t,this.params=n}return k(e,[{key:"calculateTargetCount",value:function(e,t){return this.zn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return dC.resolve(EC._e);var r=new QD(t);return this.zn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.zn.Hn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.zn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.zn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(IT("LruGarbageCollector","Garbage collection skipped; disabled"),dC.resolve(DD)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(IT("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),DD):n.Jn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.zn.getCacheSize(e)}},{key:"Jn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(IT("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),xT()<=vn.DEBUG&&IT("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),dC.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function JD(e,t){return new $D(e,t)}var XD=function(){function e(t,n){v(this,e),this.db=t,this.garbageCollector=JD(this,n)}return k(e,[{key:"jn",value:function(e){var t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Yn",value:function(e){var t=0;return this.Hn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Hn",value:function(e,t){return this.Zn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ZD(e,n)}},{key:"removeReference",value:function(e,t,n){return ZD(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ZD(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return zD(e).Z((function(r){return jD(e,r,t).next((function(e){return e&&(n=!0),dC.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Zn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,QT.min()),KD(e).delete(function(e){return[0,NC(e.path)]}(o))}))}));i.push(u)}})).next((function(){return dC.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ZD(e,t)}},{key:"Zn",value:function(e,t){var n,r=KD(e),i=EC._e;return r.Y({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==EC._e&&t(new ZT(AC(n)),i),i=u,n=s):i=EC._e})).next((function(){i!==EC._e&&t(new ZT(AC(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ZD(e,t){return KD(e).put(function(e,t){return{targetId:0,path:NC(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var eO=function(){function e(){v(this,e),this.changes=new WR((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return k(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,QN.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?dC.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),tO=function(){function e(t){v(this,e),this.serializer=t}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return aO(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return aO(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],qA(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.er(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=QN.newInvalidDocument(t);return aO(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(oO(t))},(function(e,i){r=n.tr(t,i)})).next((function(){return r}))}},{key:"nr",value:function(e,t){var n=this,r={size:0,document:QN.newInvalidDocument(t)};return aO(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(oO(t))},(function(e,i){r={document:n.tr(t,i),size:MD(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=KR();return this.rr(e,t,(function(e,t){var i=n.tr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r=KR(),i=new sN(ZT.comparator);return this.rr(e,t,(function(e,t){var a=n.tr(e,t);r=r.insert(e,a),i=i.insert(e,MD(t))})).next((function(){return{documents:r,sr:i}}))}},{key:"rr",value:function(e,t,n){if(t.isEmpty())return dC.resolve();var r=new lN(uO);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(oO(r.first()),oO(r.last())),a=r.getIterator(),o=a.getNext();return aO(e).Y({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ZT.fromSegments([].concat(p(t.prefixPath),[t.collectionGroup,t.documentId]));o&&uO(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.U(oO(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,s=[o.popLast().toArray(),o.lastSegment(),qA(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return aO(e).W(IDBKeyRange.bound(s,u,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=KR(),s=R(e);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=a.tr(ZT.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);c.isFoundDocument()&&(VR(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){s.e(l)}finally{s.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=KR(),o=sO(t,n),s=sO(t,sC.max());return aO(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.tr(ZT.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new rO(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return iO(e).get("remoteDocumentGlobalKey").next((function(e){return NT(!!e),e}))}},{key:"er",value:function(e,t){return iO(e).put("remoteDocumentGlobalKey",t)}},{key:"tr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=IA(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ZT.fromSegments(t.noDocument.path),i=HA(t.noDocument.readTime);n=QN.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return CT();var a=ZT.fromSegments(t.unknownDocument.path),o=HA(t.unknownDocument.version);n=QN.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new GT(e[0],e[1]);return QT.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(QT.min()))return n}return QN.newInvalidDocument(e)}}]),e}();function nO(e){return new tO(e)}var rO=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._r=e,i.trackRemovals=r,i.ar=new WR((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new lN((function(e,t){return WT(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.ar.get(a);if(n.push(t._r.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=BA(t._r.serializer,o);i=i.add(a.path.popLast());var c=MD(u);r+=c-s.size,n.push(t._r.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=BA(t._r.serializer,o.convertToNoDocument(QT.min()));n.push(t._r.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t._r.indexManager.addToCollectionParentIndex(e,r))})),n.push(this._r.updateMetadata(e,r)),dC.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this._r.nr(e,t).next((function(e){return n.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this._r.ir(e,t).next((function(e){var t=e.documents;return e.sr.forEach((function(e,r){n.ar.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(eO);function iO(e){return rN(e,"remoteDocumentGlobal")}function aO(e){return rN(e,"remoteDocumentsV14")}function oO(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function sO(e,t){var n=t.documentKey.path.toArray();return[e,qA(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function uO(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=WT(n[a],r[a]))return i;return(i=WT(n.length,r.length))||((i=WT(n[n.length-2],r[r.length-2]))||WT(n[n.length-1],r[r.length-1]))}var cO=k((function e(t,n){v(this,e),this.overlayedDocument=t,this.mutatedFields=n})),lO=function(){function e(t,n,r,i){v(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return k(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&SP(r.mutation,e,dN.empty(),GT.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,tP()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tP(),i=$R();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=QR();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=$R();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,tP())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=KR(),a=XR(),o=XR();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof RP)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),SP(o.mutation,t,o.mutation.getFieldMask(),GT.now())):a.set(t.key,dN.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new cO(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=XR(),i=new sN((function(e,t){return e-t})),a=tP();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=R(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||dN.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||tP()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=JR();c.forEach((function(e){if(!a.has(e)){var n=IP(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return dC.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return ZT.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):dC.resolve($R()),s=-1,u=a;return o.next((function(t){return dC.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?dC.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,tP())})).next((function(e){return{batchId:s,changes:YR(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ZT(t)).next((function(e){var t=QR();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=QR();return this.indexManager.getCollectionParents(e,a).next((function(s){return dC.forEach(s,(function(s){var u=function(e,t){return new TR(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,QN.newInvalidDocument(r)))}));var n=QR();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&SP(a.mutation,r,dN.empty(),GT.now()),VR(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),hO=function(){function e(t){v(this,e),this.serializer=t,this.ur=new Map,this.cr=new Map}return k(e,[{key:"getBundleMetadata",value:function(e,t){return dC.resolve(this.ur.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:pA(e.createTime)}}(t)),dC.resolve()}},{key:"getNamedQuery",value:function(e,t){return dC.resolve(this.cr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:YA(e.bundledQuery),readTime:pA(e.readTime)}}(t)),dC.resolve()}}]),e}(),fO=function(){function e(){v(this,e),this.overlays=new sN(ZT.comparator),this.lr=new Map}return k(e,[{key:"getOverlay",value:function(e,t){return dC.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=$R();return dC.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.lt(e,t,i)})),dC.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.lr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.lr.delete(n)),dC.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=$R(),i=t.length+1,a=new ZT(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return dC.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new sN((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=$R(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=$R(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return dC.resolve(u)}},{key:"lt",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new VP(t,n));var a=this.lr.get(t);void 0===a&&(a=tP(),this.lr.set(t,a)),this.lr.set(t,a.add(n.key))}}]),e}(),dO=function(){function e(){v(this,e),this.hr=new lN(pO.Pr),this.Ir=new lN(pO.Tr)}return k(e,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new pO(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.dr(new pO(e,t))}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Rr",value:function(e){var t=this,n=new ZT(new $T([])),r=new pO(n,e),i=new pO(n,e+1),a=[];return this.Ir.forEachInRange([r,i],(function(e){t.dr(e),a.push(e.key)})),a}},{key:"Vr",value:function(){var e=this;this.hr.forEach((function(t){return e.dr(t)}))}},{key:"dr",value:function(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}},{key:"mr",value:function(e){var t=new ZT(new $T([])),n=new pO(t,e),r=new pO(t,e+1),i=tP();return this.Ir.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new pO(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),pO=function(){function e(t,n){v(this,e),this.key=t,this.gr=n}return k(e,null,[{key:"Pr",value:function(e,t){return ZT.comparator(e.key,t.key)||WT(e.gr,t.gr)}},{key:"Tr",value:function(e,t){return WT(e.gr,t.gr)||ZT.comparator(e.key,t.key)}}]),e}(),vO=function(){function e(t,n){v(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new lN(pO.Pr)}return k(e,[{key:"checkEmpty",value:function(e){return dC.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new jP(i,t,n,r);this.mutationQueue.push(a);var o,s=R(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.yr=this.yr.add(new pO(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return dC.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return dC.resolve(this.wr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Sr(n),i=r<0?0:r;return dC.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return dC.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(e){return dC.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new pO(t,0),i=new pO(t,Number.POSITIVE_INFINITY),a=[];return this.yr.forEachInRange([r,i],(function(e){var t=n.wr(e.gr);a.push(t)})),dC.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lN(WT);return t.forEach((function(e){var t=new pO(e,0),i=new pO(e,Number.POSITIVE_INFINITY);n.yr.forEachInRange([t,i],(function(e){r=r.add(e.gr)}))})),dC.resolve(this.br(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ZT.isDocumentKey(i)||(i=i.child(""));var a=new pO(new ZT(i),0),o=new lN(WT);return this.yr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),a),dC.resolve(this.br(o))}},{key:"br",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.wr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;NT(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.yr;return dC.forEach(t.mutations,(function(i){var a=new pO(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.yr=r}))}},{key:"Fn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new pO(t,0),r=this.yr.firstAfterOrEqual(n);return dC.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,dC.resolve()}},{key:"Dr",value:function(e,t){return this.Sr(e)}},{key:"Sr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"wr",value:function(e){var t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),mO=function(){function e(t){v(this,e),this.Cr=t,this.docs=new sN(ZT.comparator),this.size=0}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return dC.resolve(n?n.document.mutableCopy():QN.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=KR();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():QN.newInvalidDocument(e))})),dC.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=KR(),a=t.path,o=new ZT(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||uC(oC(l),n)<=0||(r.has(l.key)||VR(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return dC.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){CT()}},{key:"vr",value:function(e,t){return dC.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new gO(this)}},{key:"getSize",value:function(e){return dC.resolve(this.size)}}]),e}(),gO=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this))._r=e,r}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t._r.addEntry(e,i)):t._r.removeEntry(r)})),dC.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this._r.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this._r.getEntries(e,t)}}]),n}(eO),yO=function(){function e(t){v(this,e),this.persistence=t,this.Fr=new WR((function(e){return bR(e)}),_R),this.lastRemoteSnapshotVersion=QT.min(),this.highestTargetId=0,this.Mr=0,this.Or=new dO,this.targetCount=0,this.Nr=BD.On()}return k(e,[{key:"forEachTarget",value:function(e,t){return this.Fr.forEach((function(e,n){return t(n)})),dC.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return dC.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return dC.resolve(this.Mr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Nr.next(),dC.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),dC.resolve()}},{key:"kn",value:function(e){this.Fr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Nr=new BD(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.kn(t),this.targetCount+=1,dC.resolve()}},{key:"updateTargetData",value:function(e,t){return this.kn(t),dC.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,dC.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Fr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),dC.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return dC.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fr.get(t)||null;return dC.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Or.Er(t,n),dC.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Or.Ar(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),dC.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Or.Rr(t),dC.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Or.mr(t);return dC.resolve(n)}},{key:"containsKey",value:function(e,t){return dC.resolve(this.Or.containsKey(t))}}]),e}(),kO=function(){function e(t,n){var r=this;v(this,e),this.Br={},this.overlays={},this.Lr=new EC(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new yO(this),this.indexManager=new ID,this.remoteDocumentCache=function(e){return new mO(e)}((function(e){return r.referenceDelegate.Qr(e)})),this.serializer=new zA(n),this.Kr=new hO(this.serializer)}return k(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new fO,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new vO(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;IT("MemoryPersistence","Starting transaction:",e);var i=new wO(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((function(e){return r.referenceDelegate.Ur(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Wr",value:function(e,t){return dC.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),wO=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return k(n)}(lC),bO=function(){function e(t){v(this,e),this.persistence=t,this.Gr=new dO,this.zr=null}return k(e,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw CT()}},{key:"addReference",value:function(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),dC.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),dC.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hr.add(t.toString()),dC.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gr.Rr(t.targetId).forEach((function(e){return n.Hr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dC.forEach(this.Hr,(function(r){var i=ZT.fromPath(r);return t.Jr(e,i).next((function(e){e||n.removeEntry(i,QT.min())}))})).next((function(){return t.zr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Jr(e,t).next((function(e){e?n.Hr.delete(t.toString()):n.Hr.add(t.toString())}))}},{key:"Qr",value:function(e){return 0}},{key:"Jr",value:function(e,t){var n=this;return dC.or([function(){return dC.resolve(n.Gr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Wr(e,t)}])}}],[{key:"jr",value:function(t){return new e(t)}}]),e}(),_O=function(){function e(t){v(this,e),this.serializer=t}return k(e,[{key:"N",value:function(e,t,n,r){var i=this,a=new pC("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DC,{unique:!0}),e.createObjectStore("documentMutations")}(e),xO(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=dC.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),xO(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:QT.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DC,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return dC.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Zr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ei(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ni(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:QC});t.createIndex("collectionPathOverlayIndex",YC,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",$C,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:FC});t.createIndex("documentKeyIndex",jC),t.createIndex("collectionGroupIndex",UC)}(e)})).next((function(){return i.ri(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ii(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:WC}).createIndex("sequenceNumberIndex",HC,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:KC}).createIndex("documentKeyIndex",GC,{unique:!1})}(e)}))),o}},{key:"Xr",value:function(e){var t=0;return e.store("remoteDocuments").Y((function(e,n){t+=MD(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Zr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return dC.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return dC.forEach(r,(function(r){NT(r.userId===n.userId);var i=KA(t.serializer,r);return LD(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ei",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Y((function(n,i){var a=new $T(n),o=function(e){return[0,NC(e)]}(a);r.push(t.get(o).next((function(n){return n?dC.resolve():function(n){return t.put({targetId:0,path:NC(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return dC.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:qC});var n=t.store("collectionParents"),r=new ED,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:NC(i)})}};return t.store("remoteDocuments").Y({J:!0},(function(e,t){var n=new $T(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Y({J:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],AC(r));return i(a.popLast())}))}))}},{key:"ni",value:function(e){var t=this,n=e.store("targets");return n.Y((function(e,r){var i=GA(r),a=QA(t.serializer,i);return n.put(a)}))}},{key:"ri",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Y((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new ZT($T.fromString(e.document.name).popFirst(5)):e.noDocument?ZT.fromSegments(e.noDocument.path):e.unknownDocument?ZT.fromSegments(e.unknownDocument.path):CT()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return dC.waitFor(r)}))}},{key:"ii",value:function(e,t){var n=this,r=t.store("mutations"),i=nO(this.serializer),a=new kO(bO.jr,this.serializer.ut);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:tP();KA(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),dC.forEach(r,(function(e,r){var o=new wT(r),s=nD.ct(n.serializer,o),u=a.getIndexManager(o),c=FD.ct(o,n.serializer,u,a.referenceDelegate);return new lO(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new nN(t,EC._e),e).next()}))}))}}]),e}();function xO(e){e.createObjectStore("targetDocuments",{keyPath:zC}).createIndex("documentTargetsIndex",BC,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",VC,{unique:!0}),e.createObjectStore("targetGlobal")}var IO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",EO=function(){function e(t,n,r,i,a,o,s,u,c,l){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(v(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=s,this.oi=c,this._i=l,this.ai=h,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=function(e){return Promise.resolve()},!e.D())throw new AT(PT.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XD(this,i),this.Ii=n+"main",this.serializer=new zA(u),this.Ti=new vC(this.Ii,this.ai,new _O(this.serializer)),this.qr=new qD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nO(this.serializer),this.Kr=new ZA,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&ET("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return k(e,[{key:"start",value:function(){var e=this;return this.di().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new AT(PT.FAILED_PRECONDITION,IO);return e.Ai(),e.Ri(),e.Vi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qr.getHighestSequenceNumber(t)}))})).then((function(t){e.Lr=new EC(t,e.oi)})).then((function(){e.kr=!0})).catch((function(t){return e.Ti&&e.Ti.close(),Promise.reject(t)}))}},{key:"mi",value:function(e){var t=this;return this.Pi=function(){var n=at(rt().mark((function n(r){return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ti.L(function(){var t=at(rt().mark((function t(n){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.di();case 4:case"end":return e.stop()}}),e)})))))}},{key:"di",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return TO(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.Pi(!1)})))}))})).next((function(){return e.gi(t)})).next((function(n){return e.isPrimary&&!n?e.pi(t).next((function(){return!1})):!!n&&e.yi(t).next((function(){return!0}))}))})).catch((function(t){if(yC(t))return IT("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return IT("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.Pi(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return SO(e).get("owner").next((function(e){return dC.resolve(t.wi(e))}))}},{key:"Si",value:function(e){return TO(e).delete(this.clientId)}},{key:"bi",value:function(){var e=at(rt().mark((function e(){var t,n,r,i,a=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Di(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=rN(e,"clientMetadata");return t.W().next((function(e){var n=a.Ci(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return dC.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ei){n=R(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ei.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(){var e=this;this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.di().then((function(){return e.bi()})).then((function(){return e.Vi()}))}))}},{key:"wi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"gi",value:function(e){var t=this;return this._i?dC.resolve(!0):SO(e).get("owner").next((function(n){if(null!==n&&t.Di(n.leaseTimestampMs,5e3)&&!t.Fi(n.ownerId)){if(t.wi(n)&&t.networkEnabled)return!0;if(!t.wi(n)){if(!n.allowTabSynchronization)throw new AT(PT.FAILED_PRECONDITION,IO);return!1}}return!(!t.networkEnabled||!t.inForeground)||TO(e).W().next((function(e){return void 0===t.Ci(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&IT("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=at(rt().mark((function e(){var t=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),e.next=7,this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new nN(e,EC._e);return t.pi(n).next((function(){return t.Si(n)}))}));case 7:this.Ti.close(),this.Ni();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ci",value:function(e,t){var n=this;return e.filter((function(e){return n.Di(e.updateTimeMs,t)&&!n.Fi(e.clientId)}))}},{key:"Bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return TO(t).W().next((function(t){return e.Ci(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.kr}},{key:"getMutationQueue",value:function(e,t){return FD.ct(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new TD(e,this.serializer.ut.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return nD.ct(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;IT("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?tN:14===e?eN:13===e?ZC:12===e?XC:11===e?JC:void CT()}(this.ai);return this.Ti.runTransaction(e,a,o,(function(a){return i=new nN(a,r.Lr?r.Lr.next():EC._e),"readwrite-primary"===t?r.fi(i).next((function(e){return!!e||r.gi(i)})).next((function(t){if(!t)throw ET("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.Pi(!1)})),new AT(PT.FAILED_PRECONDITION,cC);return n(i)})).next((function(e){return r.yi(i).next((function(){return e}))})):r.Li(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Li",value:function(e){var t=this;return SO(e).get("owner").next((function(e){if(null!==e&&t.Di(e.leaseTimestampMs,5e3)&&!t.Fi(e.ownerId)&&!t.wi(e)&&!(t._i||t.allowTabSynchronization&&e.allowTabSynchronization))throw new AT(PT.FAILED_PRECONDITION,IO)}))}},{key:"yi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return SO(e).put("owner",t)}},{key:"pi",value:function(e){var t=this,n=SO(e);return n.get("owner").next((function(e){return t.wi(e)?(IT("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):dC.resolve()}))}},{key:"Di",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ET("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ai",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.di()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"Ri",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Mi();var e=/(?:Version|Mobile)\/1[456]/;!Tt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Oi",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Fi",value:function(e){var t;try{var n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return IT("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ET("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Mi",value:function(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ET("Failed to set zombie client id.",e)}}},{key:"Ni",value:function(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return vC.D()}}]),e}();function SO(e){return rN(e,"owner")}function TO(e){return rN(e,"clientMetadata")}function CO(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var NO=function(){function e(t,n,r,i){v(this,e),this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}return k(e,null,[{key:"Qi",value:function(t,n){var r,i=tP(),a=tP(),o=R(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),RO=function(){function e(){v(this,e),this._documentReadCount=0}return k(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),PO=function(){function e(){v(this,e),this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}return k(e,[{key:"initialize",value:function(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.zi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new RO;return i.Hi(e,t,n).next((function(r){if(a.result=r,i.$i)return i.Ji(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Ji",value:function(e,t,n,r){return n.documentReadCount<this.Ui?(xT()<=vn.DEBUG&&IT("QueryEngine","SDK will not create cache indexes for query:",UR(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),dC.resolve()):(xT()<=vn.DEBUG&&IT("QueryEngine","Query:",UR(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(xT()<=vn.DEBUG&&IT("QueryEngine","The SDK decides to create cache indexes for query:",UR(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,DR(t))):dC.resolve())}},{key:"zi",value:function(e,t){var n=this;if(RR(t))return dC.resolve(null);var r=DR(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=MR(t,null,"F"),r=DR(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=tP.apply(void 0,p(i));return n.Gi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Yi(t,i);return n.Zi(t,o,a,r.readTime)?n.zi(e,MR(t,null,"F")):n.Xi(e,o,t,r)}))}))})))}))}},{key:"ji",value:function(e,t,n,r){var i=this;return RR(t)||r.isEqual(QT.min())?dC.resolve(null):this.Gi.getDocuments(e,n).next((function(a){var o=i.Yi(t,a);return i.Zi(t,o,n,r)?dC.resolve(null):(xT()<=vn.DEBUG&&IT("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),UR(t)),i.Xi(e,o,t,aC(r,-1)).next((function(e){return e})))}))}},{key:"Yi",value:function(e,t){var n=new lN(BR(e));return t.forEach((function(t,r){VR(e,r)&&(n=n.add(r))})),n}},{key:"Zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Hi",value:function(e,t,n){return xT()<=vn.DEBUG&&IT("QueryEngine","Using full collection scan to execute query:",UR(t)),this.Gi.getDocumentsMatchingQuery(e,t,sC.min(),n)}},{key:"Xi",value:function(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),AO=function(){function e(t,n,r,i){v(this,e),this.persistence=t,this.es=n,this.serializer=i,this.ts=new sN(WT),this.ns=new WR((function(e){return bR(e)}),_R),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}return k(e,[{key:"os",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ts)}))}}]),e}();function DO(e,t,n,r){return new AO(e,t,n,r)}function OO(e,t){return LO.apply(this,arguments)}function LO(){return LO=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RT(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.os(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=tP(),u=R(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=R(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=R(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=R(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{_s:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),LO.apply(this,arguments)}function MO(e,t){var n=RT(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=dC.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);NT(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=tP(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function FO(e){var t=RT(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qr.getLastRemoteSnapshotVersion(e)}))}function jO(e,t){var n=RT(e),r=t.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(vN.EMPTY_BYTE_STRING,QT.min()).withLastLimboFreeSnapshotVersion(QT.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.qr.updateTargetData(e,c))}}));var s=KR(),u=tP();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(UO(e,a,t.documentUpdates).next((function(e){s=e.us,u=e.cs}))),!r.isEqual(QT.min())){var c=n.qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return dC.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ts=i,e}))}function UO(e,t,n){var r=tP(),i=tP();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=KR();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(QT.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):IT("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{us:r,cs:i}}))}function VO(e,t){var n=RT(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function zO(e,t){var n=RT(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qr.getTargetData(e,t).next((function(i){return i?(r=i,dC.resolve(r)):n.qr.allocateTargetId(e).next((function(i){return r=new VA(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}function BO(e,t,n){return qO.apply(this,arguments)}function qO(){return qO=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=RT(t),a=i.ts.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),yC(e.t1)){e.next=12;break}throw e.t1;case 12:IT("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ts=i.ts.remove(n),i.ns.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),qO.apply(this,arguments)}function WO(e,t,n){var r=RT(e),i=QT.min(),a=tP();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=RT(e),i=r.ns.get(n);return void 0!==i?dC.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,DR(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.es.getDocumentsMatchingQuery(e,t,n?i:QT.min(),n?a:tP())})).next((function(e){return GO(r,zR(t),e),{documents:e,ls:a}}))}))}function HO(e,t){var n=RT(e),r=RT(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r._t(e,t).next((function(e){return e?e.target:null}))}))}function KO(e,t){var n=RT(e),r=n.rs.get(t)||QT.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ss.getAllFromCollectionGroup(e,t,aC(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return GO(n,t,e),e}))}function GO(e,t,n){var r=e.rs.get(t)||QT.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}function QO(e,t,n,r){return YO.apply(this,arguments)}function YO(){return YO=at(rt().mark((function e(t,n,r,i){var a,o,s,u,c,l,h,f,d,p;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=RT(t),o=tP(),s=KR(),u=R(r);try{for(u.s();!(c=u.n()).done;)l=c.value,h=n.hs(l.metadata.name),l.document&&(o=o.add(h)),(f=n.Ps(l)).setReadTime(n.Is(l.metadata.readTime)),s=s.insert(h,f)}catch(v){u.e(v)}finally{u.f()}return d=a.ss.newChangeBuffer({trackRemovals:!0}),e.next=7,zO(a,function(e){return DR(NR($T.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return UO(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs)})).next((function(){return t.us}))}))})));case 9:case"end":return e.stop()}}),e)}))),YO.apply(this,arguments)}function $O(e,t){return JO.apply(this,arguments)}function JO(){return JO=at(rt().mark((function e(t,n){var r,i,a,o=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:tP(),e.next=3,zO(t,DR(YA(n.bundledQuery)));case 3:return i=e.sent,a=RT(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=pA(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kr.saveNamedQuery(e,n);var o=i.withResumeToken(vN.EMPTY_BYTE_STRING,t);return a.ts=a.ts.insert(o.targetId,o),a.qr.updateTargetData(e,o).next((function(){return a.qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),JO.apply(this,arguments)}function XO(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ZO(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function eL(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var tL=function(){function e(t,n,r,i){v(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return k(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new AT(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ET("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),nL=function(){function e(t,n,r){v(this,e),this.targetId=t,this.state=n,this.error=r}return k(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new AT(i.error.code,i.error.message))),a?new e(t,i.state,r):(ET("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),rL=function(){function e(t,n){v(this,e),this.clientId=t,this.activeTargetIds=n}return k(e,null,[{key:"Ts",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=rP(),o=0;i&&o<r.activeTargetIds.length;++o)i=CC(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ET("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),iL=function(){function e(t,n){v(this,e),this.clientId=t,this.onlineState=n}return k(e,null,[{key:"Ts",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ET("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),aL=function(){function e(){v(this,e),this.activeTargetIds=rP()}return k(e,[{key:"ds",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Es",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),oL=function(){function e(t,n,r,i,a){v(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new sN(WT),this.started=!1,this.ps=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ys=XO(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new aL),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}return k(e,[{key:"start",value:function(){var e=at(rt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,f=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Bi();case 2:t=e.sent,n=R(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Rs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(XO(this.persistenceKey,i)))&&(o=rL.Ts(i,a))&&(this.gs=this.gs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Fs(),(s=this.storage.getItem(this.Cs))&&(u=this.Ms(s))&&this.xs(u),c=R(this.ps);try{for(c.s();!(l=c.n()).done;)h=l.value,this.fs(h)}catch(d){c.e(d)}finally{c.f()}this.ps=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Os(this.gs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ns(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ns(e,t,n),this.Bs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(eL(this.persistenceKey,e));if(n){var r=nL.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ls.As(e),this.Fs()}},{key:"isLocalQueryTarget",value:function(e){return this.Ls.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(eL(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ks(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Bs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Qs(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return IT("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){IT("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){IT("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"fs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(IT("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void ET("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(at(rt().mark((function e(){var r,i,a,o,s,u,c;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ss.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Ks(n.key),e.abrupt("return",t.$s(r,null));case 6:if(!(i=t.Us(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$s(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.bs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Ws(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Gs(a));case 16:e.next=41;break;case 18:if(!t.Ds.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.zs(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.js(o));case 23:e.next=41;break;case 25:if(n.key!==t.Cs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Ms(n.newValue))){e.next=30;break}return e.abrupt("return",t.xs(s));case 30:e.next=41;break;case 32:if(n.key!==t.ws){e.next=37;break}u=function(e){var t=EC._e;if(null!=e)try{var n=JSON.parse(e);NT("number"==typeof n),t=n}catch(e){ET("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==EC._e&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.vs){e.next=41;break}return c=t.Hs(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Js(e)})));case 41:e.next=44;break;case 43:t.ps.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ls",get:function(){return this.gs.get(this.Rs)}},{key:"Fs",value:function(){this.setItem(this.ys,this.Ls.Es())}},{key:"Ns",value:function(e,t,n){var r=new tL(this.currentUser,e,t,n),i=ZO(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}},{key:"Bs",value:function(e){var t=ZO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"qs",value:function(e){var t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}},{key:"ks",value:function(e,t,n){var r=eL(this.persistenceKey,e),i=new nL(e,t,n);this.setItem(r,i.Es())}},{key:"Qs",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}},{key:"Ks",value:function(e){var t=this.Ss.exec(e);return t?t[1]:null}},{key:"Us",value:function(e,t){var n=this.Ks(e);return rL.Ts(n,t)}},{key:"Ws",value:function(e,t){var n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return tL.Ts(new wT(i),r,t)}},{key:"zs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]);return nL.Ts(r,t)}},{key:"Ms",value:function(e){return iL.Ts(e)}},{key:"Hs",value:function(e){return JSON.parse(e)}},{key:"Gs",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Ys(t.batchId,t.state,t.error));case 2:IT("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"js",value:function(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}},{key:"$s",value:function(e,t){var n=this,r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),a=this.Os(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((function(){n.gs=r}))}},{key:"xs",value:function(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Os",value:function(e){var t=rP();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),sL=function(){function e(){v(this,e),this.eo=new aL,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return k(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.eo.ds(e),this.no[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.no[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.eo.As(e)}},{key:"isLocalQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.no[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.eo.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"start",value:function(){return this.eo=new aL,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),uL=function(){function e(){v(this,e)}return k(e,[{key:"ro",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),cL=function(){function e(){var t=this;v(this,e),this.io=function(){return t.so()},this.oo=function(){return t._o()},this.ao=[],this.uo()}return k(e,[{key:"ro",value:function(e){this.ao.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}},{key:"uo",value:function(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}},{key:"so",value:function(){IT("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=R(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"_o",value:function(){IT("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=R(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),lL=null;function hL(){return null===lL?lL=268435456+Math.round(2147483648*Math.random()):lL++,"0x"+lL.toString(16)}var fL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},dL=function(){function e(t){v(this,e),this.co=t.co,this.lo=t.lo}return k(e,[{key:"ho",value:function(e){this.Po=e}},{key:"Io",value:function(e){this.To=e}},{key:"onMessage",value:function(e){this.Eo=e}},{key:"close",value:function(){this.lo()}},{key:"send",value:function(e){this.co(e)}},{key:"Ao",value:function(){this.Po()}},{key:"Ro",value:function(e){this.To(e)}},{key:"Vo",value:function(e){this.Eo(e)}}]),e}(),pL="WebChannelConnection",vL=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return k(n,[{key:"Do",value:function(e,t,n,r){var i=hL();return new Promise((function(a,o){var s=new mT;s.setWithCredentials(!0),s.listenOnce(fT.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case hT.NO_ERROR:var t=s.getResponseJson();IT(pL,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case hT.TIMEOUT:IT(pL,"RPC '".concat(e,"' ").concat(i," timed out")),o(new AT(PT.DEADLINE_EXCEEDED,"Request time out"));break;case hT.HTTP_ERROR:var n=s.getStatus();if(IT(pL,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(PT).indexOf(t)>=0?t:PT.UNKNOWN}(u.status);o(new AT(c,u.message))}else o(new AT(PT.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new AT(PT.UNAVAILABLE,"Connection failed."));break;default:CT()}}finally{IT(pL,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);IT(pL,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"vo",value:function(e,t,n){var r=hL(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=cT(),o=lT(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.bo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");IT(pL,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),h=!1,f=!1,d=new dL({co:function(t){f?IT(pL,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(IT(pL,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),h=!0),IT(pL,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},lo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,vT.EventType.OPEN,(function(){f||IT(pL,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,vT.EventType.CLOSE,(function(){f||(f=!0,IT(pL,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Ro())})),p(l,vT.EventType.ERROR,(function(t){f||(f=!0,ST(pL,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Ro(new AT(PT.UNAVAILABLE,"The operation could not be completed")))})),p(l,vT.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];NT(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){IT(pL,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=OP[e];if(void 0!==t)return qP(t)}(s),c=o.message;void 0===u&&(u=PT.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),f=!0,d.Ro(new AT(u,c)),l.close()}else IT(pL,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Vo(i)}})),p(o,dT.STAT_EVENT,(function(t){t.stat===pT.PROXY?IT(pL,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===pT.NOPROXY&&IT(pL,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ao()}),0),d}}]),n}(function(){function e(t){v(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=n+"://"+t.host,this.fo="projects/".concat(r,"/databases/").concat(i),this.po="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return k(e,[{key:"yo",get:function(){return!1}},{key:"wo",value:function(e,t,n,r,i){var a=hL(),o=this.So(e,t);IT("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(s,r,i),this.Do(e,o,s,n).then((function(t){return IT("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw ST("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Co",value:function(e,t,n,r,i,a){return this.wo(e,t,n,r,i)}},{key:"bo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+bT,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"So",value:function(e,t){var n=fL[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function mL(){return"undefined"!=typeof window?window:null}function gL(){return"undefined"!=typeof document?document:null}function yL(e){return new cA(e,!0)}var kL=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;v(this,e),this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=a,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}return k(e,[{key:"reset",value:function(){this.Oo=0}},{key:"Lo",value:function(){this.Oo=this.xo}},{key:"ko",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&IT("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Bo=Date.now(),e()})),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}},{key:"Qo",value:function(){null!==this.No&&(this.No.skipDelay(),this.No=null)}},{key:"cancel",value:function(){null!==this.No&&(this.No.cancel(),this.No=null)}},{key:"qo",value:function(){return(Math.random()-.5)*this.Oo}}]),e}(),wL=function(){function e(t,n,r,i,a,o,s,u){v(this,e),this.si=t,this.Ko=r,this.$o=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new kL(t,n)}return k(e,[{key:"jo",value:function(){return 1===this.state||5===this.state||this.Ho()}},{key:"Ho",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Jo()}},{key:"stop",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){this.state=0,this.zo.reset()}},{key:"Zo",value:function(){var e=this;this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(function(){return e.Xo()})))}},{key:"e_",value:function(e){this.t_(),this.stream.send(e)}},{key:"Xo",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ho()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_",value:function(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"close",value:function(){var e=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==t?this.zo.reset():n&&n.code===PT.RESOURCE_EXHAUSTED?(ET(n.toString()),ET("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===PT.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Io(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"r_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Uo===n&&e.s_(i,a)}),(function(n){t((function(){var t=new AT(PT.UNKNOWN,"Fetching auth token failed: "+n.message);return e.o_(t)}))}))}},{key:"s_",value:function(e,t){var n=this,r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((function(){r((function(){return n.state=2,n.Go=n.si.enqueueAfterDelay(n.$o,1e4,(function(){return n.Ho()&&(n.state=3),Promise.resolve()})),n.listener.ho()}))})),this.stream.Io((function(e){r((function(){return n.o_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Jo",value:function(){var e=this;this.state=5,this.zo.ko(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"o_",value:function(e){return IT("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"i_",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.Uo===e?n():(IT("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),bL=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,s){var u;return v(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return k(n,[{key:"__",value:function(e,t){return this.connection.vo("Listen",e,t)}},{key:"onMessage",value:function(e){this.zo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:CT()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(NT(void 0===t||"string"==typeof t),vN.fromBase64String(t||"")):(NT(void 0===t||t instanceof Uint8Array),vN.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?PT.UNKNOWN:qP(e.code);return new AT(t,e.message||"")}(o);n=new tA(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=yA(e,u.document.name),l=pA(u.document.updateTime),h=u.document.createTime?pA(u.document.createTime):QT.min(),f=new KN({mapValue:{fields:u.document.fields}}),d=QN.newFoundDocument(c,l,h,f),p=u.targetIds||[],v=u.removedTargetIds||[];n=new ZP(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=yA(e,m.document),y=m.readTime?pA(m.readTime):QT.min(),k=QN.newNoDocument(g,y),w=m.removedTargetIds||[];n=new ZP([],w,k.key,k)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var _=yA(e,b.document),x=b.removedTargetIds||[];n=new ZP([],x,_,null)}else{if(!("filter"in t))return CT();t.filter;var I=t.filter;I.targetId;var E=I.count,S=void 0===E?0:E,T=I.unchangedNames,C=new zP(S,T),N=I.targetId;n=new eA(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return QT.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?QT.min():t.readTime?pA(t.readTime):QT.min()}(e);return this.listener.a_(t,n)}},{key:"u_",value:function(e){var t={};t.database=bA(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=xR(r)?{documents:CA(e,r)}:{query:NA(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=fA(e,t.resumeToken);var i=lA(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(QT.min())>0){n.readTime=hA(e,t.snapshotVersion.toTimestamp());var a=lA(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return CT()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}},{key:"c_",value:function(e){var t={};t.database=bA(this.serializer),t.removeTarget=e,this.e_(t)}}]),n}(wL),_L=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,s){var u;return v(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.l_=!1,u}return k(n,[{key:"h_",get:function(){return this.l_}},{key:"start",value:function(){this.l_=!1,this.lastStreamToken=void 0,Vs(_(n.prototype),"start",this).call(this)}},{key:"r_",value:function(){this.l_&&this.P_([])}},{key:"__",value:function(e,t){return this.connection.vo("Write",e,t)}},{key:"onMessage",value:function(e){if(NT(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();var t=function(e,t){return e&&e.length>0?(NT(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?pA(e.updateTime):pA(t);return n.isEqual(QT.min())&&(n=pA(t)),new wP(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pA(e.commitTime);return this.listener.I_(n,t)}return NT(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}},{key:"E_",value:function(){var e={};e.database=bA(this.serializer),this.e_(e)}},{key:"P_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return SA(t.serializer,e)}))};this.e_(n)}}]),n}(wL),xL=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.d_=!1,o}return k(n,[{key:"A_",value:function(){if(this.d_)throw new AT(PT.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"wo",value:function(e,t,n){var r=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.connection.wo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===PT.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new AT(PT.UNKNOWN,e.toString())}))}},{key:"Co",value:function(e,t,n,r){var i=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.connection.Co(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===PT.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new AT(PT.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.d_=!0}}]),n}(k((function e(){v(this,e)})));var IL=function(){function e(t,n){v(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}return k(e,[{key:"g_",value:function(){var e=this;0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.m_=null,e.y_("Backend didn't respond within 10 seconds."),e.p_("Offline"),Promise.resolve()})))}},{key:"w_",value:function(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}},{key:"set",value:function(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}},{key:"p_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"y_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(ET(t),this.f_=!1):IT("OnlineStateTracker",t)}},{key:"S_",value:function(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}]),e}(),EL=k((function e(t,n,r,i,a){var o=this;v(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=a,this.F_.ro((function(e){r.enqueueAndForget(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ML(o),!e.t0){e.next=5;break}return IT("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=RT(t)).C_.add(4),e.next=4,CL(n);case 4:return n.M_.set("Unknown"),n.C_.delete(4),e.next=8,SL(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.M_=new IL(r,i)}));function SL(e){return TL.apply(this,arguments)}function TL(){return TL=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ML(t)){e.next=18;break}n=R(t.v_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),TL.apply(this,arguments)}function CL(e){return NL.apply(this,arguments)}function NL(){return NL=at(rt().mark((function e(t){var n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=R(t.v_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),NL.apply(this,arguments)}function RL(e,t){var n=RT(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),LL(n)?OL(n):hM(n).Ho()&&AL(n,t))}function PL(e,t){var n=RT(e),r=hM(n);n.D_.delete(t),r.Ho()&&DL(n,t),0===n.D_.size&&(r.Ho()?r.Zo():ML(n)&&n.M_.set("Unknown"))}function AL(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(QT.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hM(e).u_(t)}function DL(e,t){e.x_.Oe(t),hM(e).c_(t)}function OL(e){e.x_=new rA({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.D_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),hM(e).start(),e.M_.g_()}function LL(e){return ML(e)&&!hM(e).jo()&&e.D_.size>0}function ML(e){return 0===RT(e).C_.size}function FL(e){e.x_=void 0}function jL(e){return UL.apply(this,arguments)}function UL(){return UL=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.D_.forEach((function(e,n){AL(t,e)}));case 1:case"end":return e.stop()}}),e)}))),UL.apply(this,arguments)}function VL(e,t){return zL.apply(this,arguments)}function zL(){return zL=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:FL(t),LL(t)?(t.M_.w_(n),OL(t)):t.M_.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),zL.apply(this,arguments)}function BL(e,t,n){return qL.apply(this,arguments)}function qL(){return qL=at(rt().mark((function e(t,n,r){var i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.M_.set("Online"),!(n instanceof tA&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=R(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.D_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.D_.delete(o),t.x_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),IT("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,WL(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ZP?t.x_.$e(n):n instanceof eA?t.x_.Je(n):t.x_.Ge(n),r.isEqual(QT.min())){e.next=29;break}return e.prev=14,e.next=17,FO(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.x_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.D_.get(t);if(r){e.D_.set(t,r.withResumeToken(vN.EMPTY_BYTE_STRING,r.snapshotVersion)),DL(e,t);var i=new VA(r.target,t,n,r.sequenceNumber);AL(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),IT("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,WL(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),qL.apply(this,arguments)}function WL(e,t,n){return HL.apply(this,arguments)}function HL(){return HL=at(rt().mark((function e(t,n,r){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yC(n)){e.next=2;break}throw n;case 2:return t.C_.add(1),e.next=5,CL(t);case 5:t.M_.set("Offline"),r||(r=function(){return FO(t.localStore)}),t.asyncQueue.enqueueRetryable(at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IT("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.C_.delete(1),e.next=6,SL(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),HL.apply(this,arguments)}function KL(e,t){return t().catch((function(n){return WL(e,n,t)}))}function GL(e){return QL.apply(this,arguments)}function QL(){return QL=at(rt().mark((function e(t){var n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=RT(t),r=fM(n),i=n.b_.length>0?n.b_[n.b_.length-1].batchId:-1;case 2:if(!YL(n)){e.next=19;break}return e.prev=3,e.next=6,VO(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.b_.length&&r.Zo(),e.abrupt("break",19);case 10:i=a.batchId,$L(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,WL(n,e.t0);case 17:e.next=2;break;case 19:JL(n)&&XL(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),QL.apply(this,arguments)}function YL(e){return ML(e)&&e.b_.length<10}function $L(e,t){e.b_.push(t);var n=fM(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function JL(e){return ML(e)&&!fM(e).jo()&&e.b_.length>0}function XL(e){fM(e).start()}function ZL(e){return eM.apply(this,arguments)}function eM(){return(eM=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fM(t).E_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tM(e){return nM.apply(this,arguments)}function nM(){return nM=at(rt().mark((function e(t){var n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fM(t),r=R(t.b_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.P_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),nM.apply(this,arguments)}function rM(e,t,n){return iM.apply(this,arguments)}function iM(){return iM=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.b_.shift(),a=UP.from(i,n,r),e.next=3,KL(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,GL(t);case 5:case"end":return e.stop()}}),e)}))),iM.apply(this,arguments)}function aM(e,t){return oM.apply(this,arguments)}function oM(){return oM=at(rt().mark((function e(t,n){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&fM(t).h_,!e.t0){e.next=4;break}return e.next=4,function(){var e=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return BP(e)&&e!==PT.ABORTED}(n.code)){e.next=7;break}return r=t.b_.shift(),fM(t).Yo(),e.next=5,KL(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,GL(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:JL(t)&&XL(t);case 5:case"end":return e.stop()}}),e)}))),oM.apply(this,arguments)}function sM(e,t){return uM.apply(this,arguments)}function uM(){return uM=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=RT(t)).asyncQueue.verifyOperationInProgress(),IT("RemoteStore","RemoteStore received new credentials"),i=ML(r),r.C_.add(3),e.next=6,CL(r);case 6:return i&&r.M_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.C_.delete(3),e.next=12,SL(r);case 12:case"end":return e.stop()}}),e)}))),uM.apply(this,arguments)}function cM(e,t){return lM.apply(this,arguments)}function lM(){return lM=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=RT(t),!n){e.next=7;break}return r.C_.delete(2),e.next=5,SL(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.C_.add(2),e.next=12,CL(r);case 12:r.M_.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),lM.apply(this,arguments)}function hM(e){return e.O_||(e.O_=function(e,t,n){var r=RT(e);return r.A_(),new bL(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:jL.bind(null,e),Io:VL.bind(null,e),a_:BL.bind(null,e)}),e.v_.push(function(){var t=at(rt().mark((function t(n){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.O_.Yo(),LL(e)?OL(e):e.M_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.O_.stop();case 6:FL(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.O_}function fM(e){return e.N_||(e.N_=function(e,t,n){var r=RT(e);return r.A_(),new _L(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:ZL.bind(null,e),Io:aM.bind(null,e),T_:tM.bind(null,e),I_:rM.bind(null,e)}),e.v_.push(function(){var t=at(rt().mark((function t(n){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.N_.Yo(),t.next=4,GL(e);case 4:t.next=9;break;case 6:return t.next=8,e.N_.stop();case 8:e.b_.length>0&&(IT("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}var dM=function(){function e(t,n,r,i,a){v(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new DT,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return k(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new AT(PT.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function pM(e,t){if(ET("AsyncQueue","".concat(t,": ").concat(e)),yC(e))return new AT(PT.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var vM=function(){function e(t){v(this,e),this.comparator=t?function(e,n){return t(e,n)||ZT.comparator(e.key,n.key)}:function(e,t){return ZT.comparator(e.key,t.key)},this.keyedMap=QR(),this.sortedSet=new sN(this.comparator)}return k(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),mM=function(){function e(){v(this,e),this.B_=new sN(ZT.comparator)}return k(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):CT():this.B_=this.B_.insert(t,e)}},{key:"L_",value:function(){var e=[];return this.B_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),gM=function(){function e(t,n,r,i,a,o,s,u,c){v(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return k(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&FR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,vM.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),yM=k((function e(){v(this,e),this.k_=void 0,this.listeners=[]})),kM=k((function e(){v(this,e),this.queries=new WR((function(e){return jR(e)}),FR),this.onlineState="Unknown",this.q_=new Set}));function wM(e,t){return bM.apply(this,arguments)}function bM(){return bM=at(rt().mark((function e(t,n){var r,i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=RT(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new yM),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.k_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=pM(e.t0,"Initialization of query '".concat(UR(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Q_(r.onlineState),o.k_&&n.K_(o.k_)&&SM(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),bM.apply(this,arguments)}function _M(e,t){return xM.apply(this,arguments)}function xM(){return xM=at(rt().mark((function e(t,n){var r,i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=RT(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),xM.apply(this,arguments)}function IM(e,t){var n,r=RT(e),i=!1,a=R(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=R(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.K_(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.k_=o}}}catch(h){a.e(h)}finally{a.f()}i&&SM(r)}function EM(e,t,n){var r=RT(e),i=r.queries.get(t);if(i){var a,o=R(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function SM(e){e.q_.forEach((function(e){e.next()}))}var TM=function(){function e(t,n,r){v(this,e),this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}return k(e,[{key:"K_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=R(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new gM(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.W_?this.z_(e)&&(this.U_.next(e),a=!0):this.j_(e,this.onlineState)&&(this.H_(e),a=!0),this.G_=e,a}},{key:"onError",value:function(e){this.U_.error(e)}},{key:"Q_",value:function(e){this.onlineState=e;var t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}},{key:"j_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"z_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"H_",value:function(e){e=gM.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}]),e}(),CM=function(){function e(t,n){v(this,e),this.Y_=t,this.byteLength=n}return k(e,[{key:"Z_",value:function(){return"metadata"in this.Y_}}]),e}(),NM=function(){function e(t){v(this,e),this.serializer=t}return k(e,[{key:"hs",value:function(e){return yA(this.serializer,e)}},{key:"Ps",value:function(e){return e.metadata.exists?IA(this.serializer,e.document,!1):QN.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}},{key:"Is",value:function(e){return pA(e)}}]),e}(),RM=function(){function e(t,n,r){v(this,e),this.X_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=PM(t)}return k(e,[{key:"ea",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;var n=$T.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ta",value:function(e){var t,n=new Map,r=new NM(this.serializer),i=R(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.hs(a.metadata.name),u=R(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||tP()).add(s);n.set(c,l)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=at(rt().mark((function e(){var t,n,r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QO(this.localStore,new NM(this.serializer),this.documents,this.X_.id);case 2:t=e.sent,n=this.ta(this.documents),r=R(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,$O(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function PM(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var AM=k((function e(t){v(this,e),this.key=t})),DM=k((function e(t){v(this,e),this.key=t})),OM=function(){function e(t,n){v(this,e),this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=tP(),this.mutatedKeys=tP(),this._a=BR(t),this.aa=new vM(this._a)}return k(e,[{key:"ua",get:function(){return this.ia}},{key:"ca",value:function(e,t){var n=this,r=t?t.la:new mM,i=t?t.aa:this.aa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=VR(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.ha(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n._a(h,u)>0||c&&n._a(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:s,mutatedKeys:a}}},{key:"ha",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var i=this,a=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;var o=e.la.L_();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return CT()}};return n(e)-n(t)}(e.type,t.type)||i._a(e.doc,t.doc)})),this.Pa(n),r=null!=r&&r;var s=t&&!r?this.Ia():[],u=0===this.oa.size&&this.current&&!r?1:0,c=u!==this.sa;return this.sa=u,0!==o.length||c?{snapshot:new gM(this.query,e.aa,a,o,e.mutatedKeys,0===u,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}},{key:"Q_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new mM,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}},{key:"Ea",value:function(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}},{key:"Pa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ia=t.ia.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ia=t.ia.delete(e)})),this.current=e.current)}},{key:"Ia",value:function(){var e=this;if(!this.current)return[];var t=this.oa;this.oa=tP(),this.aa.forEach((function(t){e.Ea(t.key)&&(e.oa=e.oa.add(t.key))}));var n=[];return t.forEach((function(t){e.oa.has(t)||n.push(new DM(t))})),this.oa.forEach((function(e){t.has(e)||n.push(new AM(e))})),n}},{key:"da",value:function(e){this.ia=e.ls,this.oa=tP();var t=this.ca(e.documents);return this.applyChanges(t,!0)}},{key:"Aa",value:function(){return gM.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}]),e}(),LM=k((function e(t,n,r){v(this,e),this.query=t,this.targetId=n,this.view=r})),MM=k((function e(t){v(this,e),this.key=t,this.Ra=!1})),FM=function(){function e(t,n,r,i,a,o){v(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new WR((function(e){return jR(e)}),FR),this.fa=new Map,this.ga=new Set,this.pa=new sN(ZT.comparator),this.ya=new Map,this.wa=new dO,this.Sa={},this.ba=new Map,this.Da=BD.Nn(),this.onlineState="Unknown",this.Ca=void 0}return k(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ca}}]),e}();function jM(e,t){return UM.apply(this,arguments)}function UM(){return UM=at(rt().mark((function e(t,n){var r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=PF(t),!(o=r.ma.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Aa(),e.next=15;break;case 6:return e.next=8,zO(r.localStore,DR(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,VM(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&RL(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),UM.apply(this,arguments)}function VM(e,t,n,r,i){return zM.apply(this,arguments)}function zM(){return zM=at(rt().mark((function e(t,n,r,i,a){var o,s,u,c,l,h;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.va=function(e,n,r){return function(){var e=at(rt().mark((function e(t,n,r,i){var a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ca(r),e.t0=a.Zi,!e.t0){e.next=6;break}return e.next=5,WO(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ca(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=i&&null!=i.targetMismatches.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o,s),e.abrupt("return",(sF(t,n.targetId,u.Ta),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,WO(t.localStore,n,!0);case 3:return o=e.sent,s=new OM(n,o.ls),u=s.ca(o.documents),c=XP.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),sF(t,r,l.Ta),h=new LM(n,r,s),e.abrupt("return",(t.ma.set(n,h),t.fa.has(r)?t.fa.get(r).push(n):t.fa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),zM.apply(this,arguments)}function BM(e,t){return qM.apply(this,arguments)}function qM(){return qM=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=RT(t),i=r.ma.get(n),!((a=r.fa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.fa.set(i.targetId,a.filter((function(e){return!FR(e,n)}))),void r.ma.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,BO(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),PL(r.remoteStore,i.targetId),aF(r,i.targetId)})).catch(hC);case 9:e.next=14;break;case 11:return aF(r,i.targetId),e.next=14,BO(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),qM.apply(this,arguments)}function WM(e,t,n){return HM.apply(this,arguments)}function HM(){return HM=at(rt().mark((function e(t,n,r){var i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=AF(t),e.prev=1,e.next=4,function(e,t){var n,r,i=RT(e),a=GT.now(),o=t.reduce((function(e,t){return e.add(t.key)}),tP());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=KR(),u=tP();return i.ss.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=R(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=TP(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new RP(c.key,l,GN(l.value.mapValue),bP.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:YR(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Sa[e.currentUser.toKey()];r||(r=new sN(WT)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,lF(i,a.changes);case 9:return e.next=11,GL(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=pM(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),HM.apply(this,arguments)}function KM(e,t){return GM.apply(this,arguments)}function GM(){return GM=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RT(t),e.prev=1,e.next=4,jO(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ya.get(t);n&&(NT(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ra=!0:e.modifiedDocuments.size>0?NT(n.Ra):e.removedDocuments.size>0&&(NT(n.Ra),n.Ra=!1))})),e.next=8,lF(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,hC(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),GM.apply(this,arguments)}function QM(e,t,n){var r=RT(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ma.forEach((function(e,n){var r=n.view.Q_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=RT(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=R(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Q_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&SM(n)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function YM(e,t,n){return $M.apply(this,arguments)}function $M(){return $M=at(rt().mark((function e(t,n,r){var i,a,o,s,u,c;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=RT(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ya.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new sN(ZT.comparator)).insert(o,QN.newNoDocument(o,QT.min())),u=tP().add(o),c=new JP(QT.min(),new Map,new sN(WT),s,u),e.next=9,KM(i,c);case 9:i.pa=i.pa.remove(o),i.ya.delete(n),cF(i),e.next=16;break;case 14:return e.next=16,BO(i.localStore,n,!1).then((function(){return aF(i,n,r)})).catch(hC);case 16:case"end":return e.stop()}}),e)}))),$M.apply(this,arguments)}function JM(e,t){return XM.apply(this,arguments)}function XM(){return XM=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RT(t),i=n.batch.batchId,e.prev=1,e.next=4,MO(r.localStore,n);case 4:return a=e.sent,iF(r,i,null),rF(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,lF(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,hC(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),XM.apply(this,arguments)}function ZM(e,t,n){return eF.apply(this,arguments)}function eF(){return eF=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=RT(t),e.prev=1,e.next=4,function(e,t){var n=RT(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return NT(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,iF(i,n,r),rF(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,lF(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,hC(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),eF.apply(this,arguments)}function tF(e,t){return nF.apply(this,arguments)}function nF(){return nF=at(rt().mark((function e(t,n){var r,i,a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ML((r=RT(t)).remoteStore)||IT("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=RT(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ba.get(i)||[]).push(n),r.ba.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=pM(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),nF.apply(this,arguments)}function rF(e,t){(e.ba.get(t)||[]).forEach((function(e){e.resolve()})),e.ba.delete(t)}function iF(e,t,n){var r=RT(e),i=r.Sa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function aF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=R(e.fa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ma.delete(a),n&&e.Va.Fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((function(t){e.wa.containsKey(t)||oF(e,t)}))}function oF(e,t){e.ga.delete(t.path.canonicalString());var n=e.pa.get(t);null!==n&&(PL(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),cF(e))}function sF(e,t,n){var r,i=R(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof AM?(e.wa.addReference(a.key,t),uF(e,a)):a instanceof DM?(IT("SyncEngine","Document no longer in limbo: "+a.key),e.wa.removeReference(a.key,t),e.wa.containsKey(a.key)||oF(e,a.key)):CT()}}catch(o){i.e(o)}finally{i.f()}}function uF(e,t){var n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(IT("SyncEngine","New document in limbo: "+n),e.ga.add(r),cF(e))}function cF(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){var t=e.ga.values().next().value;e.ga.delete(t);var n=new ZT($T.fromString(t)),r=e.Da.next();e.ya.set(r,new MM(n)),e.pa=e.pa.insert(n,r),RL(e.remoteStore,new VA(DR(NR(n.path)),r,"TargetPurposeLimboResolution",EC._e))}}function lF(e,t,n){return hF.apply(this,arguments)}function hF(){return hF=at(rt().mark((function e(t,n,r){var i,a,o,s;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=RT(t),a=[],o=[],s=[],e.t0=i.ma.isEmpty(),e.t0){e.next=9;break}return i.ma.forEach((function(e,t){s.push(i.va(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=NO.Qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Va.a_(a),e.next=9,function(){var e=at(rt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RT(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return dC.forEach(n,(function(t){return dC.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return dC.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),yC(e.t0)){e.next=10;break}throw e.t0;case 10:IT("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=R(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ts.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ts=r.ts.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),hF.apply(this,arguments)}function fF(e,t){return dF.apply(this,arguments)}function dF(){return dF=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=RT(t)).currentUser.isEqual(n)){e.next=11;break}return IT("SyncEngine","User change. New user:",n.toKey()),e.next=5,OO(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ba.forEach((function(e){e.forEach((function(e){e.reject(new AT(PT.CANCELLED,t))}))})),e.ba.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,lF(r,i._s);case 11:case"end":return e.stop()}}),e)}))),dF.apply(this,arguments)}function pF(e,t){var n=RT(e),r=n.ya.get(t);if(r&&r.Ra)return tP().add(r.key);var i=tP(),a=n.fa.get(t);if(!a)return i;var o,s=R(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ma.get(u);i=i.unionWith(c.view.ua)}}catch(l){s.e(l)}finally{s.f()}return i}function vF(e,t){return mF.apply(this,arguments)}function mF(){return mF=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RT(t),e.next=3,WO(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.da(i),e.abrupt("return",(r.isPrimaryClient&&sF(r,n.targetId,a.Ta),a));case 6:case"end":return e.stop()}}),e)}))),mF.apply(this,arguments)}function gF(e,t){return yF.apply(this,arguments)}function yF(){return yF=at(rt().mark((function e(t,n){var r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RT(t),e.abrupt("return",KO(r.localStore,n).then((function(e){return lF(r,e)})));case 2:case"end":return e.stop()}}),e)}))),yF.apply(this,arguments)}function kF(e,t,n,r){return wF.apply(this,arguments)}function wF(){return wF=at(rt().mark((function e(t,n,r,i){var a,o;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=RT(t),e.next=3,function(e,t){var n=RT(e),r=RT(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Cn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):dC.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,GL(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(iF(a,n,i||null),rF(a,n),function(e,t){RT(RT(e).mutationQueue).Fn(t)}(a.localStore,n)):CT();case 11:return e.next=13,lF(a,o);case 13:e.next=16;break;case 15:IT("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),wF.apply(this,arguments)}function bF(e,t){return _F.apply(this,arguments)}function _F(){return _F=at(rt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(PF(r=RT(t)),AF(r),!0!==n||!0===r.Ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,xF(r,i.toArray());case 5:return a=e.sent,r.Ca=!0,e.next=9,cM(r.remoteStore,!0);case 9:o=R(a);try{for(o.s();!(s=o.n()).done;)u=s.value,RL(r.remoteStore,u)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ca){e.next=25;break}return c=[],l=Promise.resolve(),r.fa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return aF(r,t),BO(r.localStore,t,!0)})),PL(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,xF(r,c);case 21:return function(e){var t=RT(e);t.ya.forEach((function(e,n){PL(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new sN(ZT.comparator)}(r),r.Ca=!1,e.next=25,cM(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),_F.apply(this,arguments)}function xF(e,t,n){return IF.apply(this,arguments)}function IF(){return IF=at(rt().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d,p,v,m,g;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=RT(t),a=[],o=[],s=R(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(h=i.fa.get(c))||0===h.length){e.next=34;break}return e.next=11,zO(i.localStore,DR(h[0]));case 11:l=e.sent,f=R(h),e.prev=13,f.s();case 15:if((d=f.n()).done){e.next=24;break}return p=d.value,v=i.ma.get(p),e.next=20,vF(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,HO(i.localStore,c);case 36:return g=e.sent,e.next=39,zO(i.localStore,g);case 39:return l=e.sent,e.next=42,VM(i,EF(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Va.a_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),IF.apply(this,arguments)}function EF(e){return CR(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function SF(e){return function(e){return RT(RT(e).persistence).Bi()}(RT(e).localStore)}function TF(e,t,n,r){return CF.apply(this,arguments)}function CF(){return CF=at(rt().mark((function e(t,n,r,i){var a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=RT(t)).Ca){e.next=3;break}return e.abrupt("return",void IT("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.fa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,KO(a.localStore,zR(o[0]));case 10:return s=e.sent,u=JP.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,vN.EMPTY_BYTE_STRING),e.next=14,lF(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,BO(a.localStore,n,!0);case 17:return aF(a,n,i),e.abrupt("break",20);case 19:CT();case 20:case"end":return e.stop()}}),e)}))),CF.apply(this,arguments)}function NF(e,t,n){return RF.apply(this,arguments)}function RF(){return RF=at(rt().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=PF(t)).Ca){e.next=45;break}a=R(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.fa.has(s)){e.next=10;break}return IT("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,HO(i.localStore,s);case 12:return u=e.sent,e.next=15,zO(i.localStore,u);case 15:return c=e.sent,e.next=18,VM(i,EF(u),c.targetId,!1,c.resumeToken);case 18:RL(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=R(r),e.prev=30,f=rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.fa.has(t),!e.t0){e.next=5;break}return e.next=5,BO(i.localStore,t,!1).then((function(){PL(i.remoteStore,t),aF(i,t)})).catch(hC);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),RF.apply(this,arguments)}function PF(e){var t=RT(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=KM.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YM.bind(null,t),t.Va.a_=IM.bind(null,t.eventManager),t.Va.Fa=EM.bind(null,t.eventManager),t}function AF(e){var t=RT(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZM.bind(null,t),t}function DF(e,t,n){var r=RT(e);(function(){var e=at(rt().mark((function e(t,n,r){var i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=RT(e),r=pA(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(PM(i)),a=new RM(i,t.localStore,n.serializer),e.next=15,n.Ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ea(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,lF(t,u.ra,void 0);case 31:return e.next=33,function(e,t){var n=RT(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.na));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ST("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var OF=function(){function e(){v(this,e),this.synchronizeTabs=!1}return k(e,[{key:"initialize",value:function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=yL(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return DO(this.persistence,new PO,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new kO(bO.jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new sL}},{key:"terminate",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),LF=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).xa=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return k(n,[{key:"initialize",value:function(){var e=at(rt().mark((function e(t){var r=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs(_(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.xa.initialize(this,t);case 4:return e.next=6,AF(this.xa.syncEngine);case 6:return e.next=8,GL(this.xa.remoteStore);case 8:return e.next=10,this.persistence.mi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return DO(this.persistence,new PO,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new YD(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new IC(t,this.persistence);return new xC(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=CO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?OD.withCacheSize(this.cacheSizeBytes):OD.DEFAULT;return new EO(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,mL(),gL(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new sL}}]),n}(OF),MF=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r,!1)).xa=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return k(n,[{key:"initialize",value:function(){var e=at(rt().mark((function e(t){var r,i=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs(_(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.xa.syncEngine,e.t0=this.sharedClientState instanceof oL,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Ys:kF.bind(null,r),Zs:TF.bind(null,r),Xs:NF.bind(null,r),Bi:SF.bind(null,r),Js:gF.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.mi(function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bF(i.xa.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=mL();if(!oL.D(t))throw new AT(PT.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=CO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oL(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(LF),FF=function(){function e(){v(this,e)}return k(e,[{key:"initialize",value:function(){var e=at(rt().mark((function e(t,n){var r=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return QM(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=fF.bind(null,this.syncEngine),e.next=12,cM(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new kM}},{key:"createDatastore",value:function(e){var t=yL(e.databaseInfo.databaseId),n=function(e){return new vL(e)}(e.databaseInfo);return function(e,t,n,r){return new xL(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new EL(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return QM(t.syncEngine,e,0)}),cL.D()?new cL:new uL)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new FM(e,t,n,r,i,a);return o&&(s.Ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=RT(t),IT("RemoteStore","RemoteStore shutting down."),n.C_.add(5),e.next=5,CL(n);case 5:n.F_.shutdown(),n.M_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function jF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return at(rt().mark((function r(){var i;return rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var UF=function(){function e(t){v(this,e),this.observer=t,this.muted=!1}return k(e,[{key:"next",value:function(e){this.observer.next&&this.Oa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Oa(this.observer.error,e):ET("Uncaught Error in snapshot listener:",e.toString())}},{key:"Na",value:function(){this.muted=!0}},{key:"Oa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),VF=function(){function e(t,n){var r=this;v(this,e),this.Ba=t,this.serializer=n,this.metadata=new DT,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((function(e){e&&e.Z_()?r.metadata.resolve(e.Y_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(function(e){return r.metadata.reject(e)}))}return k(e,[{key:"close",value:function(){return this.Ba.cancel()}},{key:"getMetadata",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ma",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ka());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){var e=at(rt().mark((function e(){var t,n,r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.qa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.La.decode(t),r=Number(n),isNaN(r)&&this.Qa("length string (".concat(n,") is not valid number")),e.next=9,this.Ka(r);case 9:return i=e.sent,e.abrupt("return",new CM(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$a",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"qa",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.$a()<0)){e.next=7;break}return e.next=3,this.Ua();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.$a())<0&&this.Qa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ka",value:function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ua();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Qa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.La.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qa",value:function(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ua",value:function(){var e=at(rt().mark((function e(){var t,n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ba.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zF=function(){function e(t){v(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return k(e,[{key:"lookup",value:function(){var e=at(rt().mark((function e(t){var n,r=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new AT(PT.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=at(rt().mark((function e(t,n){var r,i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RT(t),i=bA(r.serializer)+"/documents",a={documents:n.map((function(e){return gA(r.serializer,e)}))},e.next=5,r.Co("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=EA(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());NT(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new MP(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=at(rt().mark((function e(){var t,n=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ZT.fromPath(t);n.mutations.push(new FP(r,n.precondition(r)))})),e.next=7,function(){var e=at(rt().mark((function e(t,n){var r,i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RT(t),i=bA(r.serializer)+"/documents",a={writes:n.map((function(e){return SA(r.serializer,e)}))},e.next=3,r.wo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw CT();t=QT.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new AT(PT.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(QT.min())?bP.exists(!1):bP.updateTime(t):bP.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(QT.min()))throw new AT(PT.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bP.updateTime(t)}return bP.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),BF=function(){function e(t,n,r,i,a){v(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Wa=r.maxAttempts,this.zo=new kL(this.asyncQueue,"transaction_retry")}return k(e,[{key:"run",value:function(){this.Wa-=1,this.Ga()}},{key:"Ga",value:function(){var e=this;this.zo.ko(at(rt().mark((function t(){var n,r;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new zF(e.datastore),(r=e.za(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.ja(t)}))}))})).catch((function(t){e.ja(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"za",value:function(e){try{var t=this.updateFunction(e);return!SC(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"ja",value:function(e){var t=this;this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Ga(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ha",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!BP(t)}return!1}}]),e}(),qF=function(){function e(t,n,r,i){var a=this;v(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wT.UNAUTHENTICATED,this.clientId=qT.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IT("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return IT("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return k(e,[{key:"getConfiguration",value:function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new AT(PT.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new DT;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(at(rt().mark((function n(){var r;return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=pM(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function WF(e,t){return HF.apply(this,arguments)}function HF(){return HF=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),IT("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,OO(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),HF.apply(this,arguments)}function KF(e,t){return GF.apply(this,arguments)}function GF(){return GF=at(rt().mark((function e(t,n){var r,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,YF(t);case 3:return r=e.sent,IT("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return sM(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return sM(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),GF.apply(this,arguments)}function QF(e){return"FirebaseError"===e.name?e.code===PT.FAILED_PRECONDITION||e.code===PT.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function YF(e){return $F.apply(this,arguments)}function $F(){return $F=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return IT("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,WF(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),QF(n=e.t0)){e.next=13;break}throw n;case 13:return ST("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,WF(t,new OF);case 16:e.next=21;break;case 18:return IT("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,WF(t,new OF);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),$F.apply(this,arguments)}function JF(e){return XF.apply(this,arguments)}function XF(){return(XF=at(rt().mark((function e(t){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return IT("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,KF(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return IT("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,KF(t,new FF);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZF(e){return YF(e).then((function(e){return e.persistence}))}function ej(e){return YF(e).then((function(e){return e.localStore}))}function tj(e){return JF(e).then((function(e){return e.remoteStore}))}function nj(e){return JF(e).then((function(e){return e.syncEngine}))}function rj(e){return JF(e).then((function(e){return e.datastore}))}function ij(e){return aj.apply(this,arguments)}function aj(){return aj=at(rt().mark((function e(t){var n,r;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JF(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=jM.bind(null,n.syncEngine),r.onUnlisten=BM.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),aj.apply(this,arguments)}function oj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new DT;return e.asyncQueue.enqueueAndForget(at(rt().mark((function i(){return rt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new UF({next:function(a){t.enqueueAndForget((function(){return _M(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new AT(PT.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new AT(PT.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new TM(NR(n.path),a,{includeMetadataChanges:!0,J_:!0});return wM(e,o)},i.next=3,ij(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function sj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new DT;return e.asyncQueue.enqueueAndForget(at(rt().mark((function i(){return rt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new UF({next:function(n){t.enqueueAndForget((function(){return _M(e,o)})),n.fromCache&&"server"===r.source?i.reject(new AT(PT.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new TM(n,a,{includeMetadataChanges:!0,J_:!0});return wM(e,o)},i.next=3,ij(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function uj(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var cj=new Map;function lj(e,t,n){if(!n)throw new AT(PT.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function hj(e,t,n,r){if(!0===t&&!0===r)throw new AT(PT.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function fj(e){if(!ZT.isDocumentKey(e))throw new AT(PT.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function dj(e){if(ZT.isDocumentKey(e))throw new AT(PT.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function pj(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":CT()}function vj(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new AT(PT.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pj(e);throw new AT(PT.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function mj(e,t){if(t<=0)throw new AT(PT.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var gj=function(){function e(t){var n,r;if(v(this,e),void 0===t.host){if(void 0!==t.ssl)throw new AT(PT.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new AT(PT.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uj(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new AT(PT.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new AT(PT.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new AT(PT.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return k(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),yj=function(){function e(t,n,r,i){v(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gj({}),this._settingsFrozen=!1}return k(e,[{key:"app",get:function(){if(!this._app)throw new AT(PT.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new AT(PT.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gj(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new LT;switch(e.type){case"firstParty":return new UT(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new AT(PT.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=cj.get(e);t&&(IT("ComponentProvider","Removing Datastore"),cj.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function kj(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=vj(e,yj))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&ST("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=wT.MOCK_USER;else{s=It(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new AT(PT.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wT(c)}e._authCredentials=new MT(new OT(s,u))}}var wj=function(){function e(t,n,r){v(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return k(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),bj=function(){function e(t,n,r){v(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return k(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new _j(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),_j=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r,NR(i)))._path=i,a.type="collection",a}return k(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new bj(this.firestore,null,new ZT(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(wj);function xj(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ln(e),lj("collection","path",t),e instanceof yj){var a=$T.fromString.apply($T,[t].concat(r));return dj(a),new _j(e,null,a)}if(!(e instanceof bj||e instanceof _j))throw new AT(PT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child($T.fromString.apply($T,[t].concat(r)));return dj(o),new _j(e.firestore,null,o)}function Ij(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ln(e),1===arguments.length&&(t=qT.newId()),lj("doc","path",t),e instanceof yj){var a=$T.fromString.apply($T,[t].concat(r));return fj(a),new bj(e,null,new ZT(a))}if(!(e instanceof bj||e instanceof _j))throw new AT(PT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child($T.fromString.apply($T,[t].concat(r)));return fj(o),new bj(e.firestore,e instanceof _j?e.converter:null,new ZT(o))}function Ej(e,t){return e=ln(e),t=ln(t),(e instanceof bj||e instanceof _j)&&(t instanceof bj||t instanceof _j)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Sj(e,t){return e=ln(e),t=ln(t),e instanceof wj&&t instanceof wj&&e.firestore===t.firestore&&FR(e._query,t._query)&&e.converter===t.converter}var Tj=function(){function e(){var t=this;v(this,e),this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new kL(this,"async_queue_retry"),this.iu=function(){var e=gL();e&&IT("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zo.Qo()};var n=gL();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.iu)}return k(e,[{key:"isShuttingDown",get:function(){return this.Za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.su(),this.ou(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Za){this.Za=!0,this.nu=e||!1;var t=gL();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}},{key:"enqueue",value:function(e){var t=this;if(this.su(),this.Za)return new Promise((function(){}));var n=new DT;return this.ou((function(){return t.Za&&t.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ya.push(e),t._u()}))}},{key:"_u",value:function(){var e=at(rt().mark((function e(){var t=this;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ya.length){e.next=14;break}return e.prev=1,e.next=4,this.Ya[0]();case 4:this.Ya.shift(),this.zo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),yC(e.t0)){e.next=12;break}throw e.t0;case 12:IT("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ya.length>0&&this.zo.ko((function(){return t._u()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ou",value:function(e){var t=this,n=this.Ja.then((function(){return t.tu=!0,e().catch((function(e){t.eu=e,t.tu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ET("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.tu=!1,e}))}));return this.Ja=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.su(),this.ru.indexOf(e)>-1&&(t=0);var i=dM.createAndSchedule(this,e,t,n,(function(e){return r.au(e)}));return this.Xa.push(i),i}},{key:"su",value:function(){this.eu&&CT()}},{key:"verifyOperationInProgress",value:function(){}},{key:"uu",value:function(){var e=at(rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ja,e.next=3,t;case 3:if(t!==this.Ja){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(e){var t,n=R(this.Xa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"lu",value:function(e){var t=this;return this.uu().then((function(){t.Xa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=R(t.Xa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.uu()}))}},{key:"hu",value:function(e){this.ru.push(e)}},{key:"au",value:function(e){var t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}]),e}();function Cj(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=R(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Nj=function(){function e(){v(this,e),this._progressObserver={},this._taskCompletionResolver=new DT,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return k(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Rj=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Tj,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return k(n,[{key:"_terminate",value:function(){return this._firestoreClient||Aj(this),this._firestoreClient.terminate()}}]),n}(yj);function Pj(e){return e._firestoreClient||Aj(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Aj(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new xN(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,uj(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new qF(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Dj(e,t,n){var r=new DT;return e.asyncQueue.enqueue(at(rt().mark((function i(){var a;return rt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,WF(e,n);case 3:return i.next=5,KF(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),QF(a=i.t0)){i.next=13;break}throw a;case 13:ST("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Oj(e){return function(e){var t=new DT;return e.asyncQueue.enqueueAndForget(at(rt().mark((function n(){return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=tF,n.next=3,nj(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Pj(e=vj(e,Rj)))}function Lj(e){return function(e){return e.asyncQueue.enqueue(at(rt().mark((function t(){var n,r;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ZF(e);case 2:return n=t.sent,t.next=5,tj(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=RT(e);return t.C_.delete(0),SL(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Pj(e=vj(e,Rj)))}function Mj(e){return function(e){return e.asyncQueue.enqueue(at(rt().mark((function t(){var n,r;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ZF(e);case 2:return n=t.sent,t.next=5,tj(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=RT(t)).C_.add(0),e.next=4,CL(n);case 4:n.M_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Pj(e=vj(e,Rj)))}function Fj(e,t){var n=Pj(e=vj(e,Rj)),r=new Nj;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new VF(e,t)}(function(e,t){if(e instanceof Uint8Array)return jF(e,t);if(e instanceof ArrayBuffer)return jF(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?HP().encode(e):e),t)}(n,yL(t));e.asyncQueue.enqueueAndForget(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=DF,t.next=3,nj(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function jj(e,t){return function(e,t){return e.asyncQueue.enqueue(at(rt().mark((function n(){return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=RT(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kr.getNamedQuery(e,t)}))},n.next=3,ej(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Pj(e=vj(e,Rj)),t).then((function(t){return t?new wj(e,null,t.query):null}))}function Uj(e){if(e._initialized||e._terminated)throw new AT(PT.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Vj=function(){function e(t){v(this,e),this._byteString=t}return k(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(vN.fromBase64String(t))}catch(t){throw new AT(PT.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(vN.fromUint8Array(t))}}]),e}(),zj=function(){function e(){v(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new AT(PT.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new XT(n)}return k(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Bj=k((function e(t){v(this,e),this._methodName=t})),qj=function(){function e(t,n){if(v(this,e),!isFinite(t)||t<-90||t>90)throw new AT(PT.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new AT(PT.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return k(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return WT(this._lat,e._lat)||WT(this._long,e._long)}}]),e}(),Wj=/^__.*__$/,Hj=function(){function e(t,n,r){v(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new RP(e,this.data,this.fieldMask,t,this.fieldTransforms):new NP(e,this.data,t,this.fieldTransforms)}}]),e}(),Kj=function(){function e(t,n,r){v(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return new RP(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Gj(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw CT()}}var Qj=function(){function e(t,n,r,i,a,o){v(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Pu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return k(e,[{key:"path",get:function(){return this.settings.path}},{key:"Iu",get:function(){return this.settings.Iu}},{key:"Tu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Eu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}},{key:"Ru",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}},{key:"Vu",value:function(e){return this.Tu({path:void 0,du:!0})}},{key:"mu",value:function(e){return pU(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Pu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Au(this.path.get(e))}},{key:"Au",value:function(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Gj(this.Iu)&&Wj.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}]),e}(),Yj=function(){function e(t,n,r){v(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||yL(t)}return k(e,[{key:"pu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Qj({Iu:e,methodName:t,gu:n,path:XT.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function $j(e){var t=e._freezeSettings(),n=yL(e._databaseId);return new Yj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Jj(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.pu(a.merge||a.mergeFields?2:0,t,n,i);lU("Data must be an object, but it was:",o,r);var s,u,c=uU(r,o);if(a.merge)s=new dN(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=R(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=hU(t,l.value,n);if(!o.contains(d))throw new AT(PT.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));vU(h,d)||h.push(d)}}catch(p){f.e(p)}finally{f.f()}s=new dN(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Hj(new KN(c),s,u)}var Xj=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Bj);function Zj(e,t,n){return new Qj({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var eU=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){return new kP(e.path,new hP)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Bj),tU=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).yu=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=Zj(this,e,!0),n=this.yu.map((function(e){return sU(e,t)})),r=new fP(n);return new kP(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Bj),nU=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).yu=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=Zj(this,e,!0),n=this.yu.map((function(e){return sU(e,t)})),r=new pP(n);return new kP(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Bj),rU=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).wu=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=new mP(e.serializer,oP(e.serializer,this.wu));return new kP(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Bj);function iU(e,t,n,r){var i=e.pu(1,t,n);lU("Data must be an object, but it was:",i,r);var a=[],o=KN.empty();aN(r,(function(e,r){var s=dU(t,e,n);r=ln(r);var u=i.Ru(s);if(r instanceof Xj)a.push(s);else{var c=sU(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new dN(a);return new Kj(o,s,i.fieldTransforms)}function aU(e,t,n,r,i,a){var o=e.pu(1,t,n),s=[hU(t,r,n)],u=[i];if(a.length%2!=0)throw new AT(PT.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(hU(t,a[c])),u.push(a[c+1]);for(var l=[],h=KN.empty(),f=s.length-1;f>=0;--f)if(!vU(l,s[f])){var d=s[f],p=u[f];p=ln(p);var v=o.Ru(d);if(p instanceof Xj)l.push(d);else{var m=sU(p,v);null!=m&&(l.push(d),h.set(d,m))}}var g=new dN(l);return new Kj(h,g,o.fieldTransforms)}function oU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return sU(n,e.pu(r?4:3,t))}function sU(e,t){if(cU(e=ln(e)))return lU("Unsupported field value:",t,e),uU(e,t);if(e instanceof Bj)return function(e,t){if(!Gj(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=R(e);try{for(a.s();!(n=a.n()).done;){var o=sU(n.value,t.Vu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ln(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return oP(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=GT.fromDate(e);return{timestampValue:hA(t.serializer,n)}}if(e instanceof GT){var r=new GT(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hA(t.serializer,r)}}if(e instanceof qj)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vj)return{bytesValue:fA(t.serializer,e._byteString)};if(e instanceof bj){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.mu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:vA(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(pj(e)))}(e,t)}function uU(e,t){var n={};return oN(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aN(e,(function(e,r){var i=sU(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function cU(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof GT||e instanceof qj||e instanceof Vj||e instanceof bj||e instanceof Bj)}function lU(e,t,n){if(!cU(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=pj(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function hU(e,t,n){if((t=ln(t))instanceof zj)return t._internalPath;if("string"==typeof t)return dU(e,t);throw pU("Field path arguments must be of type string or ",e,!1,void 0,n)}var fU=new RegExp("[~\\*/\\[\\]]");function dU(e,t,n){if(t.search(fU)>=0)throw pU("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return T(zj,p(t.split(".")))._internalPath}catch(g_){throw pU("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pU(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new AT(PT.INVALID_ARGUMENT,s+e+u)}function vU(e,t){return e.some((function(e){return e.isEqual(t)}))}var mU=function(){function e(t,n,r,i,a){v(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return k(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new bj(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new gU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(yU("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),gU=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){return Vs(_(n.prototype),"data",this).call(this)}}]),n}(mU);function yU(e,t){return"string"==typeof t?dU(e,t):t instanceof zj?t._internalPath:t._delegate._internalPath}function kU(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new AT(PT.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wU=k((function e(){v(this,e)})),bU=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n)}(wU);function _U(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof wU&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof IU})).length,n=e.filter((function(e){return e instanceof xU})).length;if(t>1||t>0&&n>0)throw new AT(PT.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=R(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var xU=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return k(n,[{key:"_apply",value:function(e){var t=this._parse(e);return MU(e._query,t),new wj(e.firestore,e.converter,LR(e._query,t))}},{key:"_parse",value:function(e){var t=$j(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new AT(PT.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){LU(o,a);var u,c=[],l=R(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(OU(r,e,h))}}catch(f){l.e(f)}finally{l.f()}s={arrayValue:{values:c}}}else s=OU(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||LU(o,a),s=oU(n,t,o,"in"===a||"not-in"===a);return tR.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(bU);var IU=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return k(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:nR.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=R(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;MU(r,a),r=LR(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new wj(e.firestore,e.converter,LR(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(wU);var EU=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return k(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new AT(PT.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new AT(PT.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new XN(t,n)}(e._query,this._field,this._direction);return new wj(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new TR(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(bU);var SU=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return k(n,[{key:"_apply",value:function(e){return new wj(e.firestore,e.converter,MR(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(bU);var TU=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return k(n,[{key:"_apply",value:function(e){var t=DU(e,this.type,this._docOrFields,this._inclusive);return new wj(e.firestore,e.converter,function(e,t){return new TR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(bU);function CU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TU._create("startAt",t,!0)}function NU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TU._create("startAfter",t,!1)}var RU=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return k(n,[{key:"_apply",value:function(e){var t=DU(e,this.type,this._docOrFields,this._inclusive);return new wj(e.firestore,e.converter,function(e,t){return new TR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(bU);function PU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return RU._create("endBefore",t,!1)}function AU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return RU._create("endAt",t,!0)}function DU(e,t,n,r){if(n[0]=ln(n[0]),n[0]instanceof mU)return function(e,t,n,r,i){if(!r)throw new AT(PT.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=R(AR(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(ON(t,r.key));else{var c=r.data.field(u.field);if(wN(c))throw new AT(PT.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new AT(PT.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(h){s.e(h)}finally{s.f()}return new YN(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=$j(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new AT(PT.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new AT(PT.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!PR(e)&&-1!==c.indexOf("/"))throw new AT(PT.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child($T.fromString(c));if(!ZT.isDocumentKey(l))throw new AT(PT.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var h=new ZT(l);s.push(ON(t,h))}else{var f=oU(n,r,c);s.push(f)}}return new YN(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function OU(e,t,n){if("string"==typeof(n=ln(n))){if(""===n)throw new AT(PT.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PR(t)&&-1!==n.indexOf("/"))throw new AT(PT.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child($T.fromString(n));if(!ZT.isDocumentKey(r))throw new AT(PT.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ON(e,new ZT(r))}if(n instanceof bj)return ON(e,n._key);throw new AT(PT.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(pj(n),"."))}function LU(e,t){if(!Array.isArray(e)||0===e.length)throw new AT(PT.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function MU(e,t){var n=function(e,t){var n,r=R(e);try{for(r.s();!(n=r.n()).done;){var i,a=R(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new AT(PT.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new AT(PT.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var FU=function(){function e(){v(this,e)}return k(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(TN(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yN(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kN(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw CT()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return aN(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new qj(yN(e.latitude),yN(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=bN(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_N(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=gN(e);return new GT(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=$T.fromString(e);NT(UA(n));var r=new IN(n.get(1),n.get(3)),i=new ZT(n.popFirst(5));return r.isEqual(t)||ET("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function jU(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var UU=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new Vj(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bj(this.firestore,null,t)}}]),n}(FU);var VU=function(){function e(t,n){v(this,e),this.hasPendingWrites=t,this.fromCache=n}return k(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),zU=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,s){var u;return v(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return k(n,[{key:"exists",value:function(){return Vs(_(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new BU(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(yU("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(mU),BU=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Vs(_(n.prototype),"data",this).call(this,e)}}]),n}(zU),qU=function(){function e(t,n,r,i){v(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new VU(i.hasPendingWrites,i.fromCache),this.query=r}return k(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new BU(n._firestore,n._userDataWriter,r.key,r,new VU(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new AT(PT.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new BU(e._firestore,e._userDataWriter,t.doc.key,t.doc,new VU(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new BU(e._firestore,e._userDataWriter,t.doc.key,t.doc,new VU(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:WU(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function WU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return CT()}}function HU(e,t){return e instanceof zU&&t instanceof zU?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof qU&&t instanceof qU&&e._firestore===t._firestore&&Sj(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var KU=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new Vj(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bj(this.firestore,null,t)}}]),n}(FU);function GU(e){e=vj(e,bj);var t=vj(e.firestore,Rj),n=Pj(t),r=new KU(t);return function(e,t){var n=new DT;return e.asyncQueue.enqueueAndForget(at(rt().mark((function r(){return rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=at(rt().mark((function e(t,n,r){var i,a;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=RT(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new AT(PT.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=pM(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ej(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new zU(t,r,e._key,n,new VU(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function QU(e){e=vj(e,wj);var t=vj(e.firestore,Rj),n=Pj(t),r=new KU(t);return kU(e._query),sj(n,e._query).then((function(n){return new qU(t,r,e,n)}))}function YU(e){e=vj(e,wj);var t=vj(e.firestore,Rj),n=Pj(t),r=new KU(t);return function(e,t){var n=new DT;return e.asyncQueue.enqueueAndForget(at(rt().mark((function r(){return rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=at(rt().mark((function e(t,n,r){var i,a,o,s,u;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,WO(t,n,!0);case 3:i=e.sent,a=new OM(n,i.ls),o=a.ca(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=pM(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ej(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new qU(t,r,e,n)}))}function $U(e,t,n){e=vj(e,bj);var r=vj(e.firestore,Rj),i=jU(e.converter,t,n);return tV(r,[Jj($j(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,bP.none())])}function JU(e,t,n){e=vj(e,bj);for(var r=vj(e.firestore,Rj),i=$j(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return tV(r,[("string"==typeof(t=ln(t))||t instanceof zj?aU(i,"updateDoc",e._key,t,n,o):iU(i,"updateDoc",e._key,t)).toMutation(e._key,bP.exists(!0))])}function XU(e,t){var n=vj(e.firestore,Rj),r=Ij(e),i=jU(e.converter,t);return tV(n,[Jj($j(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,bP.exists(!1))]).then((function(){return r}))}function ZU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ln(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Cj(n[u])||(s=n[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(Cj(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof bj)l=vj(e.firestore,Rj),h=NR(e._key.path),c={next:function(t){n[u]&&n[u](nV(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=vj(e,wj);l=vj(p.firestore,Rj),h=p._query;var v=new KU(l);c={next:function(e){n[u]&&n[u](new qU(l,v,p,e))},error:n[u+1],complete:n[u+2]},kU(e._query)}return function(e,t,n,r){var i=new UF(r),a=new TM(t,i,n);return e.asyncQueue.enqueueAndForget(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wM,t.next=3,ij(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Na(),e.asyncQueue.enqueueAndForget(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_M,t.next=3,ij(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Pj(l),h,f,c)}function eV(e,t){return function(e,t){var n=new UF(t);return e.asyncQueue.enqueueAndForget(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){RT(e).q_.add(t),t.next()},t.next=3,ij(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Na(),e.asyncQueue.enqueueAndForget(at(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){RT(e).q_.delete(t)},t.next=3,ij(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Pj(e=vj(e,Rj)),Cj(t)?t:{next:t})}function tV(e,t){return function(e,t){var n=new DT;return e.asyncQueue.enqueueAndForget(at(rt().mark((function r(){return rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=WM,r.next=3,nj(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Pj(e),t)}function nV(e,t,n){var r=n.docs.get(t._key),i=new KU(e);return new zU(e,i,t._key,r,new VU(n.hasPendingWrites,n.fromCache),t.converter)}var rV={maxAttempts:5},iV=function(){function e(t,n){v(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$j(t)}return k(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=aV(e,this._firestore),i=jU(r.converter,t,n),a=Jj(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,bP.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=aV(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ln(t))||t instanceof zj?aU(this._dataReader,"WriteBatch.update",i._key,t,n,o):iU(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,bP.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=aV(e,this._firestore);return this._mutations=this._mutations.concat(new MP(t._key,bP.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new AT(PT.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function aV(e,t){if((e=ln(e)).firestore!==t)throw new AT(PT.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var oV=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r))._firestore=e,i}return k(n,[{key:"get",value:function(e){var t=this,r=aV(e,this._firestore),i=new KU(this._firestore);return Vs(_(n.prototype),"get",this).call(this,e).then((function(e){return new zU(t._firestore,i,r._key,e._document,new VU(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){v(this,e),this._firestore=t,this._transaction=n,this._dataReader=$j(t)}return k(e,[{key:"get",value:function(e){var t=this,n=aV(e,this._firestore),r=new UU(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return CT();var i=e[0];if(i.isFoundDocument())return new mU(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new mU(t._firestore,r,n._key,null,n.converter);throw CT()}))}},{key:"set",value:function(e,t,n){var r=aV(e,this._firestore),i=jU(r.converter,t,n),a=Jj(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=aV(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ln(t))||t instanceof zj?aU(this._dataReader,"Transaction.update",i._key,t,n,o):iU(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=aV(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function sV(e,t,n){e=vj(e,Rj);var r=Object.assign(Object.assign({},rV),n);return function(e){if(e.maxAttempts<1)throw new AT(PT.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new DT;return e.asyncQueue.enqueueAndForget(at(rt().mark((function i(){var a;return rt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,rj(e);case 2:a=i.sent,new BF(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Pj(e),(function(n){return t(new oV(e,n))}),r)}function uV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tU("arrayUnion",t)}function cV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nU("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){bT=e}(sr),er(new hn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Rj(new FT(e.getProvider("auth-internal")),new zT(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new AT(PT.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new IN(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),dr(kT,"4.4.0",e),dr(kT,"4.4.0","esm2017")}();function lV(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new AT("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function hV(){if("undefined"===typeof Uint8Array)throw new AT("unimplemented","Uint8Arrays are not available in this environment.")}function fV(){if("undefined"==typeof atob)throw new AT("unimplemented","Blobs are unavailable in Firestore in this environment.")}var dV=function(){function e(t){v(this,e),this._delegate=t}return k(e,[{key:"toBase64",value:function(){return fV(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return hV(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return fV(),new e(Vj.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return hV(),new e(Vj.fromUint8Array(t))}}]),e}();function pV(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=R(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var vV=function(){function e(){v(this,e)}return k(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Uj(e=vj(e,Rj));var n=Pj(e);if(n._uninitializedComponentsProvider)throw new AT(PT.FAILED_PRECONDITION,"SDK cache is already specified.");ST("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new FF;return Dj(n,i,new LF(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Uj(e=vj(e,Rj));var t=Pj(e);if(t._uninitializedComponentsProvider)throw new AT(PT.FAILED_PRECONDITION,"SDK cache is already specified.");ST("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new FF;return Dj(t,r,new MF(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new AT(PT.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new DT;return e._queue.enqueueAndForgetEvenWhileRestricted(at(rt().mark((function n(){return rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=at(rt().mark((function e(t){var n;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vC.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,vC.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(CO(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),mV=function(){function e(t,n,r){var i=this;v(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof IN||(this._appCompat=t)}return k(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ST("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};kj(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Lj(this._delegate)}},{key:"disableNetwork",value:function(){return Mj(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&hj("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Oj(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return eV(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new AT("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new RV(this,xj(this._delegate,e))}catch(t){throw _V(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new bV(this,Ij(this._delegate,e))}catch(t){throw _V(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new TV(this,function(e,t){if(e=vj(e,yj),lj("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new AT(PT.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new wj(e,null,function(e){return new TR($T.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw _V(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return sV(this._delegate,(function(n){return e(new yV(t,n))}))}},{key:"batch",value:function(){var e=this;return Pj(this._delegate),new kV(new iV(this._delegate,(function(t){return tV(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Fj(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return jj(this._delegate,e).then((function(e){return e?new TV(t,e):null}))}}]),e}(),gV=function(e){b(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new dV(new Vj(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return bV.forKey(t,this.firestore,null)}}]),n}(FU);var yV=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new gV(t)}return k(e,[{key:"get",value:function(e){var t=this,n=PV(e);return this._delegate.get(n).then((function(e){return new EV(t._firestore,new zU(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=PV(e);return n?(lV("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=PV(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=PV(e);return this._delegate.delete(t),this}}]),e}(),kV=function(){function e(t){v(this,e),this._delegate=t}return k(e,[{key:"set",value:function(e,t,n){var r=PV(e);return n?(lV("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=PV(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=PV(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),wV=function(){function e(t,n,r){v(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return k(e,[{key:"fromFirestore",value:function(e,t){var n=new BU(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new SV(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new gV(t),n),i.set(n,a)),a}}]),e}();wV.INSTANCES=new WeakMap;var bV=function(){function e(t,n){v(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new gV(t)}return k(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new RV(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new RV(this.firestore,xj(this._delegate,e))}catch(t){throw _V(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ln(e))instanceof bj&&Ej(this._delegate,e)}},{key:"set",value:function(e,t){t=lV("DocumentReference.set",t);try{return t?$U(this._delegate,e,t):$U(this._delegate,e)}catch(n){throw _V(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?JU(this._delegate,e):JU.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw _V(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return tV(vj((e=this._delegate).firestore,Rj),[new MP(e._key,bP.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xV(n),a=IV(n,(function(t){return new EV(e.firestore,new zU(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ZU(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?GU(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=vj(e,bj);var t=vj(e.firestore,Rj);return oj(Pj(t),e._key,{source:"server"}).then((function(n){return nV(t,e,n)}))}(this._delegate):function(e){e=vj(e,bj);var t=vj(e.firestore,Rj);return oj(Pj(t),e._key).then((function(n){return nV(t,e,n)}))}(this._delegate),t.then((function(e){return new EV(n.firestore,new zU(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(wV.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new AT("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new bj(n._delegate,r,new ZT(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new bj(n._delegate,r,t))}}]),e}();function _V(e,t,n){return e.message=e.message.replace(t,n),e}function xV(e){var t,n=R(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!pV(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function IV(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=pV(e[0])?e[0]:pV(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var EV=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"ref",get:function(){return new bV(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return HU(this._delegate,e._delegate)}}]),e}(),SV=function(e){b(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return this._delegate._converter||void 0!==t||CT(),t}}]),n}(EV),TV=function(){function e(t,n){v(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new gV(t)}return k(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,_U(this._delegate,function(e,t,n){var r=t,i=yU("where",e);return xU._create(i,r,n)}(t,n,r)))}catch(i){throw _V(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,_U(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=yU("orderBy",e);return EU._create(n,t)}(t,n)))}catch(r){throw _V(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,_U(this._delegate,(mj("limit",n=t),SU._create("limit",n,"F"))))}catch(n){throw _V(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,_U(this._delegate,(mj("limitToLast",n=t),SU._create("limitToLast",n,"L"))))}catch(n){throw _V(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,_U(this._delegate,CU.apply(void 0,arguments)))}catch(t){throw _V(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,_U(this._delegate,NU.apply(void 0,arguments)))}catch(t){throw _V(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,_U(this._delegate,PU.apply(void 0,arguments)))}catch(t){throw _V(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,_U(this._delegate,AU.apply(void 0,arguments)))}catch(t){throw _V(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Sj(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?YU(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=vj(e,wj);var t=vj(e.firestore,Rj),n=Pj(t),r=new KU(t);return sj(n,e._query,{source:"server"}).then((function(n){return new qU(t,r,e,n)}))}(this._delegate):QU(this._delegate),t.then((function(e){return new NV(n.firestore,new qU(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xV(n),a=IV(n,(function(t){return new NV(e.firestore,new qU(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ZU(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(wV.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),CV=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new SV(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),NV=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"query",get:function(){return new TV(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new SV(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new CV(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new SV(n._firestore,r))}))}},{key:"isEqual",value:function(e){return HU(this._delegate,e._delegate)}}]),e}(),RV=function(e){b(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return k(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new bV(this.firestore,e):null}},{key:"doc",value:function(e){try{return new bV(this.firestore,void 0===e?Ij(this._delegate):Ij(this._delegate,e))}catch(t){throw _V(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return XU(this._delegate,e).then((function(e){return new bV(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Ej(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(wV.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(TV);function PV(e){return vj(e,bj)}var AV=function(){function e(){v(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=T(zj,n)}return k(e,[{key:"isEqual",value:function(e){return(e=ln(e))instanceof zj&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(XT.keyField().canonicalString())}}]),e}(),DV=function(){function e(t){v(this,e),this._delegate=t}return k(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new eU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Xj("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=uV.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=cV.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new rU("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),OV={Firestore:mV,GeoPoint:qj,Timestamp:GT,Blob:dV,Transaction:yV,WriteBatch:kV,DocumentReference:bV,DocumentSnapshot:EV,Query:TV,QueryDocumentSnapshot:SV,QuerySnapshot:NV,CollectionReference:RV,FieldPath:AV,FieldValue:DV,setLogLevel:function(e){var t;t=e,_T.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new hn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},OV)))}(e,(function(e,t){return new mV(e,t,new vV)})),e.registerVersion("@firebase/firestore-compat","0.3.23")}(xo);var LV,MV,FV=ur({apiKey:"AIzaSyC5EmKDbYvqOXqMnDpE-uWLWS7S7J6R3Nw",authDomain:"restaurant-89325.firebaseapp.com",databaseURL:"https://restaurant-89325-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"restaurant-89325",storageBucket:"restaurant-89325.appspot.com",messagingSenderId:"727735699727",appId:"1:727735699727:web:49ffd9db3eaf3a6bfd967a",measurementId:"G-X5WKFD73EN"}),jV=(ho(FV),function(e,t){var n="string"==typeof e?e:t||"(default)",r=tr("object"==typeof e?e:cr(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=bt("firestore");i&&kj.apply(void 0,[r].concat(p(i)))}return r}(FV)),UV=Fs(FV),VV=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1],i=function(){var e=at(rt().mark((function e(){var t,n,i;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xj(jV,"CRUD"),e.next=3,QU(t);case 3:n=e.sent,i=n.docs.map((function(e){return In(In({},e.data()),{},{id:e.id})})),r(i);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){i()}),[]),(0,et.jsx)("div",{className:"flex flex-wrap justify-center",children:n.map((function(e){return(0,et.jsxs)("div",{class:"flex-shrink-0 m-6 relative overflow-hidden rounded-lg max-w-xs shadow-md -z-40",children:[(0,et.jsxs)("svg",{class:"absolute bottom-0 left-0 mb-8",viewBox:"0 0 375 283",fill:"none",transform:"scle(1.5)",children:[(0,et.jsx)("rect",{x:"159.52",y:"175",width:"152",height:"152",rx:"8",transform:"rotate(-45 159.52 175)",fill:"white"}),(0,et.jsx)("rect",{y:"107.48",width:"152",height:"152",rx:"8",transform:"rotate(-45 0 107.48)",fill:"white"})]}),(0,et.jsx)("div",{class:"relative pt-10 px-10 flex items-center justify-center",children:(0,et.jsx)("img",{class:"relative w-40",src:null===e||void 0===e?void 0:e.imgurl})}),(0,et.jsx)("div",{class:"relative text-black px-6 pb-6 mt-6",children:(0,et.jsxs)("div",{class:"flex justify-between",children:[(0,et.jsx)("span",{class:"block font-semibold text-xl",children:e.txtVal}),(0,et.jsx)("span",{class:" bg-white rounded-full text-xs font-bold px-3 py-2 leading-none flex items-center",children:e.txtPrice})]})})]})}))})},zV=function(){return(0,et.jsxs)("section",{children:[(0,et.jsxs)("div",{class:"flex flex-col justify-center items-center ",children:[(0,et.jsx)("img",{src:"https://images.unsplash.com/photo-1499951360447-b19be8fe80f5",alt:"Logo",class:"object-cover w-40 h-40 mb-8 rounded-full"}),(0,et.jsx)("h1",{class:"text-4xl font-bold mb-4",children:"PHEAKTRA RES"}),(0,et.jsx)("p",{class:"text-lg mb-8 px-4 md:px-0",children:"We're working hard to bring you something awesome. Stay tuned!"}),(0,et.jsxs)("div",{class:"mb-5 flex justify-center items-center space-x-4",children:[(0,et.jsx)($e,{to:"/Food",href:"#",class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:"View Food"}),(0,et.jsx)($e,{to:"/add",href:"#",class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:"Add Food"}),(0,et.jsx)($e,{to:"/Qrcode",href:"#",class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:"QR Code"})]})]}),(0,et.jsx)("div",{class:" mx-auto lg:w-5/6",children:(0,et.jsxs)("div",{class:"p-3 flex items-center justify-between border-t cursor-pointer hover:bg-gray-200 shadow-sm",children:[(0,et.jsxs)("div",{class:"flex items-center",children:[(0,et.jsx)("img",{class:"rounded-full h-24 w-24",src:!0,alt:"Food"}),(0,et.jsx)("div",{class:"ml-6 flex flex-col",children:(0,et.jsx)("div",{class:"leading-snug text-sm lg:text-lg text-gray-900 font-bold",children:"Jane doe"})})]}),(0,et.jsx)("p",{children:"2.25$"}),(0,et.jsxs)("div",{className:"",children:[(0,et.jsx)("button",{class:"h-8 px-3 mx-2 text-md font-bold text-blue-400 border border-blue-400 rounded-full hover:bg-blue-500 hover:text-white",children:"Edit"}),(0,et.jsx)("button",{class:"h-8 px-3 text-md font-bold text-blue-400 border border-blue-400 rounded-full hover:bg-red-500 hover:text-white",children:"Delete"})]})]})})]})},BV=Object.defineProperty,qV=Object.getOwnPropertySymbols,WV=Object.prototype.hasOwnProperty,HV=Object.prototype.propertyIsEnumerable,KV=function(e,t,n){return t in e?BV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},GV=function(e,t){for(var n in t||(t={}))WV.call(t,n)&&KV(e,n,t[n]);if(qV){var r,i=R(qV(t));try{for(i.s();!(r=i.n()).done;){n=r.value;HV.call(t,n)&&KV(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},QV=function(e,t){var n={};for(var r in e)WV.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&qV){var i,a=R(qV(e));try{for(a.s();!(i=a.n()).done;){r=i.value;t.indexOf(r)<0&&HV.call(e,r)&&(n[r]=e[r])}}catch(o){a.e(o)}finally{a.f()}}return n};!function(e){var t=function(){function t(e,n,r,i){if(v(this,t),this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=4*e+17;for(var o=[],s=0;s<this.size;s++)o.push(!1);for(var u=0;u<this.size;u++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();var c=this.addEccAndInterleave(r);if(this.drawCodewords(c),-1==i)for(var l=1e9,h=0;h<8;h++){this.applyMask(h),this.drawFormatBits(h);var f=this.getPenaltyScore();f<l&&(i=h,l=f),this.applyMask(h)}a(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}return k(t,[{key:"getModule",value:function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),n=t.length,r=0;r<n;r++)for(var i=0;i<n;i++)0==r&&0==i||0==r&&i==n-1||r==n-1&&0==i||this.drawAlignmentPattern(t[r],t[i]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,n=t,r=0;r<10;r++)n=n<<1^1335*(n>>>9);var o=21522^(t<<10|n);a(o>>>15==0);for(var s=0;s<=5;s++)this.setFunctionModule(8,s,i(o,s));this.setFunctionModule(8,7,i(o,6)),this.setFunctionModule(8,8,i(o,7)),this.setFunctionModule(7,8,i(o,8));for(var u=9;u<15;u++)this.setFunctionModule(14-u,8,i(o,u));for(var c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,i(o,c));for(var l=8;l<15;l++)this.setFunctionModule(8,this.size-15+l,i(o,l));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var n=this.version<<12|e;a(n>>>18==0);for(var r=0;r<18;r++){var o=i(n,r),s=this.size-11+r%3,u=Math.floor(r/3);this.setFunctionModule(s,u,o),this.setFunctionModule(u,s,o)}}}},{key:"drawFinderPattern",value:function(e,t){for(var n=-4;n<=4;n++)for(var r=-4;r<=4;r++){var i=Math.max(Math.abs(r),Math.abs(n)),a=e+r,o=t+n;0<=a&&a<this.size&&0<=o&&o<this.size&&this.setFunctionModule(a,o,2!=i&&4!=i)}}},{key:"drawAlignmentPattern",value:function(e,t){for(var n=-2;n<=2;n++)for(var r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}},{key:"setFunctionModule",value:function(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}},{key:"addEccAndInterleave",value:function(e){var n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");for(var i=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],o=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],s=Math.floor(t.getNumRawDataModules(n)/8),u=i-s%i,c=Math.floor(s/i),l=[],h=t.reedSolomonComputeDivisor(o),f=0,d=0;f<i;f++){var p=e.slice(d,d+c-o+(f<u?0:1));d+=p.length;var v=t.reedSolomonComputeRemainder(p,h);f<u&&p.push(0),l.push(p.concat(v))}for(var m=[],g=function(e){l.forEach((function(t,n){(e!=c-o||n>=u)&&m.push(t[e])}))},y=0;y<l[0].length;y++)g(y);return a(m.length==s),m}},{key:"drawCodewords",value:function(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var n=0,r=this.size-1;r>=1;r-=2){6==r&&(r=5);for(var o=0;o<this.size;o++)for(var s=0;s<2;s++){var u=r-s,c=0==(r+1&2)?this.size-1-o:o;!this.isFunction[c][u]&&n<8*e.length&&(this.modules[c][u]=i(e[n>>>3],7-(7&n)),n++)}}a(n==8*e.length)}},{key:"applyMask",value:function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var n=0;n<this.size;n++){var r=void 0;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}},{key:"getPenaltyScore",value:function(){for(var e=0,n=0;n<this.size;n++){for(var r=!1,i=0,o=[0,0,0,0,0,0,0],s=0;s<this.size;s++)this.modules[n][s]==r?5==++i?e+=t.PENALTY_N1:i>5&&e++:(this.finderPenaltyAddHistory(i,o),r||(e+=this.finderPenaltyCountPatterns(o)*t.PENALTY_N3),r=this.modules[n][s],i=1);e+=this.finderPenaltyTerminateAndCount(r,i,o)*t.PENALTY_N3}for(var u=0;u<this.size;u++){for(var c=!1,l=0,h=[0,0,0,0,0,0,0],f=0;f<this.size;f++)this.modules[f][u]==c?5==++l?e+=t.PENALTY_N1:l>5&&e++:(this.finderPenaltyAddHistory(l,h),c||(e+=this.finderPenaltyCountPatterns(h)*t.PENALTY_N3),c=this.modules[f][u],l=1);e+=this.finderPenaltyTerminateAndCount(c,l,h)*t.PENALTY_N3}for(var d=0;d<this.size-1;d++)for(var p=0;p<this.size-1;p++){var v=this.modules[d][p];v==this.modules[d][p+1]&&v==this.modules[d+1][p]&&v==this.modules[d+1][p+1]&&(e+=t.PENALTY_N2)}var m,g=0,y=R(this.modules);try{for(y.s();!(m=y.n()).done;){g=m.value.reduce((function(e,t){return e+(t?1:0)}),g)}}catch(b){y.e(b)}finally{y.f()}var k=this.size*this.size,w=Math.ceil(Math.abs(20*g-10*k)/k)-1;return a(0<=w&&w<=9),a(0<=(e+=w*t.PENALTY_N4)&&e<=2568888),e}},{key:"getAlignmentPatternPositions",value:function(){if(1==this.version)return[];for(var e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),n=[6],r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}},{key:"finderPenaltyCountPatterns",value:function(e){var t=e[1];a(t<=3*this.size);var n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}},{key:"finderPenaltyAddHistory",value:function(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}}],[{key:"encodeText",value:function(n,r){var i=e.QrSegment.makeSegments(n);return t.encodeSegments(i,r)}},{key:"encodeBinary",value:function(n,r){var i=e.QrSegment.makeBytes(n);return t.encodeSegments([i],r)}},{key:"encodeSegments",value:function(e,n){var i,o,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=u&&u<=c&&c<=t.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");for(i=u;;i++){var f=8*t.getNumDataCodewords(i,n),d=s.getTotalBits(e,i);if(d<=f){o=d;break}if(i>=c)throw new RangeError("Data too long")}for(var p=0,v=[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH];p<v.length;p++){var m=v[p];h&&o<=8*t.getNumDataCodewords(i,m)&&(n=m)}var g,y=[],k=R(e);try{for(k.s();!(g=k.n()).done;){var w=g.value;r(w.mode.modeBits,4,y),r(w.numChars,w.mode.numCharCountBits(i),y);var b,_=R(w.getData());try{for(_.s();!(b=_.n()).done;){var x=b.value;y.push(x)}}catch(T){_.e(T)}finally{_.f()}}}catch(T){k.e(T)}finally{k.f()}a(y.length==o);var I=8*t.getNumDataCodewords(i,n);a(y.length<=I),r(0,Math.min(4,I-y.length),y),r(0,(8-y.length%8)%8,y),a(y.length%8==0);for(var E=236;y.length<I;E^=253)r(E,8,y);for(var S=[];8*S.length<y.length;)S.push(0);return y.forEach((function(e,t){return S[t>>>3]|=e<<7-(7&t)})),new t(i,n,S,l)}},{key:"getNumRawDataModules",value:function(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");var n=(16*e+128)*e+64;if(e>=2){var r=Math.floor(e/7)+2;n-=(25*r-10)*r-55,e>=7&&(n-=36)}return a(208<=n&&n<=29648),n}},{key:"getNumDataCodewords",value:function(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}},{key:"reedSolomonComputeDivisor",value:function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var n=[],r=0;r<e-1;r++)n.push(0);n.push(1);for(var i=1,a=0;a<e;a++){for(var o=0;o<n.length;o++)n[o]=t.reedSolomonMultiply(n[o],i),o+1<n.length&&(n[o]^=n[o+1]);i=t.reedSolomonMultiply(i,2)}return n}},{key:"reedSolomonComputeRemainder",value:function(e,n){var r,i=n.map((function(e){return 0})),a=R(e);try{var o=function(){var e=r.value^i.shift();i.push(0),n.forEach((function(n,r){return i[r]^=t.reedSolomonMultiply(n,e)}))};for(a.s();!(r=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return i}},{key:"reedSolomonMultiply",value:function(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");for(var n=0,r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return a(n>>>8==0),n}}]),t}(),n=t;function r(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(var r=t-1;r>=0;r--)n.push(e>>>r&1)}function i(e,t){return 0!=(e>>>t&1)}function a(e){if(!e)throw new Error("Assertion error")}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;var o=function(){function e(t,n,r){if(v(this,e),this.mode=t,this.numChars=n,this.bitData=r,n<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}return k(e,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(t){var n,i=[],a=R(t);try{for(a.s();!(n=a.n()).done;){r(n.value,8,i)}}catch(o){a.e(o)}finally{a.f()}return new e(e.Mode.BYTE,t.length,i)}},{key:"makeNumeric",value:function(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");for(var n=[],i=0;i<t.length;){var a=Math.min(t.length-i,3);r(parseInt(t.substr(i,a),10),3*a+1,n),i+=a}return new e(e.Mode.NUMERIC,t.length,n)}},{key:"makeAlphanumeric",value:function(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");var n,i=[];for(n=0;n+2<=t.length;n+=2){var a=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n));r(a+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),11,i)}return n<t.length&&r(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6,i),new e(e.Mode.ALPHANUMERIC,t.length,i)}},{key:"makeSegments",value:function(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}},{key:"makeEci",value:function(t){var n=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)r(t,8,n);else if(t<16384)r(2,2,n),r(t,14,n);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");r(6,3,n),r(t,21,n)}return new e(e.Mode.ECI,0,n)}},{key:"isNumeric",value:function(t){return e.NUMERIC_REGEX.test(t)}},{key:"isAlphanumeric",value:function(t){return e.ALPHANUMERIC_REGEX.test(t)}},{key:"getTotalBits",value:function(e,t){var n,r=0,i=R(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.mode.numCharCountBits(t);if(a.numChars>=1<<o)return 1/0;r+=4+o+a.bitData.length}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"toUtf8ByteArray",value:function(e){e=encodeURI(e);for(var t=[],n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}}]),e}(),s=o;s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=s}(LV||(LV={})),function(e){var t=k((function e(t,n){v(this,e),this.ordinal=t,this.formatBits=n})),n=t;n.LOW=new t(0,1),n.MEDIUM=new t(1,0),n.QUARTILE=new t(2,3),n.HIGH=new t(3,2),e.Ecc=n}((MV=LV||(LV={})).QrCode||(MV.QrCode={})),function(e){!function(e){var t=function(){function e(t,n){v(this,e),this.modeBits=t,this.numBitsCharCount=n}return k(e,[{key:"numCharCountBits",value:function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}]),e}(),n=t;n.NUMERIC=new t(1,[10,12,14]),n.ALPHANUMERIC=new t(2,[9,11,13]),n.BYTE=new t(4,[8,16,16]),n.KANJI=new t(8,[8,10,12]),n.ECI=new t(7,[0,0,0]),e.Mode=n}(e.QrSegment||(e.QrSegment={}))}(LV||(LV={}));var YV=LV,$V={L:YV.QrCode.Ecc.LOW,M:YV.QrCode.Ecc.MEDIUM,Q:YV.QrCode.Ecc.QUARTILE,H:YV.QrCode.Ecc.HIGH},JV="#FFFFFF",XV="#000000",ZV=4,ez=.1;function tz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return e.forEach((function(e,r){var i=null;e.forEach((function(a,o){if(!a&&null!==i)return n.push("M".concat(i+t," ").concat(r+t,"h").concat(o-i,"v1H").concat(i+t,"z")),void(i=null);if(o!==e.length-1)a&&null===i&&(i=o);else{if(!a)return;null===i?n.push("M".concat(o+t,",").concat(r+t," h1v1H").concat(o+t,"z")):n.push("M".concat(i+t,",").concat(r+t," h").concat(o+1-i,"v1H").concat(i+t,"z"))}}))})),n.join("")}function nz(e,t){return e.slice().map((function(e,n){return n<t.y||n>=t.y+t.h?e:e.map((function(e,n){return(n<t.x||n>=t.x+t.w)&&e}))}))}function rz(e,t,n,r){if(null==r)return null;var i=n?ZV:0,a=e.length+2*i,o=Math.floor(t*ez),s=a/t,u=(r.width||o)*s,c=(r.height||o)*s,l=null==r.x?e.length/2-u/2:r.x*s,h=null==r.y?e.length/2-c/2:r.y*s,f=null;if(r.excavate){var d=Math.floor(l),p=Math.floor(h);f={x:d,y:p,w:Math.ceil(u+l-d),h:Math.ceil(c+h-p)}}return{x:l,y:h,h:c,w:u,excavation:f}}var iz=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}();function az(e){var n=e,r=n.value,i=n.size,a=void 0===i?128:i,o=n.level,s=void 0===o?"L":o,u=n.bgColor,l=void 0===u?JV:u,h=n.fgColor,f=void 0===h?XV:h,d=n.includeMargin,p=void 0!==d&&d,v=n.style,m=n.imageSettings,g=QV(n,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),y=null==m?void 0:m.src,k=(0,t.useRef)(null),w=(0,t.useRef)(null),b=c((0,t.useState)(!1),2),_=(b[0],b[1]);(0,t.useEffect)((function(){if(null!=k.current){var e=k.current,t=e.getContext("2d");if(!t)return;var n=YV.QrCode.encodeText(r,$V[s]).getModules(),i=p?ZV:0,o=n.length+2*i,u=rz(n,a,p,m),c=w.current,h=null!=u&&null!==c&&c.complete&&0!==c.naturalHeight&&0!==c.naturalWidth;h&&null!=u.excavation&&(n=nz(n,u.excavation));var d=window.devicePixelRatio||1;e.height=e.width=a*d;var v=a/o*d;t.scale(v,v),t.fillStyle=l,t.fillRect(0,0,o,o),t.fillStyle=f,iz?t.fill(new Path2D(tz(n,i))):n.forEach((function(e,n){e.forEach((function(e,r){e&&t.fillRect(r+i,n+i,1,1)}))})),h&&t.drawImage(c,u.x+i,u.y+i,u.w,u.h)}})),(0,t.useEffect)((function(){_(!1)}),[y]);var x=GV({height:a,width:a},v),I=null;return null!=y&&(I=t.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:function(){_(!0)},ref:w})),t.createElement(t.Fragment,null,t.createElement("canvas",GV({style:x,height:a,width:a,ref:k},g)),I)}var oz,sz=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=(0,t.useRef)(),a=(0,et.jsx)(az,{id:"qrCode",value:n,size:300,bgColor:"#ffff",level:"H"});return(0,et.jsxs)("section",{className:" mx-auto mt-5",children:[(0,et.jsx)("h1",{className:"text-center mt-4 text-4xl font-semibold mb-5",children:"Generate Your RES QR"}),(0,et.jsxs)("div",{className:"qrcode__container",children:[(0,et.jsx)("div",{className:"flex justify-center align-middle",children:(0,et.jsx)("div",{className:" ",ref:i,children:a})}),(0,et.jsx)("div",{className:"input__group text-center pt-4",children:(0,et.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=i.current.querySelector("canvas").toDataURL("image/png"),n=document.createElement("a");n.href=t,n.download="qr-code.png",document.body.appendChild(n),n.click(),document.body.removeChild(n),r("")},children:[(0,et.jsxs)("div",{className:" xl:w-[350px] mx-auto rounded-lg",children:[(0,et.jsx)("labe",{className:"",children:"Enter URL"}),(0,et.jsx)("input",{className:"p-4 outline-none mx-5 ",type:"text",value:n,onChange:function(e){r(e.target.value)},placeholder:"https://hackernoon.com"})]}),(0,et.jsx)("button",{type:"submit",disabled:!n,className:"bg-blue-600 p-3 rounded-lg text-white mt-5 mb-5",children:"Download QR code"})]})})]})]})},uz={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},cz=new Uint8Array(16);function lz(){if(!oz&&!(oz="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oz(cz)}for(var hz=[],fz=0;fz<256;++fz)hz.push((fz+256).toString(16).slice(1));function dz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return hz[e[t+0]]+hz[e[t+1]]+hz[e[t+2]]+hz[e[t+3]]+"-"+hz[e[t+4]]+hz[e[t+5]]+"-"+hz[e[t+6]]+hz[e[t+7]]+"-"+hz[e[t+8]]+hz[e[t+9]]+"-"+hz[e[t+10]]+hz[e[t+11]]+hz[e[t+12]]+hz[e[t+13]]+hz[e[t+14]]+hz[e[t+15]]}var pz=function(e,t,n){if(uz.randomUUID&&!t&&!e)return uz.randomUUID();var r=(e=e||{}).random||(e.rng||lz)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return dz(r)},vz=function(){var e=c((0,t.useState)(" "),2),n=e[0],r=e[1],i=c((0,t.useState)(" "),2),a=i[0],o=i[1],s=c((0,t.useState)(""),2),u=s[0],l=s[1],h=function(e){var t,n;(function(e,t,n){return Ts(e=ln(e),t,n)})((t=UV,n="files/".concat(pz()),Ps(t=ln(t),n)),e.target.files[0]).then((function(e){console.log(e,"imgref"),function(e){return Cs(e=ln(e))}(e.ref).then((function(e){l(e)}))}))},f=xj(jV,"CRUD"),d=function(){var e=at(rt().mark((function e(){return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XU(f,{txtVal:n,txtPrice:a,imgUrl:u});case 2:alert("ok");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,et.jsx)("section",{children:(0,et.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col py-12 sm:px-6 lg:px-8 px-6",children:[(0,et.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,et.jsx)("img",{className:"mx-auto h-10 w-auto",src:Ze,alt:"Workflow"}),(0,et.jsx)("h2",{className:"mt-6 text-center text-3xl leading-9 font-extrabold text-gray-900",children:"Add The New Food"})]}),(0,et.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,et.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,et.jsxs)("form",{children:[(0,et.jsxs)("div",{children:[(0,et.jsx)("label",{for:"email",className:"block text-sm font-medium leading-5  text-gray-700",children:"Name"}),(0,et.jsxs)("div",{class:"mt-1 relative rounded-md shadow-sm",children:[(0,et.jsx)("input",{value:n,id:"name",name:"name",type:"text",required:"",onChange:function(e){return r(e.target.value)},className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5"}),(0,et.jsx)("div",{className:"hidden absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,et.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,et.jsx)("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})})})]})]}),(0,et.jsxs)("div",{className:"mt-6",children:[(0,et.jsx)("label",{for:"password",className:"block text-sm font-medium leading-5 text-gray-700",children:"Price"}),(0,et.jsx)("div",{class:"mt-1 rounded-md shadow-sm",children:(0,et.jsx)("input",{value:a,onChange:function(e){return o(e.target.value)},id:"price",name:"price",type:"text",required:"",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5"})})]}),(0,et.jsxs)("div",{className:"mt-6",children:[(0,et.jsx)("label",{for:"password",className:"block text-sm font-medium leading-5 text-gray-700",children:"Image"}),(0,et.jsx)("div",{class:"mt-1 rounded-md shadow-sm",children:(0,et.jsx)("input",{onChange:function(e){return h(e)},id:"img",name:"img",type:"file",required:"",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5"})})]}),(0,et.jsx)("div",{className:"mt-6",children:(0,et.jsx)("span",{className:"block w-full rounded-md shadow-sm",children:(0,et.jsx)("button",{type:"button",onClick:d,className:"w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-500 hover:bg-blue-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out",children:"Upload"})})})]})})})]})})},mz=function(){return(0,et.jsx)("section",{class:" ",id:"contact",children:(0,et.jsxs)("div",{class:"mx-auto max-w-7xl px-4 py-5 sm:px-6 lg:px-8 ",children:[(0,et.jsx)("div",{class:"mb-4",children:(0,et.jsx)("div",{class:"mb-6 max-w-3xl text-center sm:text-center md:mx-auto md:mb-12",children:(0,et.jsx)("h2",{class:"font-heading mb-4 font-bold tracking-tight text-gray-900 text-3xl sm:text-5xl",children:"Contact Us"})})}),(0,et.jsx)("div",{class:"flex items-stretch justify-center",children:(0,et.jsxs)("div",{class:"grid md:grid-cols-2",children:[(0,et.jsx)("div",{class:"h-full pr-6",children:(0,et.jsx)("img",{src:"https://vunetsystems.com/wp-content/uploads/2022/06/Contact-Us-animation.gif",alt:""})}),(0,et.jsx)("div",{class:"card h-fit max-w-6xl p-5 md:p-12",id:"form",children:(0,et.jsxs)("form",{id:"contactForm mb-6",children:[(0,et.jsxs)("div",{class:"mb-6",children:[(0,et.jsxs)("div",{class:"mx-0 mb-1 sm:mb-4",children:[(0,et.jsxs)("div",{class:"mx-0 mb-1 sm:mb-4",children:[(0,et.jsx)("label",{for:"name",class:"pb-1 text-xs uppercase tracking-wider"}),(0,et.jsx)("input",{type:"text",id:"name",autocomplete:"given-name",placeholder:"Your name",class:"mb-2 w-full rounded-md border border-gray-400 py-2 pl-2 pr-4 shadow-md dark:text-gray-300 sm:mb-0",name:"name"})]}),(0,et.jsxs)("div",{class:"mx-0 mb-1 sm:mb-4",children:[(0,et.jsx)("label",{for:"email",class:"pb-1 text-xs uppercase tracking-wider"}),(0,et.jsx)("input",{type:"email",id:"email",autocomplete:"email",placeholder:"Your email address",class:"mb-2 w-full rounded-md border border-gray-400 py-2 pl-2 pr-4 shadow-md dark:text-gray-300 sm:mb-0",name:"email"})]})]}),(0,et.jsxs)("div",{class:"mx-0 mb-1 sm:mb-4",children:[(0,et.jsx)("label",{for:"textarea",class:"pb-1 text-xs uppercase tracking-wider"}),(0,et.jsx)("textarea",{id:"textarea",name:"textarea",cols:"30",rows:"5",placeholder:"Write your message...",class:"mb-2 w-full rounded-md border border-gray-400 py-2 pl-2 pr-4 shadow-md dark:text-gray-300 sm:mb-0"})]})]}),(0,et.jsx)("div",{class:"text-center",children:(0,et.jsx)("button",{type:"submit",class:"w-full bg-blue-800 text-white px-6 py-3 font-xl rounded-md sm:mb-0",children:"Send Message"})})]})})]})})]})})};function gz(){return(0,et.jsx)("div",{children:(0,et.jsxs)(Ge,{children:[(0,et.jsx)(V_,{}),(0,et.jsx)(tt,{}),(0,et.jsxs)(Ue,{children:[(0,et.jsx)(Fe,{path:"/",exact:!0,Component:Z_}),(0,et.jsx)(Fe,{path:"/Create",exact:!0,Component:v_}),(0,et.jsx)(Fe,{path:"/Food",index:!0,Component:VV}),(0,et.jsx)(Fe,{path:"/res",index:!0,Component:zV}),(0,et.jsx)(Fe,{path:"/Qrcode",index:!0,Component:sz}),(0,et.jsx)(Fe,{path:"/Add",index:!0,Component:vz}),(0,et.jsx)(Fe,{path:"/Contact",index:!0,Component:mz}),(0,et.jsx)(Fe,{path:"/About",exact:!0,Component:d_}),(0,et.jsx)(Fe,{path:"/login",exact:!0,Component:u_}),(0,et.jsx)(Fe,{path:"/signup",exact:!0,Component:p_})]}),(0,et.jsx)(nt,{})]})})}var yz=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},kz={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},wz=function(){function e(t){v(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(t,n)}return k(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||kz,this.options=t,this.debug=t.debug}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,In(In({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),bz=new wz,_z=function(){function e(){v(this,e),this.observers={}}return k(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function xz(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function Iz(e){return null==e?"":""+e}function Ez(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}for(var a="string"!==typeof t?[].concat(t):t.split(".");a.length>1;){if(i())return{};var o=r(a.shift());!e[o]&&n&&(e[o]=new n),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return i()?{}:{obj:e,k:r(a.shift())}}function Sz(e,t,n){var r=Ez(e,t,Object);r.obj[r.k]=n}function Tz(e,t){var n=Ez(e,t),r=n.obj,i=n.k;if(r)return r[i]}function Cz(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):Cz(e[r],t[r],n):e[r]=t[r]);return e}function Nz(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Rz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Pz(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return Rz[e]})):e}var Az=[" ",",","?","!",";"];function Dz(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,a=0;a<r.length;++a){if(!i)return;if("string"===typeof i[r[a]]&&a+1<r.length)return;if(void 0===i[r[a]]){for(var o=2,s=r.slice(a,a+o).join(n),u=i[s];void 0===u&&r.length>a+o;)o++,u=i[s=r.slice(a,a+o).join(n)];if(void 0===u)return;if(null===u)return null;if(t.endsWith(s)){if("string"===typeof u)return u;if(s&&"string"===typeof u[s])return u[s]}var c=r.slice(a+o).join(n);return c?Dz(u,c,n):void 0}i=i[r[a]]}return i}}function Oz(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}var Lz=function(e){b(n,e);var t=S(n);function n(e){var r;v(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(r=t.call(this)).data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return k(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,t];n&&"string"!==typeof n&&(o=o.concat(n)),n&&"string"===typeof n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split("."));var s=Tz(this.data,o);return s||!a||"string"!==typeof n?s:Dz(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(r=t,t=(o=e.split("."))[1]),this.addNamespaces(t),Sz(this.data,o,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var s=Tz(this.data,o)||{};r?Cz(s,n,i):s=In(In({},s),n),Sz(this.data,o,s),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?In(In({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(_z),Mz={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,i))})),t}},Fz={},jz=function(e){b(n,e);var t=S(n);function n(e){var r;v(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,I(r=t.call(this))),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=bz.create("translator"),r}return k(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";var r=Az.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),a=!i.test(e);if(!a){var o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(a=!0)}return a}(e,n,r);if(a&&!o){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof t&&(t=In({},t)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),u=s.key,c=s.namespaces,l=c[c.length-1],h=t.lng||this.language,f=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(f){var d=t.nsSeparator||this.options.nsSeparator;return a?{res:"".concat(l).concat(d).concat(u),usedKey:u,exactUsedKey:u,usedLng:h,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:"".concat(l).concat(d).concat(u)}return a?{res:u,usedKey:u,exactUsedKey:u,usedLng:h,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:u}var p=this.resolve(e,t),v=p&&p.res,m=p&&p.usedKey||u,g=p&&p.exactUsedKey||u,y=Object.prototype.toString.apply(v),k=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&v&&("string"!==typeof v&&"boolean"!==typeof v&&"number"!==typeof v)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!==typeof k||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,In(In({},t),{},{ns:c})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return a?(p.res=b,p.usedParams=this.getUsedParamsDetails(t),p):b}if(o){var _="[object Array]"===y,x=_?[]:{},I=_?g:m;for(var E in v)if(Object.prototype.hasOwnProperty.call(v,E)){var S="".concat(I).concat(o).concat(E);x[E]=this.translate(S,In(In({},t),{joinArrays:!1,ns:c})),x[E]===S&&(x[E]=v[E])}v=x}}else if(w&&"string"===typeof k&&"[object Array]"===y)(v=v.join(k))&&(v=this.extendTranslation(v,e,t,r));else{var T=!1,C=!1,N=void 0!==t.count&&"string"!==typeof t.count,R=n.hasDefaultValue(t),P=N?this.pluralResolver.getSuffix(h,t.count,t):"",A=t.ordinal&&N?this.pluralResolver.getSuffix(h,t.count,{ordinal:!1}):"",D=t["defaultValue".concat(P)]||t["defaultValue".concat(A)]||t.defaultValue;!this.isValidLookup(v)&&R&&(T=!0,v=D),this.isValidLookup(v)||(C=!0,v=u);var O=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:v,L=R&&D!==v&&this.options.updateMissing;if(C||T||L){if(this.logger.log(L?"updateKey":"missingKey",h,l,u,L?D:v),o){var M=this.resolve(u,In(In({},t),{},{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var F=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var U=0;U<j.length;U++)F.push(j[U]);else"all"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(t.lng||this.language):F.push(t.lng||this.language);var V=function(e,n,r){var a=R&&r!==v?r:O;i.options.missingKeyHandler?i.options.missingKeyHandler(e,l,n,a,L,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,l,n,a,L,t),i.emit("missingKey",e,l,n,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?F.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){V([e],u+n,t["defaultValue".concat(n)]||D)}))})):V(F,u,D))}v=this.extendTranslation(v,e,t,p,r),C&&v===u&&this.options.appendNamespaceToMissingKey&&(v="".concat(l,":").concat(u)),(C||T)&&this.options.parseMissingKeyHandler&&(v="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(u):u,T?v:void 0):this.options.parseMissingKeyHandler(v))}return a?(p.res=v,p.usedParams=this.getUsedParamsDetails(t),p):v}},{key:"extendTranslation",value:function(e,t,n,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,In(In({},this.options.interpolation.defaultVariables),n),n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(In(In({},n),{interpolation:In(In({},this.options.interpolation),n.interpolation)}));var o,s="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var u=e.match(this.interpolator.nestingRegexp);o=u&&u.length}var c=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=In(In({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var l=e.match(this.interpolator.nestingRegexp);o<(l&&l.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&i[0]===r[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):a.translate.apply(a,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,f="string"===typeof h?[h]:h;return void 0!==e&&null!==e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=Mz.handle(f,e,t,this.options&&this.options.postProcessPassResolved?In({i18nResolved:In(In({},r),{},{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,a,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!o.isValidLookup(t)){var u=o.extractFromKey(e,s),c=u.key;n=c;var l=u.namespaces;o.options.fallbackNS&&(l=l.concat(o.options.fallbackNS));var h=void 0!==s.count&&"string"!==typeof s.count,f=h&&!s.ordinal&&0===s.count&&o.pluralResolver.shouldUseIntlApi(),d=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);l.forEach((function(e){o.isValidLookup(t)||(a=e,!Fz["".concat(p[0],"-").concat(e)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(a)&&(Fz["".concat(p[0],"-").concat(e)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!o.isValidLookup(t)){i=n;var a,u=[c];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(u,c,n,e,s);else{var l;h&&(l=o.pluralResolver.getSuffix(n,s.count,s));var p="".concat(o.options.pluralSeparator,"zero"),v="".concat(o.options.pluralSeparator,"ordinal").concat(o.options.pluralSeparator);if(h&&(u.push(c+l),s.ordinal&&0===l.indexOf(v)&&u.push(c+l.replace(v,o.options.pluralSeparator)),f&&u.push(c+p)),d){var m="".concat(c).concat(o.options.contextSeparator).concat(s.context);u.push(m),h&&(u.push(m+l),s.ordinal&&0===l.indexOf(v)&&u.push(m+l.replace(v,o.options.pluralSeparator)),f&&u.push(m+p))}}for(;a=u.pop();)o.isValidLookup(t)||(r=a,t=o.getResource(n,e,a,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:a}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}},{key:"getUsedParamsDetails",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&"string"!==typeof e.replace,n=t?e.replace:e;if(t&&"undefined"!==typeof e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n=In(In({},this.options.interpolation.defaultVariables),n)),!t){n=In({},n);var r,i=R(["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]);try{for(i.s();!(r=i.n()).done;){delete n[r.value]}}catch(a){i.e(a)}finally{i.f()}}return n}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}(_z);function Uz(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Vz=function(){function e(t){v(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=bz.create("languageUtils")}return k(e,[{key:"getScriptPartFromCode",value:function(e){if(!(e=Oz(e))||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!(e=Oz(e))||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Uz(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Uz(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Uz(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"===typeof e&&a(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&a(n.formatLanguageCode(e))})),i}}]),e}(),zz=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Bz={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},qz=["v1","v2","v3"],Wz=["v4"],Hz={zero:0,one:1,two:2,few:3,many:4,other:5};var Kz=function(){function e(t){v(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=bz.create("pluralResolver"),this.options.compatibilityJSON&&!Wz.includes(this.options.compatibilityJSON)||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){var e={};return zz.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:Bz[t.fc]}}))})),e}()}return k(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Oz(e),{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return Hz[e]-Hz[t]})).map((function(e){return"".concat(t.options.prepend).concat(n.ordinal?"ordinal".concat(t.options.prepend):"").concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!qz.includes(this.options.compatibilityJSON)}}]),e}();function Gz(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=function(e,t,n){var r=Tz(e,n);return void 0!==r?r:Tz(t,n)}(e,t,n);return!a&&i&&"string"===typeof n&&void 0===(a=Dz(e,n,r))&&(a=Dz(t,n,r)),a}var Qz=function(){function e(){v(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=bz.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return k(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Pz,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Nz(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Nz(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Nz(t.nestingPrefix):t.nestingPrefixEscaped||Nz("$t("),this.nestingSuffix=t.nestingSuffix?Nz(t.nestingSuffix):t.nestingSuffixEscaped||Nz(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,a,o,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var i=Gz(t,u,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(i,void 0,n,In(In(In({},r),t),{},{interpolationkey:e})):i}var a=e.split(s.formatSeparator),o=a.shift().trim(),c=a.join(s.formatSeparator).trim();return s.format(Gz(t,u,o,s.options.keySeparator,s.options.ignoreJSONStructure),c,n,In(In(In({},r),t),{},{interpolationkey:o}))};this.resetRegExp();var h=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,d=[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}];return d.forEach((function(t){for(o=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(a=l(n)))if("function"===typeof h){var u=h(e,i,r);a="string"===typeof u?u:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))a="";else{if(f){a=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else"string"===typeof a||s.useRawValueToEscape||(a=Iz(a));var c=t.safeValue(a);if(e=e.replace(i[0],c),f?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++o>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),a="{".concat(r[1]);e=r[0];var o=(a=this.interpolate(a,i)).match(/'/g),s=a.match(/"/g);(o&&o.length%2===0&&!s||s.length%2!==0)&&(a=a.replace(/'/g,'"'));try{i=JSON.parse(a),t&&(i=In(In({},t),i))}catch(u){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),u),"".concat(e).concat(n).concat(a)}return delete i.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var u=[];(i=(i=In({},o)).replace&&"string"!==typeof i.replace?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;var c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),u=l,c=!0}if((r=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=Iz(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=u.reduce((function(e,t){return a.format(e,t,o.lng,In(In({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function Yz(e){var t={};return function(n,r,i){var a=r+JSON.stringify(i),o=t[a];return o||(o=e(Oz(r),i),t[a]=o),o(n)}}var $z=function(){function e(){v(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=bz.create("formatter"),this.options=t,this.formats={number:Yz((function(e,t){var n=new Intl.NumberFormat(e,In({},t));return function(e){return n.format(e)}})),currency:Yz((function(e,t){var n=new Intl.NumberFormat(e,In(In({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:Yz((function(e,t){var n=new Intl.DateTimeFormat(e,In({},t));return function(e){return n.format(e)}})),relativetime:Yz((function(e,t){var n=new Intl.RelativeTimeFormat(e,In({},t));return function(e){return n.format(e,t.range||"day")}})),list:Yz((function(e,t){var n=new Intl.ListFormat(e,In({},t));return function(e){return n.format(e)}}))},this.init(t)}return k(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=Yz(t)}},{key:"format",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t.split(this.formatSeparator).reduce((function(e,t){var a=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=N(e.split(":")),r=t[0],i=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=i),"false"===i&&(n[r.trim()]=!1),"true"===i&&(n[r.trim()]=!0),isNaN(i)||(n[r.trim()]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}}(t),o=a.formatName,s=a.formatOptions;if(r.formats[o]){var u=e;try{var c=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},l=c.locale||c.lng||i.locale||i.lng||n;u=r.formats[o](e,l,In(In(In({},s),i),c))}catch(qv){r.logger.warn(qv)}return u}return r.logger.warn("there was no format function for ".concat(o)),e}),e);return a}}]),e}();var Jz=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;v(this,n);var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(a=t.call(this)).backend=e,a.store=r,a.services=i,a.languageUtils=i.languageUtils,a.options=o,a.logger=bz.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,o.backend,o),a}return k(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,a={},o={},s={},u={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===o[s]&&(o[s]=!0):(i.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===a[s]&&(a[s]=!0),void 0===u[t]&&(u[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),n&&this.store.addResourceBundle(i,a,n),this.state[e]=t?-1:2;var o={};this.queue.forEach((function(n){!function(e,t,n,r){var i=Ez(e,t,Object),a=i.obj,o=i.k;a[o]=a[o]||[],r&&(a[o]=a[o].concat(n)),r||a[o].push(n)}(n.loaded,[i],a),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){o[e]||(o[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===o[e][t]&&(o[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:a,callback:o});else{this.readingCalls++;var s=function(s,u){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&u&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*a,o)}),a):o(s,u)},u=this.backend[n].bind(this.backend);if(2!==u.length)return u(e,t,s);try{var c=u(e,t);c&&"function"===typeof c.then?c.then((function(e){return s(null,e)})).catch(s):s(null,c)}catch(l){s(l)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(function(r,o){r&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(i," failed"),r),!r&&o&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(i),o),t.loaded(e,r,o)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(void 0!==n&&null!==n&&""!==n){if(this.backend&&this.backend.create){var s=In(In({},a),{},{isUpdate:i}),u=this.backend.create.bind(this.backend);if(u.length<6)try{var c;(c=5===u.length?u(e,t,n,r,s):u(e,t,n,r))&&"function"===typeof c.then?c.then((function(e){return o(null,e)})).catch(o):o(null,c)}catch(l){o(l)}else u(e,t,n,r,o,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(_z);function Xz(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===typeof e[1]&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Zz(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function eB(){}var tB=function(e){b(n,e);var t=S(n);function n(){var e;v(this,n);var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if((e=t.call(this)).options=Zz(i),e.services={},e.logger=bz,e.modules={external:[]},r=I(e),Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){"function"===typeof r[e]&&(r[e]=r[e].bind(r))})),a&&!e.isInitialized&&!i.isClone){if(!e.options.initImmediate)return e.init(i,a),E(e,I(e));setTimeout((function(){e.init(i,a)}),0)}return e}return k(n,[{key:"init",value:function(){var e=this,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"===typeof n&&(r=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"===typeof n.ns?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));var i=Xz();function a(e){return e?"function"===typeof e?new e:e:null}if(this.options=In(In(In({},i),this.options),Zz(n)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=In(In({},i.interpolation),this.options.interpolation)),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator),!this.options.isClone){var o;this.modules.logger?bz.init(a(this.modules.logger),this.options):bz.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!==typeof Intl&&(o=$z);var s=new Vz(this.options);this.store=new Lz(this.options.resources,this.options);var u=this.services;u.logger=bz,u.resourceStore=this.store,u.languageUtils=s,u.pluralResolver=new Kz(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(u.formatter=a(o),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new Qz(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new Jz(a(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(u.languageDetector=a(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=a(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new jz(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,r||(r=eB),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments),t}}));var l=xz(),h=function(){var t=function(t,n){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),l.resolve(n),r(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),l}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eB,r="string"===typeof e?e:this.language;if("function"===typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return n();var i=[],a=function(e){e&&("cimode"!==e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){"cimode"!==e&&i.indexOf(e)<0&&i.push(e)})))};if(r)a(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return a(e)}));this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(i,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=xz();return e||(e=this.languages),t||(t=this.options.ns),n||(n=eB),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Mz.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this,r=this;this.isLanguageChangingTo=e;var i=xz();this.emit("languageChanging",e);var a=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var s="string"===typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);s&&(n.language||a(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,o){o?(a(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,i.resolve((function(){return r.t.apply(r,arguments)})),t&&t(e,(function(){return r.t.apply(r,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var a;if("object"!==typeof i){for(var o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];a=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else a=In({},i);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||n||e.keyPrefix;var c,l=r.options.keySeparator||".";return c=a.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(a.keyPrefix).concat(l).concat(e)})):a.keyPrefix?"".concat(a.keyPrefix).concat(l).concat(t):t,r.t(c,a)};return"string"===typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=n.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,o);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(r,e)||i&&!o(a,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=xz();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=xz();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new Vz(Xz());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eB,i=t.forkResourceStore;i&&delete t.forkResourceStore;var a=In(In(In({},this.options),t),{isClone:!0}),o=new n(a);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));return["store","services","language"].forEach((function(t){o[t]=e[t]})),o.services=In({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i&&(o.store=new Lz(this.store.data,a),o.services.resourceStore=o.store),o.translator=new jz(o.services,a),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(a,r),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}],[{key:"createInstance",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}}]),n}(_z),nB=tB.createInstance();nB.createInstance=tB.createInstance;nB.createInstance,nB.dir,nB.init,nB.loadResources,nB.reloadResources,nB.use,nB.changeLanguage,nB.getFixedT,nB.t,nB.exists,nB.setDefaultNamespace,nB.hasLoadedNamespace,nB.loadNamespaces,nB.loadLanguages,n(399);Object.create(null);var rB=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,iB={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},aB=function(e){return iB[e]},oB={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(rB,aB)}};var sB={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};oB=In(In({},oB),e)}(e.options.react),function(e){e}(e)}};(0,t.createContext)();nB.use(sB).init({resources:{en:{translation:{"Welcome to React":"Welcome to React and react-i18next"}},fr:{translation:{"Welcome to React":"Bienvenue \xe0 React et react-i18next"}}},lng:"en",interpolation:{escapeValue:!1}});i.createRoot(document.getElementById("root")).render((0,et.jsx)(t.StrictMode,{children:(0,et.jsx)(gz,{})})),yz()}()}();
//# sourceMappingURL=main.049a57bb.js.map